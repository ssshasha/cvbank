define(["exports"],function(a){"use strict";!function(a){a.stringify=function(b){var c=typeof b;if("object"!=c||null===b)return"string"==c&&(b='"'+b+'"'),String(b);var d,e,f=[],g=b&&b.constructor==Array;for(d in b)e=b[d],c=typeof e,b.hasOwnProperty(d)&&("string"==c?e='"'+e+'"':"object"==c&&null!==e&&(e=a.stringify(e)),f.push((g?"":'"'+d+'":')+String(e)));return(g?"[":"{")+String(f)+(g?"]":"}")}}(window.jQuery||window.Zepto),function(a){function b(){}function c(a){g=[a]}function d(a,b,c){return a&&a.apply(b.context||b,c)}function e(a){return/\?/.test(a)?"&":"?"}function f(f){function n(a){X++||(Y(),S&&(A[U]={s:[a]}),O&&(a=O.apply(f,[a])),d(L,f,[a,v,f]),d(N,f,[f,v]))}function F(a){X++||(Y(),S&&a!=w&&(A[U]=a),d(M,f,[f,a]),d(N,f,[f,a]))}f=a.extend({},C,f);var G,H,I,J,K,L=f.success,M=f.error,N=f.complete,O=f.dataFilter,P=f.callbackParameter,Q=f.callback,R=f.cache,S=f.pageCache,T=f.charset,U=f.url,V=f.data,W=f.timeout,X=0,Y=b;return y&&y(function(a){a.done(L).fail(M),L=a.resolve,M=a.reject}).promise(f),f.abort=function(){!X++&&Y()},d(f.beforeSend,f,[f])===!1||X?f:(U=U||j,V=V?"string"==typeof V?V:a.param(V,f.traditional):j,U+=V?e(U)+V:j,P&&(U+=e(U)+encodeURIComponent(P)+"=?"),!R&&!S&&(U+=e(U)+"_"+(new Date).getTime()+"="),U=U.replace(/=\?(&|$)/,"="+Q+"$1"),S&&(G=A[U])?G.s?n(G.s[0]):F(G):(x[Q]=c,I=a(u)[0],I.id=m+B++,T&&(I[i]=T),D&&D.version()<11.6?(J=a(u)[0]).text="document.getElementById('"+I.id+"')."+p+"()":I[h]=h,E&&(I.htmlFor=I.id,I.event=o),I[q]=I[p]=I[r]=function(a){if(!I[s]||!/i/.test(I[s])){try{I[o]&&I[o]()}catch(b){}a=g,g=0,a?n(a[0]):F(k)}},I.src=U,Y=function(a){K&&clearTimeout(K),I[r]=I[q]=I[p]=null,z[t](I),J&&z[t](J)},z[l](I,H=z.firstChild),J&&z[l](J,H),K=W>0&&setTimeout(function(){F(w)},W)),f)}var g,h="async",i="charset",j="",k="error",l="insertBefore",m="_jqjsp",n="on",o=n+"click",p=n+k,q=n+"load",r=n+"readystatechange",s="readyState",t="removeChild",u="<script>",v="success",w="timeout",x=window,y=a.Deferred,z=a("head")[0]||document.documentElement,A={},B=0,C={callback:m,url:location.href},D=x.opera,E=!!a("<div>").html("<!--[if IE]><i><![endif]-->").find("i").length;f.setup=function(b){a.extend(C,b)},a.jsonp=f}(window.jQuery||window.Zepto),function(){function a(b,c,d){this.maxSize_=b||-1,this.debug_=c||!1,this.storage_=d||new a.BasicCacheStorage,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,this.log_("Initialized cache with size "+b)}a.Priority={LOW:1,NORMAL:2,HIGH:4},a.BasicCacheStorage=function(){this.items_={},this.count_=0},a.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},a.BasicCacheStorage.prototype.set=function(a,b){"undefined"==typeof this.get(a)&&this.count_++,this.items_[a]=b},a.BasicCacheStorage.prototype.size=function(a,b){return this.count_},a.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return"undefined"!=typeof b&&this.count_--,delete this.items_[a],b},a.BasicCacheStorage.prototype.keys=function(){var a,b=[];for(a in this.items_)b.push(a);return b},a.LocalStorageCacheStorage=function(a){this.prefix_="cache-storage."+(a||"default")+".";var b=this.prefix_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.regexp_=new RegExp("^"+b)},a.LocalStorageCacheStorage.prototype.get=function(a){var b=window.localStorage[this.prefix_+a];return b?JSON.parse(b):null},a.LocalStorageCacheStorage.prototype.set=function(a,b){window.localStorage[this.prefix_+a]=JSON.stringify(b)},a.LocalStorageCacheStorage.prototype.size=function(a,b){return this.keys().length},a.LocalStorageCacheStorage.prototype.remove=function(a){var b=this.get(a);return delete window.localStorage[this.prefix_+a],b},a.LocalStorageCacheStorage.prototype.keys=function(){var a,b=[];for(a in window.localStorage)a.match(this.regexp_)&&b.push(a.replace(this.prefix_,""));return b},a.prototype.getItem=function(a){var b=this.storage_.get(a);null!=b&&(this.isExpired_(b)?(this.removeItem(a),b=null):b.lastAccessed=(new Date).getTime());var c=b?b.value:null;return c?(this.stats_.hits++,this.log_("Cache HIT for key "+a)):(this.stats_.misses++,this.log_("Cache MISS for key "+a)),c},a._CacheItem=function(b,c,d){if(!b)throw new Error("key cannot be null or empty");this.key=b,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=a.Priority.NORMAL),this.options=d,this.lastAccessed=(new Date).getTime()},a.prototype.setItem=function(b,c,d){if(null!=this.storage_.get(b)&&this.removeItem(b),this.addItem_(new a._CacheItem(b,c,d)),this.log_("Setting key "+b),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},a.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.removeItem(a[b]);this.log_("Cache cleared")},a.prototype.getStats=function(){return this.stats_},a.prototype.toHtmlString=function(){for(var a=this.size()+" item(s) in cache<br /><ul>",b=this.storage_.keys(),c=0;c<b.length;c++){var d=this.storage_.get(b[c]);a=a+"<li>"+d.key.toString()+" = "+d.value.toString()+"</li>"}return a+="</ul>"},a.prototype.resize=function(a){this.log_("Resizing Cache from "+this.maxSize_+" to "+a);var b=this.maxSize_;this.maxSize_=a,a>0&&(0>b||b>a)&&this.size()>a&&this.purge_(),this.log_("Resizing done")},a.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.removeItem(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.removeItem(g.key)}this.log_("Purged cached")},a.prototype.addItem_=function(a,b){try{this.storage_.set(a.key,a)}catch(c){if(b)throw this.log_("Failed setting again, giving up: "+c.toString()),c;this.log_("Error adding item, purging and trying again: "+c.toString()),this.purge_(),this.addItem_(a,!0)}},a.prototype.removeItem=function(a){var b=this.storage_.remove(a);return this.log_("removed key "+a),b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},a.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c],e=this.storage_.get(d);a(d,e.value)===!0&&this.removeItem(d)}},a.prototype.size=function(){return this.storage_.size()},a.prototype.isExpired_=function(a){var b=(new Date).getTime(),c=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<b&&(c=!0),!c&&a.options.expirationSliding){var d=a.lastAccessed+1e3*a.options.expirationSliding;b>d&&(c=!0)}return c},a.prototype.log_=function(a){this.debug_};var b=window||this;"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?define("Cache",function(){return a}):b.Cache=a,a.UserDataCacheStorage=function(a){var a=a,b=document.createElement("div");b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior("#default#userdata"),this.get=function(c){b.load(a);var d=b.getAttribute(c);return d?$.parseJSON(d):null},this.set=function(c,d){b.load(a),b.setAttribute(c,$.stringify(d)),b.save(a)},this.size=function(a,c){return b.XMLDocument.documentElement.attributes.length},this.remove=function(c){b.load(a),b.removeAttribute(c),b.save(a)},this.keys=function(){b.load(a);for(var c,d=-1,e=[];c=b.XMLDocument.documentElement.attributes[++d];)e.push(c.name);return e}},window.ncCacheFactory=function(){},window.ncCacheFactory.getCache=function(b,c){if("undefined"==typeof b||parseInt(b)<=0)throw new"Invalid app id: "+b;c=c||"localStorage";var d=window.navigator.userAgent.match(/MSIE 7/),e=null;if("localStorage"==c&&(d?e=new a.UserDataCacheStorage(String(b)):"undefined"!=typeof window.localStorage&&(e=new a.LocalStorageCacheStorage(String(b)))),null==e)throw"Unsupported storage type: "+c;return new a(-1,!1,e)}}();var b,c,d,e,f={},g={};$(document).on("click.suggestor",function(a){var e=$(a.target).closest(".suggest");f[e.attr("id")]&&e.is(".suggest")||$.each(f,function(a,e){b=$(this).attr("id").split("_")[1],c=$(this).parent().find(".sugInp"),d=c.val(),d&&c.val(d.replace(/,\s*$/,"")),$(this).removeClass("slideDown"),delete f[b]})});var h=ncCacheFactory.getCache("sgtr"),i=function(){return"undefined"!=typeof Storage?!0:!1},j=function(a,b){var c=$.stringify(b);navigator.sendBeacon&&a?navigator.sendBeacon(a,c):i()&&h.setItem("sug_Tracking",b)},l=function(a,b,c,d,e,f){var g;return g="autoconcepts"==d?{type:"ac",acFor:c,sel:a,pos:b,cached:e}:"relatedConcept"==d?{type:"rc",rcFor:f,sel:a,pos:b,cached:e}:{sel:a,pos:b}},m=function(a,b,c,d,e,f,h){g[a].Events.push(l(b,c,d,e,f,h))};window.onunload=function(){$(".sugInp").each(function(a,b){var c,d=$(this),e=d.attr("trackParams"),f=d.val();e=e?$.parseJSON(e):null,e&&(f||g[e.id]&&g[e.id].Events.length?(g[e.id].Events.length||m(e.id,f,0),e.sourceId&&(g[e.id].sId=e.sourceId),e.appId&&(g[e.id].appId=e.appId),e.platform&&(g[e.id].platform=e.platform),e.formId&&(g[e.id].formId=e.formId),e.trackingSrc&&(g[e.id].trackingSrc=e.trackingSrc),c=d.attr("vertical"),c&&(g.vertical=c)):g[e.id]&&!g[e.id].Events.length&&delete g[e.id])}),$.isEmptyObject(g)||j(e,{lgData:g})};var n=function(a){if(!(a.domain||a.url.autoComplete&&a.url.relatedConcept&&a.url.checkVersion&&a.url.prefetch))throw Error("One or more mandatory parameters are missing, please refer documentation. https://github.com/saeed3e/suggestjs/blob/gh-pages/README.md");var b={url:{autoComplete:a.domain+"/suggest/autosuggest?",relatedConcept:a.domain+"/suggest/autoconcepts?",checkVersion:a.domain+"/suggest/v?",prefetch:a.domain+"/suggest/prefetch?"},relatedConcept_dataLayer:!0,autoCorrect_dataLayer:!0,maxSuggestions:15,maxHeight:300,multiSearch:!1,startSearchAfter:1,suggestOnClick:!1,whiteListSpecialChar:[],relatedCorrectionText:"Did you mean ?",relatedConceptText:"Related Skills",glbArray:!1,placeholder:!1,trackUserInteraction:!1,grouping:!0,isPrefetch:!0,source:a.data?"local":"server",scrollStyle:"",returnFocus:!0,form:!1,showDataOnFocus:!1,storageKey:{prefetchKey:"__suggest_prefetch",versionKey:"__suggest_versions"},titleForSingleBucket:"Last Searched Keywords",defaultPrefetchLookup:!0,toolTip:!1},c=$.extend(!0,{},b,a),d=function(a,b,d){if(a){var e=this,f=e.id;$.jsonp({url:a+"&callback=suggestCallback",cache:!0,callback:"suggestCallback",beforeSend:function(){d||$("#"+f+" .nLoder").show()},success:function(a){e.cached=!1,a.resultList?$.isEmptyObject(a.resultList)&&e.dropCont.hasClass("slideDown")?S.call(e):(e.dataType="autoconcepts",b(a),c.vertical=a.vertical,e.inpElm.attr("vertical",c.vertical)):a.resultConcepts?($.isEmptyObject(a.resultConcepts)?S.call(e):(e.dataType="relatedConcept",c.getRelatedConcepts&&c.getRelatedConcepts(a,e.Qry),c.relatedConcept_dataLayer&&b(a)),e.RCMaxCntr++):a.resultCorrections?($.isEmptyObject(a.resultCorrections)?S.call(e):(e.dataType="relatedConcept",c.getAutoCorrect&&c.getAutoCorrect(a,e.Qry),c.autoCorrect_dataLayer&&b(a)),e.RCMaxCntr++):b(a)},complete:function(){e.node.find(".nLoder").hide()},error:function(a,b){e.node.find(".nLoder").hide(),S.call(e)}})}},j=function(){var a=this;a.rs_kWrds=[],a.rs_kWrdsStr="";var b=c.showDataOnFocus;b&&(a.rs_kWrds=b,a.rs_kWrds.length&&(a.rs_kWrdsStr=a.rs_kWrds.join(",").replace(/\s,|,\s/g,",")));var d=c.storageKey,e=d.userCookie?getCookie(d.userCookie):!1,f=c.vertical?"&vertical="+c.vertical:"",g=K();return e?{key:d.prefetchKey+"/uId/"+e,url:c.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+"&uid="+e+f+g,keywords:a.rs_kWrdsStr}:a.rs_kWrdsStr?{key:d.prefetchKey,url:c.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+f+g,keywords:a.rs_kWrdsStr}:{key:d.prefetchKey,url:c.url.prefetch+"&"+Math.random(1,100)+"&keywords="+f+g,keywords:a.rs_kWrdsStr}},l=function(a,b){if(c.vertical=b.vertical,c.vertical){var d=b.ac,e=b.rc,f=c.category,g=c.relatedConceptCategory;for(key in d)for(k in d[key])if(f[k]){var h=k+"_"+c.vertical;d[key][h]=d[key][k],delete d[key][k]}else delete d[key][k];for(key in e)for(k in e[key])if(g[k]){var h=k+"_"+c.vertical;e[key][h]=e[key][k],delete e[key][k]}else delete e[key][k];var i=$.extend(!0,{},a.ac,d),j=$.extend(!0,{},a.rc,e)}else var i=$.extend(!0,{},a.ac,b.ac),j=$.extend(!0,{},a.rc,b.rc);return{ac:i,rc:j,ttl:b.ttl,segments:b.segments,keyword_based_data:b.keyword_based_data}},n=function(){var a=this;c.url.checkVersion+=Math.random(0,100),a.prefetchObj=j.call(a),!window.isFistCall&&c.url.prefetch&&i()&&c.isPrefetch&&(d.call(a,c.url.checkVersion,function(b){s(c.storageKey.versionKey,b);var e=h.getItem(a.prefetchObj.key);if(e)(a.prefetchObj.keywords&&e.keyword_based_data===!1||+new Date(e.ttl)-+new Date<0)&&d.call(a,a.prefetchObj.url+"&segments="+e.segments,function(b){s(a.prefetchObj.key,l(e,b))});else{var f=h.getItem(c.storageKey.prefetchKey),g=f?f.segments:"";d.call(a,a.prefetchObj.url+"&segments="+g,function(b){s(a.prefetchObj.key,b)},!0)}},!0),window.isFistCall=!0)},o=function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},p=function(a){return a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&")},q=function(a){return a=$.trim(a).toLowerCase(),a=$.trim(a.substring(a.lastIndexOf(",")+1,a.length))},r=function(a){var b=$.trim(a).replace(/,*$/g,"");return $.trim(b.substring(b.lastIndexOf(",")+1,b.length)).toLowerCase()},s=function(a,b){h.setItem(a,b)},t=function(a,b){if(this.prefetchObj){var d=h.getItem(this.prefetchObj.key);return!c.defaultPrefetchLookup||d&&d[b]&&d[b][a]||(d=h.getItem(c.storageKey.prefetchKey)),d?d[b][a]:!1}return!1},u=function(a){var b=this,d=(b.id,{}),e=a.toLowerCase(),f=new RegExp("^"+[e]+"|\\s"+[e]);for(var g in c.data[0]){var h=c.data[0][g].filter(function(a,b){return a.displayTextEn.toLowerCase().match(f)?!0:!1});d[g]=h}M.call(b,a,d)},v=function(){var a=this,b=a.inpElm.val();b&&a.inpElm.val(b.replace(/,\s*$/,""))},w=function(a){var b=this,d=b.inpElm.val(),e=d.substring(0,d.lastIndexOf(",")+1);return e=e?e+" ":"",a=$.trim(p(a).replace(/,*$/g,"")),c.multiSearch?e+a+", ":a},x=function(a,b){return $.inArray(a[0],b.find("li.sugTouple"))+1},y=function(a,b){var d=this,e=d.id,f=d.inpElm,g=a.html(),h=w.call(d,g);d.enableRC_for_onfocus=!1,h.length<c.maxlength?(f.val(h),c.trackUserInteraction&&m(e,q(h.replace(/[,\s]*$/,"")),d.posIndex,q(d.queryChar),d.dataType,d.cached,d.Qry),c.returnFocus&&o(f[0],f.val().length),b&&O.call(d,f.val()),c.onSelect&&c.onSelect(e,p(g),f,d)):c.onSelect&&c.onSelect(e,"Warning: maximum length reached",f,d)},z=function(a){var b=this,c=b.dropCont.find(a);return c=c.hasClass("category")?c.next():c},A=function(a){a&&a.find(".sAct").removeClass("sAct")},B=function(a,b){var d=this,e=a;return a="prev"==b?a.prev().hasClass("category")?a.prev().prev().length?a.prev().prev():z.call(d," li:last-child"):a.prev().length?a.prev():z.call(d," li:last-child"):a.next().length?a.next().hasClass("category")?a.next().next():a.next():z.call(d," li:first-child"),d.curElm.find(".Sarw").hasClass("sAct")?a.find(".Sarw").addClass("sAct"):a.find(".Sbtn").addClass("sAct"),A(e),c.multiSearch||d.inpElm.val(p(a.find(".Sbtn").html())),a},C=function(a,b){var d=this;return b=$("#"+a),b=b.hasClass("category")?b.next():b,b.find(".Sbtn").addClass("sAct"),c.multiSearch||d.inpElm.val(p(b.find(".Sbtn").html())),b},D=function(a,b){var d;d="object"==typeof a?a.displayTextEn:a;var e="",f="",g="",h="",i="";d=d.replace(/&amp;/gi,"&"),b.split(",")[1]&&c.multiSearch&&(b=Q(b)),b=b.replace(/[\s]+/g," ").replace(/^\s/,"").toLowerCase();var j=d,k=j.toLowerCase(),l=k.indexOf(b),m=k,n=b,o=m.indexOf(" "+n)<0?!1:m.indexOf(" "+n),p=m.indexOf("("+n)<0?!1:m.indexOf("("+n),q=m.indexOf("/"+n)<0?!1:m.indexOf("/"+n);(l>=0&&(o||p||q)||0===l)&&(l&&(o?l=o+1:p?l=p+1:q&&(l=q+1)),f=j.substr(0,l),g=j.substr(l,b.length),i=j.substr(l+b.length,j.length),h="<strong>"+i+"</strong>"),g=g?g:d;var r;r=b?f+g+h:g;var s=c.toolTip?f+g+i:"",t=c.suggestOnClick?'<div class="wrapTable"><div tabindex="-1" class="Sbtn" title="'+s+'">'+f+g+h+'</div></div><span class="Sarw"></span>':'<div tabindex="-1" class="Sbtn" title="'+s+'" style="width:100%">'+r+"</div>";return e='<li class="sugTouple">'+t+"</li>"},E=function(a,b){var d={},e=0,f="";for(var g in b)c.vertical&&(f=g+"_"+c.vertical),(a[f]||a[g])&&(d[g]=a[f]||a[g],e++);return[d,e]},F=function(a,b,d){var e,f,g=this,h="";e="resultConcepts"==d?c.relatedConceptCategory:c.category,f=!d&&c.showTitleForSingleBucket?E(b,{rs:"rs"}):E(b,e);var i=f[1];b=f[0],a=a.replace(/&amp;/gi,"&");for(var j in b){var k="",l=0;for(var m in b[j])if(d||l++<<c.maxSuggestions){var n=g.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase();if(-1!=n.indexOf(",")&&-1!=$.inArray(b[j][m].displayTextEn.toLowerCase(),n.split(",")))continue;k+=D.call(g,b[j][m],a)}k&&i>1?h+=c.grouping?'<li class="category '+j+'">'+(c.category[j]?c.category[j]:j)+"</li>"+k:k:!d&&c.showTitleForSingleBucket?h+='<li class="category '+j+'">Last Searched Keywords</li>'+k:h=k}return $.isEmptyObject(b)||("resultCorrections"==d?h='<li class="category">'+c.relatedCorrectionText+"</li>"+h:"resultConcepts"==d&&(h='<li class="category">'+c.relatedConceptText+"</li>"+h)),h},G=function(){var a=_t.inpElm;c.placeholderTxt=a?a[0].getAttribute("placeholder"):"",a.val(c.placeholderTxt).css({color:"#8B8B8B"})},H=function(){_t.inpElm.val("").css({color:"#444"})},I=function(a){var b=this;M.call(b,b.queryChar,a.resultList,"autoComplete")},J=function(a){var b,d="";b=a?c.relatedConceptCategory:c.category;for(var e in b)d+=e+",";return d.replace(/,$/g,"")},K=function(){return $.isEmptyObject(c.qParams)?"":"&"+$.param(c.qParams)},L=function(a,b,d){var e=this,f="",g=c.appId?"&appId="+c.appId:"",j=c.sourceId?"&sourceId="+c.sourceId:"",k=new RegExp("[^a-zA-Z0-9,\\s"+c.whiteListSpecialChar+"]","g");if(e.Qry=b.replace(k,""),e.Qry){if(i()&&e.prefetchObj)var l=h.getItem(c.storageKey.versionKey),f=l?"&version="+l.suggester_v:"";return a+"query="+encodeURIComponent(e.Qry)+g+"&vertical="+c.vertical+"&category="+J.call(e,d)+"&limit="+c.maxSuggestions+j+f+K()}return!1},M=function(a,b,c){var d=this;d.curElm=void 0;var e=F.call(d,Q(a),b,c);e?(d.dropCont.find("ul").html(e),T.call(d)):S.call(d)},N=function(a){var b=this;if(c.multiSearch&&(a=Q(a)),a){var e=L.call(b,c.url.autoComplete,a,!1);d.call(b,e,function(a){I.call(b,a)})}},O=function(a){var b=this,e=Q(a),f=P.call(b,e,"rc",c.relatedConceptCategory);if(f[0])S.call(b),b.dataType="relatedConcept",M.call(b,e,f[1],"resultConcepts"),b.RCMaxCntr++;else{S.call(b);var g=L.call(b,c.url.relatedConcept,e,!0);d.call(b,g,function(a){for(var c in a);M.call(b,e,a[c],c)})}},P=function(a,b,c){var d,e=0;if(a&&i()&&(d=t.call(this,a,b)))for(var f in c)d[f]&&(e=1,this.cached=!0);return[e,d]},Q=function(a){var b=$.trim(a).replace(/,*$/g,"").toLowerCase();return $.trim(b.substring(b.lastIndexOf(",")+1,b.length))},R=function(){var a,b=this;return function(d){var e,f;$(this);$(d.target).hasClass("Sarw")?(e=$(d.target).parents("li"),a=!0):($(d.target).hasClass("Sbtn")||$(d.target).is("strong"))&&(e=$(d.target).closest("li"),a=c.suggestOnClick?!1:!0),f=e.find(".Sbtn"),(!c.relatedConceptCategory||b.RCMaxCntr>=c.relatedConceptsLimit-1)&&(a=!1,S.call(b)),b.posIndex=x(e,b.dropCont),c.suggestOnClick&&S.call(b),setTimeout(function(){y.call(b,f,a)},50)}},S=function(){var a=this,b=a.id;A(a.curElm),a.dropCont.removeClass("slideDown"),a.curElm="",$("#"+b).find(".sWrap").removeClass("sOpen").addClass("sHide"),delete f[b],c.onHide&&c.onHide(),setTimeout(function(){a.enableRC_for_onfocus=!0},500)},T=function(){var a=this,b=a.id;c.width?a.wth=c.width:a.wth=$(document.getElementById(b)).outerWidth()+"px",a.dropCont.css({width:a.wth}).addClass("slideDown"),$("#"+b).find(".sWrap").removeClass("sHide").addClass("sOpen"),f[b]=a.dropCont,c.onShow&&c.onShow()},U=function(){var a=this;a.dropCont.on("mouseover",".Sbtn,.Sarw,strong",function(b){$(this).hasClass("Sbtn")?$(this).addClass("sAct"):$(this).is("strong")?$(this).parent().addClass("sAct"):$(this).addClass("sAct"),A(a.curElm),a.curElm=$(this)}).mouseout(function(b){a.curElm=void 0,A($(this))})},V=function(a){var b=a.target||a.srcElement;$(b).hasClass("inpWrap")&&$(this).find(".sugInp").focus()},W=function(){var a={},b=[];for(var c in this.rs_kWrds)b.push({displayTextEn:this.rs_kWrds[c]});return a.rs=b,a},X=function(a){var b=this,d=$.trim(b.inpElm.val());b.curOpenSugg=b.id,c.showDataOnFocus&&($.trim(b.inpElm.val())||(c.category=$.extend({},c.category,{rs:"rs"}),b.rs_kWrdsStr?M.call(b,"",W.call(b)):(j.call(b),b.rs_kWrdsStr&&M.call(b,"",W.call(b))))),c.multiSearch&&d&&d!=c.placeholderTxt?($.support.placeholder?b.inpElm.val(d.replace(/[,\s]*$/,", ")):setTimeout(function(){b.inpElm.val(d.replace(/[,\s]*$/,", "))},10),c.relatedConceptCategory&&b.enableRC_for_onfocus&&b.RCMaxCntr<c.relatedConceptsLimit-1&&O.call(b,r(d))):!$.support.placeholder&&c.placeholder&&c.placeholderTxt==d&&H.call(b)},Y=function(){var a=this.val();return a.charCodeAt(a.length-1)},Z=function(a,b){var d=this,e=(a.attr("id"),b.keyCode||b.which);(0==e||229==e)&&(e=Y.call(a));var f=d.inpElm,g=d.id,h=$.trim(f.val());if(d.queryChar=h,13==e&&"block"==d.dropCont.css("display"))if(d.curElm){d.posIndex=x(d.curElm,d.dropCont);var i;!c.relatedConceptCategory||d.RCMaxCntr>=c.relatedConceptsLimit-1?(i=!1,d.RCMaxCntr++):i=c.suggestOnClick&&d.curElm.find(".Sbtn").hasClass("sAct")?!1:!0,y.call(d,d.curElm.find(".Sbtn"),i),i||S.call(d)}else S.call(d);else if(27==e)S.call(d);else if(h||8!=e&&46!=e)if(e>=48&&90>e||e>=97&&122>=e||16==e||188==e||8==e){if(b.ctrlKey&&86===e&&(h=h.replace(/,$/,""),f.val(h)),h)if("server"==c.source)if(188==e&&-1!=h.lastIndexOf(",")&&c.multiSearch)c.relatedConceptCategory&&O.call(d,r(h));else{var j=c.multiSearch?q(h):h;if(j.length>c.startSearchAfter-1){var k=P.call(d,j,"ac",c.category);k[0]?(d.dataType="autoconcepts",M.call(d,h,k[1],"autoComplete")):N.call(d,h)}}else"local"==c.source&&u.call(d,h);$("#"+g).find(".sCross").show().click(function(){d.inpElm.val("").focus(),$(this).hide(),S.call(d),d.dropCont.find("ul").html("")})}else b.ctrlKey&&39==e||b.ctrlKey&&40==e?(d.curElm.find(".Sbtn").removeClass("sAct"),d.curElm.children(".Sarw").addClass("sAct")):b.ctrlKey&&37==e||b.ctrlKey&&38==e?(d.curElm.children(".Sarw").removeClass("sAct"),d.curElm.find(".Sbtn").addClass("sAct")):d.dropCont.find("li").length&&("none"==d.dropCont.css("display")&&40==e?T.call(d):38==e?(d.curElm?d.curElm=B.call(d,d.curElm,"prev"):d.curElm=C.call(d,g+" li:last-child",d.curElm),T.call(d)):40==e&&(d.curElm?d.curElm=B.call(d,d.curElm,"next"):d.curElm=C.call(d,g+" li:first-child",d.curElm)));else $("#"+g+" .sCross").hide(),S.call(d)},_=function(a){var b=this,c=a.which||a.keyCode;if(38==c)a.preventDefault();else if(13==c)"block"==b.dropCont.css("display")&&b.curElm&&a.preventDefault();else if(9==c){if(b.curElm){var d=b.curElm.html().replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&");b.inpElm.val(w.call(b,d))}v.call(b),S.call(b)}},aa=function(a){var b,f=this;if(e=c.url.trackingURL,f.id=a.attr("id"),f.enableRC_for_onfocus=!0,f.RCMaxCntr=0,f.inpElm=a.find(".sugInp"),c.placeholderTxt=f.inpElm.attr("placeholder"),g[f.id]={},g[f.id].Events=[],c.trackUserInteraction&&(b={trackParams:$.stringify({id:f.id?f.id:"",sourceId:c.sourceId?c.sourceId:"",platform:c.platform?c.platform:"",appId:c.appId?c.appId:"",trackingSrc:c.trackingSrc?c.trackingSrc:""})}),f.inpElm.attr($.extend({autocomplete:"off"},b)),c.maxlength=f.inpElm.attr("maxlength")||1e4,f.dropCont=$('<div class="sugCont '+c.scrollStyle+'" id="sugDrp_'+f.id+'">').append('<ul class="Sdrop"></ul>'),a.append(f.dropCont),!c.placeholder||$.support.placeholder||$.trim(f.inpElm.val())||G.call(this),f.inpElm.focus(function(){X.call(f)}).keyup(function(a){Z.call(f,$(this),a)}).keydown(function(a){f.curOpenSugg||(f.curOpenSugg=f.id),_.call(f,a)}),a.find(".sWrap").click(V),U.call(f),f.dropCont.on("click",".sugTouple",R.call(f)),n.call(f),c.trackUserInteraction&&i()&&e){var j=h.getItem("sug_Tracking");j&&d.call(f,e+"?lgData="+$.stringify(j),function(){h.removeItem("sug_Tracking")})}},ba=function(a){this.node=a,aa.call(this,a),this.setTrackingObject=m},ca=$(c.trigger),da=ca.data("suggestor");return da||ca.each(function(a,b){var c=$(b);da=new ba(c),c.data("suggestor",da)}),da};a.suggestor=n,Object.defineProperty(a,"__esModule",{value:!0})});