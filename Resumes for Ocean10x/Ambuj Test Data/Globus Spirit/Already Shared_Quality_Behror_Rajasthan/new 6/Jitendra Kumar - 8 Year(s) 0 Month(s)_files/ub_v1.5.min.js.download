!function(){"use strict";function a(a){var b=Z("uniqueDid");return b?b:(Y("uniqueDid",a),a)}function b(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}function c(a){var b=ua.call(a,wa),c=a[wa];try{a[wa]=void 0}catch(d){}var e=va.call(a);return b?a[wa]=c:delete a[wa],e}function d(a){return ya.call(a)}function e(a){return null==a?void 0===a?Aa:za:Ba&&Ba in Object(a)?c(a):d(a)}function f(a,b){return function(c){return a(b(c))}}function g(a){return null!=a&&"object"==typeof a}function h(a){if(!g(a)||e(a)!=Da)return!1;var b=Ca(a);if(null===b)return!0;var c=Ha.call(b,"constructor")&&b.constructor;return"function"==typeof c&&c instanceof c&&Ga.call(c)==Ia}function i(a){var b,c=a.Symbol;return"function"==typeof c?c.observable?b=c.observable:(b=c("observable"),c.observable=b):b="@@observable",b}function j(a,b,c){function d(){p===o&&(p=o.slice())}function e(){return n}function f(a){if("function"!=typeof a)throw new Error("Expected listener to be a function.");var b=!0;return d(),p.push(a),function(){if(b){b=!1,d();var c=p.indexOf(a);p.splice(c,1)}}}function g(a){if(!h(a))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof a.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(q)throw new Error("Reducers may not dispatch actions.");try{q=!0,n=m(n,a)}finally{q=!1}for(var b=o=p,c=0;c<b.length;c++){var d=b[c];d()}return a}function i(a){if("function"!=typeof a)throw new Error("Expected the nextReducer to be a function.");m=a,g({type:Ka.INIT})}function k(){var a,b=f;return a={subscribe:function(a){function c(){a.next&&a.next(e())}if("object"!=typeof a)throw new TypeError("Expected the observer to be an object.");c();var d=b(c);return{unsubscribe:d}}},a[Ja]=function(){return this},a}var l;if("function"==typeof b&&"undefined"==typeof c&&(c=b,b=void 0),"undefined"!=typeof c){if("function"!=typeof c)throw new Error("Expected the enhancer to be a function.");return c(j)(a,b)}if("function"!=typeof a)throw new Error("Expected the reducer to be a function.");var m=a,n=b,o=[],p=o,q=!1;return g({type:Ka.INIT}),l={dispatch:g,subscribe:f,getState:e,replaceReducer:i},l[Ja]=k,l}var k,l="RESET",m="ADD_PENDINGEVENT",n="REMOVE_PENDINGEVENT",o="UPDATE_PENDINGEVENT_STATUS",p="UPDATE_SUPERPROPS",q="RESET_SUPERPROPS",r="REHYDRATE",s="SET_BLACKLIST_EVENTNAMES",t="START_EVENT_QUEUE",u="FLUSH_EVENT_QUEUE",v=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},w=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),x=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},y=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},z=function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)},A=function(a,b){return{type:m,payload:y({eventName:a},b)}},B=function(a){return{type:n,payload:{eventId:a}}},C=function(a,b){return{type:o,payload:{eventId:a,status:b}}},D=function(a){return{type:p,payload:{properties:a}}},E=function(){return{type:q}},F=function(){return{type:l}},G=function(a){return{type:s,payload:{eventNames:a}}},H=function(){return{type:t}},I=function(){return{type:u}},J=null,K=function(a){J=a},L=function(){return J},M=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L().dispatch(D(a))},N=function(){L().dispatch(E())},O=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};L().dispatch(A(a,b))},P=function(){var a=new XMLHttpRequest;a.open("GET","/commonConfig"),a.setRequestHeader("Accept","application/json"),a.send(),a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var b=JSON.parse(a.response).blackList;L().dispatch(G(b)),L().dispatch(I())}},L().dispatch(H())},Q=function(){var a=function(a){var b=new RegExp(a+"=([^&])*"),c=window.location.search.match(b);return c&&2===c.length?c[0].split(a+"=").pop():null},b={utmTerm:a("utmTerm")||a("utm_term"),utmContent:a("utmContent")||a("utm_content"),utmSource:a("utmSource")||a("utm_source"),utmMedium:a("utmMedium")||a("utm_medium"),utmCampaign:a("utmCampaign")||a("utm_campaign")};return b},R=function(){return window.location.hostname.indexOf("arabic.")>=0?"ar":"en"},S=Object.freeze({register:M,unRegister:N,track:O,onRouteChange:P,getUtmPropertyObject:Q,getLanguage:R}),T={keyPrefix:"ub"},U=function(a){return a+"_"+T.keyPrefix},V=function(a,b){localStorage.setItem(U(a),JSON.stringify(b))},W=function(a){return JSON.parse(localStorage.getItem(U(a)))},X=function(a){localStorage.removeItem(U(a))},Y=function(a,b){V(a,b)},Z=function(a){return W(a)},$=function(a){X(a)},_=function(a){for(var b=a+"=",c=decodeURIComponent(document.cookie),d=c.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1);if(0==f.indexOf(b))return f.substring(b.length,f.length)}return""},aa={keyName:"ubStore",version:4},ba={loading:3,done:4,unsent:0,failure:"failure"},ca={utmTerm:null,utmSource:null,utmContent:null,utmMedium:null,utmCampaign:null},da={version:aa.version,deviceId:"",eventId:"",eventName:"",pendingEvents:[],events:{},superProps:y({deviceType:"WEB",screenReso:window.screen.width+"x"+window.screen.height,url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer),pageName:"",appId:0,eventName:"",eventId:"",timestamp:0,refEventName:"",refEventId:"",uniqueDid:"",cnid:null,lang:"",countryCode:null,username:null,loginStatus:null},ca),blackListedEventNames:[],flush_queue:!0,queuedEvents:[]},ea=function(){return _("MYNAUKRI[UNID]")||_("UNID")},fa=function(){return _("_t_ds")||b()},ga=function(a){switch(a){case 1:return!(!_("NKWAP")&&!_("nauk_at"));case 2:return!!_("NIMNJ[USERNAME]");case 3:return!!_("FSMNJ[ID]")}},ha=function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,c=arguments[1],d=void 0;switch(c.type){case l:return y({},da,{deviceId:fa(),cnid:ea()});case r:var e=c.payload.deviceId;return d=b.superProps.cnid,e||(e=fa()),d||(d=ea()),y({},b,c.payload,{deviceId:e,cnid:d});case m:var f=b.pendingEvents,g=b.queuedEvents,h=(new Date).getTime(),i=b.deviceId+"-"+h,j=a(i),k=window.location.hostname,v=void 0,w=null,A=null,B=null,C=R(),D=Q();return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),k.search("naukri.com")>-1?v=1:k.search("naukrigulf.com")>-1?(v=2,A=_("__ccode"),B=_("NIMNJ[USERNAME]")):k.search("firstnaukri.com")>-1&&(v=3),1==v&&(w=ga(v)),b.flush_queue?b.blackListedEventNames.indexOf(c.payload.eventName)==-1&&(f=[].concat(z(b.pendingEvents),[i])):g=[].concat(z(b.queuedEvents),[i]),b.flush_queue?f!=b.pendingEvents?y({},b,{eventId:i,eventName:c.payload.eventName,events:y({},b.events,x({},i,{status:ba.unsent,data:y({url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer)},b.superProps,{timestamp:h,eventId:i,refEventId:b.eventId,refEventName:b.eventName,uniqueDid:j,cnid:d,loginStatus:w,lang:C,countryCode:A,username:B},D,c.payload)})),pendingEvents:f}):b:y({},b,{events:y({},b.events,x({},i,{status:ba.unsent,data:y({url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer)},b.superProps,{timestamp:h,eventId:i,refEventId:"",refEventName:""},c.payload)})),queuedEvents:g});case o:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),y({},b,{events:y({},b.events,x({},c.payload.eventId,y({},b.events[c.payload.eventId],{status:c.payload.status})))});case n:var E=y({},b.events);return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),delete E[c.payload.eventId],y({},b,{events:E,pendingEvents:b.pendingEvents.filter(function(a){return a!=c.payload.eventId})});case p:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),y({},b,{superProps:y({},b.superProps,c.payload.properties)});case q:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),y({},b,{superProps:da.superProps});case s:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),y({},b,{blackListedEventNames:c.payload.eventNames});case t:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),y({},b,{flush_queue:!1});case u:var F=b.eventId,G=b.eventName,H=b.events,I=[];return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),(I=b.queuedEvents.filter(function(a){return b.blackListedEventNames.indexOf(H[a].data.eventName)==-1})).forEach(function(a){H[a].data.refEventId=F,H[a].data.refEventName=G,F=H[a].data.eventId,G=H[a].data.eventName}),y({},b,{eventId:F,eventName:G,flush_queue:!0,pendingEvents:[].concat(z(b.pendingEvents),z(I)),events:H,queuedEvents:da.queuedEvents});default:return d=b.superProps.cnid,d||(d=ea(),b.superProps.cnid=d),b}},ia=null,ja=null,ka={async:1,sync:2},la="",ma=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ka.async,c=JSON.stringify(a);if(b==ka.async)if(navigator.sendBeacon)navigator.sendBeacon(la,c),L().dispatch(B(a.eventId));else{var d=new Image;d.src=la+"?data="+c,d.onload=function(){L().dispatch(B(a.eventId))},document.body.appendChild(d),L().dispatch(C(a.eventId,ba.loading))}},na=function(){ja=L().getState(),ia&&ja.pendingEvents==ia||(ia=ja.pendingEvents,ia.map(function(a){var b=ja.events[a];b&&b.status==ba.unsent&&ma(b.data)}))},oa=function(a){la=a},pa="object"==typeof global&&global&&global.Object===Object&&global,qa="object"==typeof self&&self&&self.Object===Object&&self,ra=pa||qa||Function("return this")(),sa=ra.Symbol,ta=Object.prototype,ua=ta.hasOwnProperty,va=ta.toString,wa=sa?sa.toStringTag:void 0,xa=Object.prototype,ya=xa.toString,za="[object Null]",Aa="[object Undefined]",Ba=sa?sa.toStringTag:void 0,Ca=f(Object.getPrototypeOf,Object),Da="[object Object]",Ea=Function.prototype,Fa=Object.prototype,Ga=Ea.toString,Ha=Fa.hasOwnProperty,Ia=Ga.call(Object);k="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var Ja=i(k),Ka={INIT:"@@redux/INIT"},La=function(){function a(b){var c=b.store,d=void 0===c?{}:c,e=b.blackListed,f=void 0===e?[]:e,g=b.autoRehydrate,h=void 0===g||g;v(this,a),this.store=d,this.blackListed=f,h&&this.rehydrate()}return w(a,[{key:"getWhiteListedKeys",value:function(a,b){var c=this;return Object.keys(a).filter(function(a){return c.blackListed.indexOf(a)==-1})}},{key:"subscribe",value:function(){var a=this,b=this.store.getState();this.getWhiteListedKeys(b,this.blackListed).filter(function(c){return a.prevState[c]!=b[c]}).forEach(function(a){Y(a,b[a])}),this.prevState=b}},{key:"rehydrate",value:function(){var a=null,b={},c=this.store.getState(),d=this.getWhiteListedKeys(c,this.blackListed);if(d.forEach(function(a){var c=Z(a);c&&(b[a]=Z(a))}),b.version&&b.version<aa.version){var e=Object.keys(c);setTimeout(function(){e.forEach(function(a){$(a)})},0),a={}}else a=b;this.prevState=a,this.store.dispatch({type:"REHYDRATE",payload:a})}}]),a}(),Ma=function(){L().dispatch(F())},Na=function(a){var b=a.queuedSuperProps,c=void 0===b?[]:b,d=a.queuedEvents,e=void 0===d?[]:d,f=a.blackList,g=void 0===f?[]:f,h=a.beaconUrl,i=void 0===h?"":h,k=void 0;k=j(ha,void 0),K(k);var l=new La({store:k,blackListed:["pendingEvents","events","superProps","blackListedEventNames","flush_queue","queuedEvents"],autoRehydrate:!0});k.subscribe(function(){l.subscribe(),na()}),oa(i);var m={};c.forEach(function(a){m=y({},m,a)}),M(m),L().dispatch(G(g)),e.map(function(a){O.apply(S,z(a))})},Oa=Object.freeze({reset:Ma,init:Na});window.ub=y({},Oa,S)}();