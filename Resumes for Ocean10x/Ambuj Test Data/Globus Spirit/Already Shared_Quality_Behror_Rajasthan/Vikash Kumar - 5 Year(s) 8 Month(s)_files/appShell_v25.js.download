webpackJsonp([1],{"+uDm":function(e,t,n){"use strict";e.exports={STARTED:"started",PAUSED:"paused",FINISHED:"finished"}},"/cJY":function(e,t,n){"use strict";function r(e,t){var n=void 0;n="cv"===t?h.GET_CONVERSATION_ID+e+"?properties=(lastActiveTime)":h.GET_SESSION+e+"?properties=(lastActiveTime)";var r={headers:d({},p,{"Cache-Control":"no-cache"}),xhrFields:{withCredentials:!0}};return f(n,r,"get")}function i(e){var t=h.GET_CONVERSATION_ID+e+"?properties=(lId,lastActiveTime)",n={headers:d({},p,{"Cache-Control":"no-cache"}),xhrFields:{withCredentials:!0}};return f(t,n,"get")}function a(e){var t=h.REGISTER_USER,n={headers:d({},p,{"Cache-Control":"no-cache"}),xhrFields:{withCredentials:!0},data:e};return f(t,n,"post")}function o(){var e=rdxActivityUrl+"?key="+ukey+"&activity="+chatContactedLabel,t={headers:d({},p,{"Cache-Control":"no-cache"}),xhrFields:{withCredentials:!0}};return f(e,t,"get")}function s(e,t,n){var r=h.BLOCK_UNBLOCK_USER+e+"/blocks",i={headers:d({},p,{"Cache-Control":"no-cache","X-HTTP-Method-Override":"PUT"}),xhrFields:{withCredentials:!0},data:JSON.stringify({operation:n,property:"blocks",id:t})};return f(r,i,"post")}function c(e){var t=h.BLOCK_UNBLOCK_USER+e+"/blocks",n={headers:d({},p),xhrFields:{withCredentials:!0}};return f(t,n,"get")}function l(e){var t=h.GET_LIVE_JOBS;return f(t,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json",Accept:"application/json"}},"post")}t.d=r,t.c=i,t.g=a,t.f=o,t.a=s,t.b=c,t.e=l;var u=n("FCgy"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p={"Content-type":"application/json",Accept:"application/json",appId:15,systemId:"naukri",withCredentials:!0},h={GET_CONVERSATION_ID:u.a+"/chat-auth-services/v1/chatprofiles/",GET_SESSION:u.a+"/chat-auth-services/v1/layerprofiles/",REGISTER_USER:u.a+"/chat-auth-services/v1/identity",NOTIFY_REGISTER_USER:u.a+"/chat-auth-services/v1/identityNotification",BLOCK_UNBLOCK_USER:u.a+"/chat-auth-services/v1/user/",GET_LIVE_JOBS:tr_api_url+"/recruiterGnb/getChatJobs"},f=function(e,t,n){return new Promise(function(r,i){y[n](e,t,function(e){r(e)},function(e){i(e)})})},y={post:function(e,t,n,r){var i=d({},t,{success:n,error:r,type:"POST"});$.ajax(e,i)},get:function(e,t,n,r){$.ajax(e,d({},t,{success:n,error:r,type:"GET"}))}}},"/dGF":function(e,t,n){"use strict";function r(e){return{type:g.j,payload:{owner:e}}}function i(){return{type:g.e}}function a(e){return{type:g.d,payload:{value:e}}}function o(e,t,n,r,i,a){if("attachment"===t){var o=e,s=i.getConversation(a,!0),c=s.createMessage();if(o&&c.addPart(new layer.MessagePart(o)),o.name){var l=JSON.stringify({fileName:o.name,size:o.size});c.addPart(new layer.MessagePart({body:l,mimeType:"application/json+imageSize"}))}c.parts.length&&c.send({title:"New Message from Recruiter",text:n+": "+o.name})}else if("job"===t){var u=e,d=i.getConversation(a,!0),p=d.createMessage(),h="Shared Jobâ€™s Details:\n"+(u.title||"")+"\n"+(u.loc||"")+"\n"+(u.shortUrl||"");p.addPart(new layer.MessagePart({body:h,type:"text/plain",customType:"job"})),p.parts.length&&p.send({title:"New Message from Recruiter",text:n+": "+h})}else{var f=i.getConversation(a,!0),y=e,m=void 0;m=0===y.indexOf("> ")?f.createMessage({parts:[{mimeType:"text/quote",body:y.substring(2)}]}):f.createMessage(y),m.send({title:"New Message from Recruiter",text:n+": "+y})}return{type:g.m}}function s(){return{type:g.h}}function c(e,t){return t.getMessage(e).isRead=!0,{type:g.i,payload:{messageId:e}}}function l(e,t){return{type:g.c,payload:{id:e,windowSource:t}}}function u(e){return{type:g.a,payload:{data:e}}}function d(e){return{type:g.n,payload:{data:e}}}function p(e){return{type:g.b,payload:{data:e}}}function h(e){return{type:g.o,payload:{data:e}}}function f(e){return{type:g.l,payload:{data:e}}}function y(e){return{type:g.k,payload:{data:e}}}function m(e){return{type:g.g,payload:{data:e}}}function v(e){return{type:g.f,payload:{data:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.ownerSet=r,t.clientReady=i,t.changeComposerMessage=a,t.submitComposerMessage=o,t.loadMoreMessages=s,t.markMessageRead=c,t.changeActiveConversationId=l,t.activeWindow=u,t.toggleBlockLightbox=d,t.saveBlockedUsers=p,t.updateUnreadConversationCount=h,t.selectLiveJob=f,t.selectAttachment=y,t.updateLayerStatus=m,t.updateLayerConnection=v;var g=n("uNDA")},0:function(e,t){},"0/iX":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n("AX2D"),u=r(l),d=n("KSGD"),p=r(d);t.default=function(){return function(e){var t,n;return n=t=function(t){function n(e,t){i(this,n);var r=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return r.onTypingIndicatorChange=function(e){var t=e.conversationId,n=e.typing,i=e.paused;t===r.props.conversationId&&r.setState({typing:n,paused:i})},r.client=e.client||t.client,r.state={typing:[],paused:[]},r}return o(n,t),c(n,[{key:"componentWillMount",value:function(){this.client.on("typing-indicator-change",this.onTypingIndicatorChange)}},{key:"componentWillReceiveProps",value:function(e){this.props.conversationId!==e.conversationId&&this.setState({typing:[],paused:[]})}},{key:"render",value:function(){return u.default.createElement(e,s({},this.props,this.state))}},{key:"componentWillUnmount",value:function(){this.client.off("typing-indicator-change",this.onTypingIndicatorChange)}}]),n}(l.Component),t.propTypes={client:p.default.object,conversationId:p.default.string},t.contextTypes={client:p.default.object},n}}},"0Psq":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=(n("Kd6K"),{flow:function(){return n.e(0).then(n.bind(null,"tQZW"))}})},1:function(e,t){},"1olO":function(e,t,n){"use strict";function r(e,t){var n=function(e){return t&&(0,a.isValidElement)(e)?t(e):e},r=Object.create(null);return e&&a.Children.map(e,function(e){return e}).forEach(function(e){r[e.key]=n(e)}),r}function i(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r=Object.create(null),i=[];for(var a in e)a in t?i.length&&(r[a]=i,i=[]):i.push(a);var o=void 0,s={};for(var c in t){if(r[c])for(o=0;o<r[c].length;o++){var l=r[c][o];s[r[c][o]]=n(l)}s[c]=n(c)}for(o=0;o<i.length;o++)s[i[o]]=n(i[o]);return s}t.__esModule=!0,t.getChildMapping=r,t.mergeChildMappings=i;var a=n("AX2D")},"2Jz9":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){return e?e.toISOString():null}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("P+Qc"),u=n("jTMd"),d=n("kesd"),p=n("jPMo"),h=n("M3Kp"),f=9007199254740991,y=d.SYNC_STATE.NEW,m=[{name:"conversations",indexes:{created_at:["created_at"],last_message_sent:["last_message_sent"]}},{name:"channels",indexes:{created_at:["created_at"]}},{name:"messages",indexes:{conversationId:["conversationId","position"]}},{name:"identities",indexes:{}},{name:"syncQueue",indexes:{}}],v=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(window.indexedDB&&e.enabled){var a=!0;try{window.IDBKeyRange.bound(["announcement",0],["announcement",f])}catch(t){e.tables={},a=!1}a&&-1!==n.client.constructor._supportedEvents.indexOf("conversations:add")&&(n.client.on("conversations:add",function(e){return n.writeConversations(e.conversations)},n),n.client.on("conversations:change",function(e){return n._updateConversation(e.target,e.changes)},n),n.client.on("conversations:delete conversations:sent-error",function(e){return n.deleteObjects("conversations",[e.target])},n),n.client.on("channels:add",function(e){return n.writeChannels(e.channels)},n),n.client.on("channels:change",function(e){return n._updateChannel(e.target,e.changes)},n),n.client.on("channels:delete channels:sent-error",function(e){return n.deleteObjects("channels",[e.target])},n),n.client.on("messages:add",function(e){return n.writeMessages(e.messages)},n),n.client.on("messages:change",function(e){return n.writeMessages([e.target])},n),n.client.on("messages:delete messages:sent-error",function(e){return n.deleteObjects("messages",[e.target])},n),n.client.on("identities:add",function(e){return n.writeIdentities(e.identities)},n),n.client.on("identities:change",function(e){return n.writeIdentities([e.target])},n),n.client.on("identities:unfollow",function(e){return n.deleteObjects("identities",[e.target])},n)),(e.tables.conversations||e.tables.channels)&&e.tables.messages||(e.tables.syncQueue=!1)}else e.tables={};return m.forEach(function(t){n["_permission_"+t.name]=Boolean(e.tables[t.name])}),n._open(!1),n}return a(t,e),s(t,[{key:"_getDbName",value:function(){return"LayerWebSDK_"+this.client.appId}},{key:"_open",value:function(e){var t=this;if(this.db&&(this.db.close(),delete this.db),0===m.filter(function(e){return t["_permission_"+e.name]}).length)return this._isOpenError=!0,void this.trigger("error",{error:"Persistence is disabled by application"});var n=window.indexedDB.open(this._getDbName(),5);try{n.onerror=function(n){e?(t._isOpenError=!0,l.warn("Database Unable to Open (common cause: private browsing window)",n.target.error),t.trigger("error",{error:n})):t.deleteTables(function(){return t._open(!0)})},n.onupgradeneeded=function(e){return t._onUpgradeNeeded(e)},n.onsuccess=function(e){t.db=e.target.result,t.isOpen=!0,t.trigger("open"),t.db.onversionchange=function(){t.db.close(),t.isOpen=!1},t.db.onerror=function(e){return l.error("db-manager Error: ",e)}}}catch(e){this._isOpenError=!0,l.error("Database Unable to Open: ",e),this.trigger("error",{error:e})}}},{key:"onOpen",value:function(e){this.isOpen||this._isOpenError?e():this.once("open error",e)}},{key:"_onUpgradeNeeded",value:function(e){var t=this,n=e.target.result,r=function(e){t.db=n,t.isComplete=!0,t.isOpen=!0,t.trigger("open")},i=Array.prototype.slice.call(n.objectStoreNames);m.forEach(function(e){try{-1!==i.indexOf(e.name)&&n.deleteObjectStore(e.name)}catch(e){}try{var t=n.createObjectStore(e.name,{keyPath:"id"});Object.keys(e.indexes).forEach(function(n){return t.createIndex(n,e.indexes[n],{unique:!1})}),t.transaction.oncomplete=r}catch(t){l.error("Failed to create object store "+e.name,t)}})}},{key:"_getConversationData",value:function(e){var t=this;return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==y}).map(function(e){return{id:e.id,url:e.url,participants:t._getIdentityData(e.participants,!0),distinct:e.distinct,created_at:o(e.createdAt),metadata:e.metadata,unread_message_count:e.unreadCount,last_message:e.lastMessage?e.lastMessage.id:"",last_message_sent:o(e.lastMessage?e.lastMessage.sentAt:e.createdAt),sync_state:e.syncState}})}},{key:"_updateConversation",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("conversations",[{id:r[0].oldValue}],function(){n.writeConversations([e])}):this.writeConversations([e])}},{key:"writeConversations",value:function(e,t){this._writeObjects("conversations",this._getConversationData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getChannelData",value:function(e){return e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):!e.isLoading&&e.syncState!==y}).map(function(e){return{id:e.id,url:e.url,created_at:o(e.createdAt),sync_state:e.syncState,membership:null,name:e.name,metadata:e.metadata}})}},{key:"_updateChannel",value:function(e,t){var n=this,r=t.filter(function(e){return"id"===e.property});r.length?this.deleteObjects("channels",[{id:r[0].oldValue}],function(){n.writeChannels([e])}):this.writeChannels([e])}},{key:"writeChannels",value:function(e,t){this._writeObjects("channels",this._getChannelData(e.filter(function(e){return!e.isDestroyed})),t)}},{key:"_getIdentityData",value:function(e,t){return e.filter(function(e){return!(e.isDestroyed||!e.isFullIdentity&&!t||(e._fromDB?(e._fromDB=!1,1):e.isLoading))}).map(function(e){return e.isFullIdentity&&!t?{id:e.id,url:e.url,user_id:e.userId,first_name:e.firstName,last_name:e.lastName,display_name:e.displayName,avatar_url:e.avatarUrl,metadata:e.metadata,public_key:e.publicKey,phone_number:e.phoneNumber,email_address:e.emailAddress,sync_state:e.syncState,type:e.type}:{id:e.id,url:e.url,user_id:e.userId,display_name:e.displayName,avatar_url:e.avatarUrl}})}},{key:"writeIdentities",value:function(e,t){this._writeObjects("identities",this._getIdentityData(e),t)}},{key:"_getMessageData",value:function(e,n){var r=this,i=e.filter(function(e){return e._fromDB?(e._fromDB=!1,!1):e.syncState!==d.SYNC_STATE.LOADING}).map(function(e){return{id:e.id,url:e.url,parts:e.parts.map(function(e){return{body:p.isBlob(e.body)&&e.body.size>t.MaxPartSize?null:e.body,id:e.id,encoding:e.encoding,mime_type:e.mimeType,content:e._content?{id:e._content.id,download_url:e._content.downloadUrl,expiration:e._content.expiration,refresh_url:e._content.refreshUrl,size:e._content.size}:null}}),position:e.position,sender:r._getIdentityData([e.sender],!0)[0],recipient_status:e.recipientStatus,sent_at:o(e.sentAt),received_at:o(e.receivedAt),conversationId:e instanceof h?"announcement":e.conversationId,sync_state:e.syncState,is_unread:e.isUnread}}),a=0,s=[];i.forEach(function(e){e.parts.forEach(function(e){p.isBlob(e.body)&&s.push(e)})}),0===s.length?n(i):s.forEach(function(e){p.blobToBase64(e.body,function(t){e.body=t,e.useBlob=!0,++a===s.length&&n(i)})})}},{key:"writeMessages",value:function(e,t){var n=this;this._getMessageData(e.filter(function(e){return!e.isDestroyed}),function(e){return n._writeObjects("messages",e,t)})}},{key:"_getSyncEventData",value:function(e){return e.filter(function(e){return!e.fromDB||(e.fromDB=!1,!1)}).map(function(e){return{id:e.id,target:e.target,depends:e.depends,isWebsocket:e instanceof u.WebsocketSyncEvent,operation:e.operation,data:e.data,url:e.url||"",headers:e.headers||null,method:e.method||null,created_at:e.createdAt}})}},{key:"writeSyncEvents",value:function(e,t){this._writeObjects("syncQueue",this._getSyncEventData(e),t)}},{key:"_writeObjects",value:function(e,t,n){var r=this;return!this["_permission_"+e]||this._isOpenError?n?n():null:t.length?void this.onOpen(function(){r.getObjects(e,t.map(function(e){return e.id}),function(i){var a={};i.forEach(function(e){a[e.id]=e});var o=r.db.transaction([e],"readwrite"),s=o.objectStore(e);o.oncomplete=o.onerror=n,t.forEach(function(e){try{a[e.id]?s.put(e):s.add(e)}catch(e){l.error(e)}})})}):void(n&&n())}},{key:"loadConversations",value:function(e,t,n,r){var i=this;try{var a=void 0,s=null,c=t?this.client.getConversation(t):null;"last_message"===e?(a="last_message_sent",c&&(s=window.IDBKeyRange.upperBound([o(c.lastMessage?c.lastMessage.sentAt:c.createdAt)]))):(a="created_at",c&&(s=window.IDBKeyRange.upperBound([o(c.createdAt)]))),this._loadByIndex("conversations",a,s,Boolean(t),n,function(e){var t=e.map(function(e){return e.last_message}).filter(function(e){return e&&!i.client.getMessage(e)});i.getObjects("messages",t,function(t){i._loadConversationsResult(e,t,r)})})}catch(e){}}},{key:"_loadConversationsResult",value:function(e,t,n){var r=this;t.forEach(function(e){return r._createMessage(e)});var i=e.map(function(e){return r._createConversation(e)||r.client.getConversation(e.id)}).filter(function(e){return e});n&&n(i)}},{key:"loadChannels",value:function(e,t,n){var r=this;try{var i=null,a=e?this.client.getChannel(e):null;a&&(i=window.IDBKeyRange.upperBound([o(a.createdAt)])),this._loadByIndex("channels","created_at",i,Boolean(e),t,function(e){r._loadChannelsResult(e,n)})}catch(e){}}},{key:"_loadChannelsResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createChannel(e)||n.client.getChannel(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadMessages",value:function(e,t,n,r){var i=this;if(!this._permission_messages||this._isOpenError)return r([]);try{var a=t?this.client.getMessage(t):null,o=window.IDBKeyRange.bound([e,0],[e,a?a.position:f]);this._loadByIndex("messages","conversationId",o,Boolean(t),n,function(e){i._loadMessagesResult(e,r)})}catch(e){}}},{key:"loadAnnouncements",value:function(e,t,n){var r=this;if(!this._permission_messages||this._isOpenError)return n([]);try{var i=e?this.client.getMessage(e):null,a=window.IDBKeyRange.bound(["announcement",0],["announcement",i?i.position:f]);this._loadByIndex("messages","conversationId",a,Boolean(e),t,function(e){r._loadMessagesResult(e,n)})}catch(e){}}},{key:"_blobifyPart",value:function(e){e.useBlob&&(e.body=p.base64ToBlob(e.body),delete e.useBlob,e.encoding=null)}},{key:"_loadMessagesResult",value:function(e,t){var n=this;e.forEach(function(e){return e.parts.forEach(function(e){return n._blobifyPart(e)})});var r=e.map(function(e){return n._createMessage(e)||n.client.getMessage(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"loadIdentities",value:function(e){var t=this;this._loadAll("identities",function(n){t._loadIdentitiesResult(n,e)})}},{key:"_loadIdentitiesResult",value:function(e,t){var n=this,r=e.map(function(e){return n._createIdentity(e)||n.client.getIdentity(e.id)}).filter(function(e){return e});t&&t(r)}},{key:"_createConversation",value:function(e){if(!this.client.getConversation(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createChannel",value:function(e){if(!this.client.getChannel(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createMessage",value:function(e){if(!this.client.getMessage(e.id)){e._fromDB=!0,e.conversationId.indexOf("layer:///conversations")?e.conversation={id:e.conversationId}:e.conversationId.indexOf("layer:///channels")&&(e.channel={id:e.conversationId}),delete e.conversationId;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"_createIdentity",value:function(e){if(!this.client.getIdentity(e.id)){e._fromDB=!0;var t=this.client._createObject(e);return t.syncState=e.sync_state,t}}},{key:"loadSyncQueue",value:function(e){var t=this;this._loadAll("syncQueue",function(n){return t._loadSyncEventRelatedData(n,e)})}},{key:"_loadSyncEventRelatedData",value:function(e,t){var n=this,r=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/messages/)}).map(function(e){return e.target}),i=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/conversations/)}).map(function(e){return e.target}),a=e.filter(function(e){return"DELETE"!==e.operation&&e.target&&e.target.match(/identities/)}).map(function(e){return e.target}),o=0;this.getObjects("messages",r,function(r){r.forEach(function(e){return n._createMessage(e)}),3==++o&&n._loadSyncEventResults(e,t)}),this.getObjects("conversations",i,function(r){r.forEach(function(e){return n._createConversation(e)}),3==++o&&n._loadSyncEventResults(e,t)}),this.getObjects("identities",a,function(r){r.forEach(function(e){return n._createIdentity(e)}),3==++o&&n._loadSyncEventResults(e,t)})}},{key:"_loadSyncEventResults",value:function(e,t){var n=this,r=e.filter(function(e){var t=Boolean(e.target&&n.client.getObject(e.target));return"DELETE"===e.operation||t}).map(function(e){return e.isWebsocket?new u.WebsocketSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,fromDB:!0,createdAt:e.created_at}):new u.XHRSyncEvent({target:e.target,depends:e.depends,operation:e.operation,id:e.id,data:e.data,method:e.method,headers:e.headers,url:e.url,fromDB:!0,createdAt:e.created_at})});p.sortBy(r,function(e){return e.createdAt}),t(r)}},{key:"_loadAll",value:function(e,t){var n=this;if(!this["_permission_"+e]||this._isOpenError)return t([]);this.onOpen(function(){var r=[];n.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!n.isDestroyed){var i=e.target.result;i?(r.push(i.value),i.continue()):n.isDestroyed||t(r)}}})}},{key:"_loadByIndex",value:function(e,t,n,r,i,a){var o=this;if(!this["_permission_"+e]||this._isOpenError)return a([]);var s=r;this.onOpen(function(){var r=[];o.db.transaction([e],"readonly").objectStore(e).index(t).openCursor(n,"prev").onsuccess=function(e){if(!o.isDestroyed){var t=e.target.result;t?(s?s=!1:r.push(t.value),i&&r.length>=i?a(r):t.continue()):a(r)}}})}},{key:"deleteObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n?n():null;this.onOpen(function(){var i=r.db.transaction([e],"readwrite"),a=i.objectStore(e);i.oncomplete=n,t.forEach(function(e){return a.delete(e.id)})})}},{key:"getObjects",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n([]);for(var i=[],a=t.sort(),o=a.length-1;o>0;o--)a[o]===a[o-1]&&a.splice(o,1);var s=0;this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor().onsuccess=function(e){if(!r.isDestroyed){var t=e.target.result;if(!t)return void n(i);for(var o=t.key;o>a[s];)s++;o===a[s]&&(i.push(t.value),s++),s===a.length?r.isDestroyed||n(i):t.continue(a[s])}}})}},{key:"getObject",value:function(e,t,n){var r=this;if(!this["_permission_"+e]||this._isOpenError)return n();this.onOpen(function(){r.db.transaction([e],"readonly").objectStore(e).openCursor(window.IDBKeyRange.only(t)).onsuccess=function(t){var i=t.target.result;if(!i)return n(null);switch(e){case"messages":return i.value.parts.forEach(function(e){return r._blobifyPart(e)}),n(i.value);case"identities":case"channels":return n(i.value);case"conversations":if(i.value.last_message){var a=r.client.getMessage(i.value.last_message);return a?r._getMessageData([a],function(e){i.value.last_message=e[0],n(i.value)}):r.getObject("messages",i.value.last_message,function(e){i.value.last_message=e,n(i.value)})}return n(i.value)}}})}},{key:"claimSyncEvent",value:function(e,t){var n=this;if(!this._permission_syncQueue||this._isOpenError)return t(!0);this.onOpen(function(){var r=n.db.transaction(["syncQueue"],"readwrite"),i=r.objectStore("syncQueue");i.get(e.id).onsuccess=function(e){return t(Boolean(e.target.result))},i.delete(e.id)})}},{key:"deleteTables",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};try{var t=window.indexedDB.deleteDatabase(this._getDbName());t.onsuccess=t.onerror=e,delete this.db}catch(t){l.error("Failed to delete database",t),e&&e(t)}}}]),t}(c);v.prototype.client=null,v.prototype.isOpen=!1,v.prototype._isOpenError=!1,v.prototype._permission_messages=!1,v.prototype._permission_conversations=!1,v.prototype._permission_channels=!1,v.prototype._permission_identities=!1,v.prototype._permission_syncQueue=!1,v.prototype.db=null,v.MaxPartSize=25e4,v._supportedEvents=["open","error"].concat(c._supportedEvents),c.initClass.apply(v,[v,"DbManager"]),e.exports=v},"2Ksq":function(e,t,n){"use strict";function r(e){return/^true$/gi.test(e)||!/^false$/gi.test(e)&&e}n.d(t,"a",function(){return u});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,n,r){if(r.length){var i,a=t.height(),o=t.scrollTop(),s=a+o,c=r.position().top+t.scrollTop(),l=c+r.outerHeight();return l>=s?(i=l-a>0?l-a:0,t.scrollTop(i)):c<t.scrollTop()&&(i=c,t.scrollTop(i)),i}},s=function(e,t){for(var n in e){var i=!1,a=n.toLowerCase();t[a]?i=a:void 0!==t[n]&&null!==t[n]&&(i=n),i&&(e[n]=r(t[i]))}return e},c=function(e,t,n){var r;return function(){var i=this,a=arguments,o=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,a)},t),o&&e.apply(this,arguments)}},l="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)};navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$("body").css({cursor:"pointer"});var u=function(e,t,n){var r=$("#"+e.id);if(!r.data("droope")){var i=new p(e,t,n);return r.data("droope",i),i}r.destroy&&r.destroy()},d=void 0,p=function e(t,n,r){function i(){}function a(e){var t=$(e.target).parents(".ddwn");if(!t.length&&!0!==Boolean(t.attr("searchDisabled"))){var n=$(".ddwn");n.find(".DDwrap").removeClass("brBotN"),n.find(".drop").hide()}}function c(e){$(document).on("keydown",y.disb_Scroll_handler)}function d(e){$(document).off("keydown")}function p(e){if(e>v)return v+=5;v+=1}function h(e,t){if(""!==y.inpElm.val()&&v>m){if(t>v)return v-=5;v-=1}}t.maxSelection=t.maxSelection||t.maxTagsCount;var f={maxHeight:300,maxTagsCount:1/0,maxSelection:1/0,searchBox:!0,tagsSorting:!0,tags:!0,tagInSepContainer:!1,checkBox:!1,appendTags:!1,clearTagId:!1,prefillData:[],onDeselect:!1,sortPrefix:!1,tagwithOptGroup:!1,clearAllInside:!1,parentChkBox:!1,allChk:!1,allChecked:!1,layerOpenStatus:!1,disableTag:[],title:[],tagTitle:!1,Tagfocus:0,TagCnt:0,Allflg:"",curActElm:"",liCntrFx:[],preventClickFor:[],liCntr:[],optgrpNameRef:[],hidValue:[],parentRefData:{},optgrpObject:{},showSelText:!1,preserveInputVal:!1,onClickReq:i,onClickAll:i,onChange:i,selectedValues:{},selectedCounter:!0,preventClose:!1,defaultOpen:!1,onTagClick:i,onTagCreate:i,isReset:!0,onClearTag:[],drpLyrWth:!1,onBlur:i,blurDelay:!1,isSearch:!0,removeHiddenVal:!1,preserveText:!1,pKey:r,id:"",preText:"You have selected",postText:"item(s)",selectOnBlur:!1,toggleDropLayer:!0,scrollToTop:!1,isFirstValueHighlight:!0,returnFocus:!0,onChangePrevent_onInit:!1,onError:i},y=$.extend(this,s(f,t));y.obj=t;var m=30,v=y.obj.postPlaceholder?y.obj.postPlaceholder.width:30;y.rootCont=$("#"+y.id),y.inpElm=y.rootCont.find(".srchTxt"),y.isReadOnly=y.inpElm.is("[readonly]"),y.dataObj=t.data||(t.id&&t.id[y.id]?t.id[y.id][0]:""),y.prefillData=y.prefillData||(y.obj.id[y.id]?y.obj.id[y.id][1]:[]),"string"==typeof y.prefillData&&(y.prefillData=y.prefillData.split(",")),y.pKey?(y.checkBox||(u.Ary[y.id]={}),u.Ary[y.id]||(u.Ary[y.id]={}),u.Ary[y.id][y.pKey]=y.dataObj,y.Ary=u.Ary[y.id]):(y.Ary={},y.Ary.A=y.dataObj),e.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(e){setTimeout(function(){a(e)},100)}),e.lastRef.iseventBindOnDocument=!0);var g=function(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;")},b=function(e){if(-1!=e.indexOf("<b>")){e=e.split("<b>");var t=e[1].split("</b>"),n=[e[0],t[0],t[1]],r=[];for(var i in n)r.push(g(n[i]));return r[0]+"<b>"+r[1]+"</b>"+r[2]}return g(e)},_=function(){y.returnFocus&&y.inpElm.focus()};y.replaceTag=function(e){return-1!=e.toString().indexOf("<")?b(e):e},y.setLi=function(e){var t=this;if($("#ul_"+e).find("li").length<t.liCntr){var n=t.appendData(t.Ary,"","",!0);t.dpLyr.find("ul").html(n[0]),t.liCntr=t.liCntrFx}},y.obj.resetPrefillValues?y.ChkBoxContr={}:y.ChkBoxContr||(y.ChkBoxContr={});for(var E in y.clearTagId)for(var k in y.clearTagId[E])y.onClearTag[E]=y.clearTagId[E][k];y.Fn={preserveEventafterClone:function(e,n){var r;y.id,r=y.tagInSepContainer?$("#"+y.tagInSepContainer).find('[data-id="'+e+'"]'):y.rootCont.find(".DDsearch").find('[data-id="'+e+'"]'),r.on("click",".dCross",function(r){y.removeTag(e,$(this).find(".tagTxt").text(),n),y.max_height(),n&&y.onTagClick(t,y.TagCnt),y.setInputText(),"block"==y.dpLyr.css("display")&&_()})},keyUpEv:function(e){var t,n=$(this).data("id"),r=y.rootCont.width()-15,i=(n.split("_")[1],e.keyCode||e.which),a=$(this).val().replace(/\b/g,"");if(13==i&&y.curActElm&&y.curActElm.length&&!y.curActElm.hasClass("noData")&&y.curActElm.hasClass("active")){var o=y.curActElm.children("a");if(y.checkBox){var s=o.data("id")+"_"+y.Escp(y.curActElm.attr("bindto"));o.hasClass("chkd")?y.removeTag("tg_"+s,o.html(),!0):y.CreateTags(o,s,"",y.tags)}else y.SingleSelection(o.text(),o.data("id").split("_")),y.hideDD()}8==i&&y.checkBox&&!y.tagInSepContainer&&!1!==y.tags&&(t=a?h(n,r)+"px":""!=y.inpHid.val()?v+"px":"",y.inpElm.css({width:t})),y.isReadOnly||9==i||13==i||18==i||32==i||37==i||38==i||39==i||40==i||16==i||(y.Fn.initSearch(a,n,i),"none"==y.dpLyr.css("display")&&y.dpLyr.show()),y.removeHiddenVal&&(a||y.inpHid.attr("value",""))},initSearch:function(e,t,n){var r="",i=0;t=t.split("_")[1];var a=y.Ary;if(e){e=e.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var o in a)for(var s in a[o])if("object"===l(a[o][s])){var c,u="";c=a[o][s];for(var d in c)u+=y.searchData(c[d],e,t,t+"_"+d+"_"+y.eUnderScore(s),y.Escp(o));u&&(r+='<li class="optgroup">'+y.eUnderScore(s)+"</li>"+u,i++)}else y.rootCont.find(".cross").show(),r+=y.searchData(a[o][s],e,t,t+"_"+y.eUnderScore(s),y.Escp(o)),i++}else y.rootCont.find(".cross").show(),r=y.appendData(y.Ary,"","",n)[0],i=y.liCntrFx;r||(r='<li class="noData">'+(y.obj.noDataTxt?y.obj.noDataTxt:"No data found in search")+"</li>",i++),y.dpLyr.find("ul").html(r),y.liCntr=i,y.max_height(),y.firstHighlight()}},y.init=function(e){var t,n=y.id;if(y.clearAllInside){var r="Clear All";for(var i in y.clearAllInside)r=y.clearAllInside[i];t=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+n}).html(r)}var a=y.inpElm;if(a.val(""),!y.dpLyr||!y.dpLyr.length){var o=a.attr("name");a.data({name:o});var s=(y.rootCont.find(".arw").addClass("DDarwDwn"),y.rootCont.find(".DDsearch"));y.checkBox||y.rootCont.addClass("singleSelect"),a.data({id:"inp_"+n,placeholder:a.attr("placeholder")}).attr({name:"",autocomplete:"off"}),y.isSearch||a.attr("readonly","readonly"),y.rootCont.find(".frst").css({float:"none"}),$("#hid_"+n).length?y.inpHid=$("#hid_"+n):(y.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+n,name:o}),s.append(y.inpHid));var c=$("<div>"),l=$("<div>"),u=$("<ul>"),d=y.rootCont,p=y.checkBox?"ChkboxEnb":"";y.dpLyr=c,l.addClass("nScroll").attr("id","ul_"+n),c.addClass("drop").attr("id","dp_"+n),u.addClass(p),l.append(u),t&&c.append(t),c.append(l),d.append(c),y.rootCont.on("click",".DDinputWrap, .DDsearch, .arw",function(e){_()}).on("mouseenter",function(){y.layerOpenStatus=!1!==y.searchBox}).on("mouseleave",function(){y.layerOpenStatus=!1})}if(y.bindEvents(),y.layerOpenStatus=!1!==y.searchBox,y.fillData(),y.clearTagId)for(var i in y.clearTagId)$("#"+i).on("click",function(e){return function(){var t=$(this).attr("id"),n=e[t],r=n.id;if(r)for(var i in r)r[i],y.checkBox?y.removeAllTags():(y.inpElm.val(""),y.inpHid.data("optGroupKey","")),y.Allflg="",y.hideDD();n.clrCalbackfun&&y.onClearTag[t](y.obj,0,$(this))}}(y.clearTagId))},y.blurEv=function(e){var t=(y.id,y.selectOnBlur);if(!y.tagInSepContainer&&y.checkBox&&y.rootCont.find(".tagit").last().removeClass("TagSelected"),y.isReadOnly&&d(e),y.layerOpenStatus||y.hideDD(),!y.checkBox){var n,r,i=y.inpHid,a=y.inpElm,o=y.uEscp(i.attr("opt")),s=y.Ary.A,c=y.getKeyFromVal(y.Ary.A,a.val()),l=i.val(),l=y.sortPrefix?y.sortPrefix+l:l;t?(n=c.retKey,r=c.parentKey?o?s[o][l]:s?s[c.parentKey][n]?s[c.parentKey][n]:s[c.parentKey][l]:"":o?s[o][l]:s?s[n]?s[n]:s[l]:""):r=c.parentKey?o?s[o][l]:s?s[c.parentKey][l]:"":o?s[o][l]:s?s[l]:"",a.val()?r&&(y.preserveInputVal&&(r=$(this).val(),i.val("")),a.val(r),y.blurClearTimeoutId=setTimeout(function(){if(t){var e=n||y.getKeyFromVal(y.Ary.A,r).retKey,a=e.replace(y.sortPrefix,"");i.val(a),y.onBlur(a)}},y.blurDelay||0)):(i.val(""),"none"==y.dpLyr.css("display")&&y.onChangeHandler(""),y.onDeselect&&y.onDeselect())}},y.getKeyFromVal=function(e,t,n){var r=e,i={};for(var a in r){if("object"==l(r[a]))return y.getKeyFromVal(r[a],t,a);if($.trim(r[a].toString().toLowerCase())==$.trim(t.toLowerCase())){i.retKey=a;break}}return n&&(i.parentKey=n),i},y.focusEv=function(e){y.layerOpenStatus=!1!==y.searchBox,y.inpt=$(this),$(this).data("id").split("_")[1],y.DDSearch=$(this).parent(".DDSearch"),y.showDD(),y.isReadOnly&&c(e)},y.keyDownEv=function(e,t){var n,r=y.id,i=e.keyCode||e.which,a=y.rootCont.width()-15,s=t.val().replace(/\b/g,""),c=y.dpLyr.css("display");if(13!=i&&38!=i||e.preventDefault(),13==i&&"none"==c&&!y.checkBox&&y.obj.form&&y.obj.form[0].submit(),(9==i||27==i)&&y.hideDD(),(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57)&&!y.tagInSepContainer&&y.checkBox&&!1!==y.tags&&(n=p(a),y.inpElm.css({width:n+"px"})),!s&&y.checkBox){var l=y.rootCont.find(".tagit").last(),u=l.data("id");y.TagCnt>0&&8==e.keyCode&&!y.tagInSepContainer&&u&&u.length>0?y.Tagfocus?(y.removeTag(u,l.children(".tagTxt").html(),!0),y.Tagfocus=0):(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').addClass("TagSelected"),y.Tagfocus=1):u&&(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').removeClass("TagSelected"),y.Tagfocus=0)}var d=$("#ul_"+r),h=d.find("ul"),f=h.find("li").first();if(y.curActElm.length||(y.curActElm=f),40==i)if("none"==c)y.hideDD(),y.showDD();else{var m,v=y.curActElm.next();v.length&&!v.hasClass("noData")&&(m=v.hasClass("optgroup")?v.next():v,y.curActElm.removeClass("active"),m.addClass("active"),y.curActElm=m,o(y.dpLyr,h.parent(),0,y.curActElm))}else if(38==i){var g,b=y.curActElm.prev();b.length&&(g=b.hasClass("optgroup")?b.prev():b,g.length&&(y.curActElm.removeClass("active"),g.addClass("active"),y.curActElm=g,o(y.dpLyr,h.parent(),0,y.curActElm)))}},y.fillDatainDropdwonLayer=function(e,t,n,r,i){y.inpElm,y.checkBox&&y.inpHid.attr({value:""});var a=y.rootCont,o=a.find(".drop");!1===y.searchBox?(a.attr("searchDisabled",!0).find(".DDwrap").hide(),o.css({position:"static"})):o.css({borderTop:0}),y.defaultOpen&&setTimeout(function(){y.showDD()},0),$("#ul_"+e).find("ul").html(t),t="",!1===y.searchBox&&y.showDD(),(y.allChk||y.parentChkBox)&&y.chkForParent(y.optgrpObject,y.DATA,e)},y.liMousehover=function(){y.id,y.dpLyr.on("mouseover","li.pickVal",function(){y.curActElm.length&&(y.firstHighlight(),y.curActElm.removeClass("active")),$(this).addClass("active"),y.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},y.max_height=function(){if(y.maxHeight=parseInt(y.maxHeight),y.maxHeight){for(var e=y.id,t=$("#ul_"+e),n=0,r=$("#ul_"+e).find(" ul li").first();r.length&&y.maxHeight>=n;)n+=r.outerHeight(),r=r.next();y.maxHeight<n?t.css({height:y.maxHeight+"px"}):t.css({height:n+"px",width:"100%"}),t.length&&t[0].csb&&t[0].csb.reset()}},y.PickValuesFromDD=function(){var e;y.id,y.dpLyr.on("click",".pickVal a",function(n){if(y.checkBox){var r=0,i=$(this),a=i.data("id");if(y.parentChkBox)var o=$(this).data("id").split("_"),s=o[o.length-1];if($(this).hasClass("chkd")&&(r=1),e=i.html(),a.split("_")[1]==y.eUnderScore(y.otherLabId))1==r?y.onClickReq(t,y.otherLabId,"unChecked"):y.onClickReq(t,y.otherLabId,"checked"),y.hideDD();else{var o=$(this).data("id").split("_");if(y.parentChkBox)var s=y.dUnderScore(y.uEscp(o[o.length-1])),c=y.uEscp(o[o.length-2]);else var s="All",c=y.uEscp(o[o.length-1]);if(1==r){var l=a;if($(this).parent().attr("bindto")&&(l=a+"_"+y.Escp($(this).parent().attr("bindto"))),y.removeTag("tg_"+l,e,!0),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].checked.indexOf(c);u>-1&&y.optgrpObject[s].checked.splice(u,1),y.optgrpObject[s].unchecked.push(c),y.chkForParent(y.optgrpObject,"",a)}}else{var d=$(this).parent().attr("bindto");if(d&&(a=a+"_"+y.Escp(d)),y.CreateTags(i,a,"",y.tags),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].unchecked.indexOf(c);u>-1&&y.optgrpObject[s].unchecked.splice(u,1),y.optgrpObject[s].checked.push(c),y.chkForParent(y.optgrpObject,"",a)}}!1!==y.searchBox&&!0!==y.allChk&&setTimeout(function(){_()},100)}}else y.SingleSelection($(this).text(),$(this).data("id").split("_"))})},y.SingleSelection=function(e,n){var r=(n[0],n[2]?n[2]:"");""===n[1]&&(e=""),y.inpElm&&y.inpElm.val(e.toString().replace(/^(\s)+|(\s)+$/g,"")),y.rootCont.find(".cross").show();var i=y.dUnderScore(y.uEscp(n[1])).replace(y.sortPrefix,"");y.inpHid.val(),y.inpHid.attr({value:i}).data("optGroupKey",r),y.layerOpenStatus&&y.hideDD(),y.onClickReq(t,i),y.onChangeHandler(i,e)},y.CreateTags=function(e,n,r,i){var a=(y.id,n.split("_")[1]);if(i="-1"==$.inArray(a,y.preventClickFor)&&0!=i,y.hidValue.length<y.maxSelection){var o,s=y.uEscp(n).split("_"),c=n.split("_"),l=3==c.length?c[0]+"_"+c[1]:c[0]+"_"+c[1]+"_"+c[2];if("string"!=typeof e?(o=e.text(),e.addClass("chkd")):o=e,y.TagCnt++,y.selectedCounter&&(y.obj.postPlaceholder&&y.obj.postPlaceholder.text?y.inpElm.attr("placeholder",y.obj.postPlaceholder.text):y.inpElm.attr("placeholder","")),!1!==i){o=o.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),y.tagwithOptGroup&&(o="<b>"+s[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+o+")");var u=$("<li>").append('<span class="tagTxt">'+o+"</span>"),d="tg_"+n;y.tagTitle&&u.attr("title",o);var p=y.tagInSepContainer;if(p||!1===i){var h=u.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":d}),f=$("#"+p)[0];if(y.appendTags){var m=f.children[r];m?m.parentNode.insertBefore(h[0],m):$("#"+p).append(h)}else!1===i||f.insertBefore(h[0],f.firstChild)}else y.appendTags?y.rootCont.find(".DDsearch li").last().before(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})):y.rootCont.find(".DDsearch").prepend(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})),y.inpElm.css({width:v+"px"});y.Fn.preserveEventafterClone(d,!0)}$("#ul_"+y.id).find('[data-id="'+l+'"]').addClass("chkd"),y.setValueInHiddenField(s[1],o),y.ChkBoxContr[s[1]]=n,y.onClickReq(t,y.dUnderScore(y.uEscp(s[1])),"Checked",$('li[data-id="tg'+n+'"]'),y.TagCnt),y.setInputText()}else y.onError({msg:"Max "+y.maxSelection+" selections are allowed",type:"maxSelection_Reached"}),y.onTagCreate("Maximum Tags Created");y.tags&&!y.tagInSepContainer&&(y.inpElm.val(""),y.setLi(y.id),y.max_height())},y.disb_Scroll_handler=function(e){var t=e.keyCode;if(40===t||38===t||32===t)return e.preventDefault(),!1},y.setValueInHiddenField=function(e,t,n){var r=y.id,i={};i[e]=t,$.extend(y.selectedValues,i),e&&t?("all"==t.toLowerCase()&&(y.Allflg="all"),e=y.dUnderScore(y.uEscp(e)).replace(y.sortPrefix,""),y.inpHid.val()?(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue))):(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue)),$("#clrAll_"+r).show(),y.tagInSepContainer?$("#"+y.tagInSepContainer).show():y.rootCont.find("li.frst").css({float:"left"})),y.onTagCreate()):!1!==n&&(y.inpElm.val(""),y.inpHid.val("")),y.onChangeHandler(y.hidValue,y.selectedValues)},y.init(),y.PickValuesFromDD(),y.liMousehover(),y.parentChkBox&&y.clickParent(),y.allChk&&y.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click(),y.onChangePrevent_onInit=!1};p.prototype=function(e){var t,n=function(e){var t=this,n=t.id;d&&d!==n&&$("#dp_"+d).hide(),d=n;var r=t.rootCont;r.addClass("open"),r.find(".DDwrap").addClass("brBotN"),r.find(".drop").show(),t.scrollToTop&&($("#ul_"+n)[0].scrollTop=0),t.drpLyrWth&&t.dpLyr.css({width:t.drpLyrWth}),t.max_height(),t.checkBox||t.firstHighlight()},r=function(){var e=this;e.inpElm.on("focus click",c(e.focusEv,300,!0)).on("keydown",function(t){e.keyDownEv(t,$(this))}).on("keyup",e.Fn.keyUpEv).on("blur",e.blurEv)},a=function(){var e=this;$("#"+e.id).addClass("disable"),e.inpElm.attr("readonly","readonly"),e.inpElm.off("click focus keydown keyup blur")},o=function(){var e=this,t=$("#"+e.id);t.hasClass("disable")&&(t.removeClass("disable"),e.inpElm.removeAttr("readonly"),e.bindEvents())},s=function(e){var t=this,n=(t.id,{});if(t.checkBox)if(e.length&&"object"===(void 0===e?"undefined":l(e)))for(var r in e)n[e[r]]="1";else n[e]="1";else e.length&&(n[e.toString()]="1");return n},u=function(){var e=this,t=e.id;for(var n in e.ChkBoxContr){var r,i=e.ChkBoxContr[n],a=i.split("_");if(3==a.length?r=a[0]+"_"+a[1]:4==a.length&&(r=a[0]+"_"+a[1]+"_"+a[2]),$("#ul_"+t).find('[data-id="'+r+'"]').removeClass("chkd"),e.tagInSepContainer?$("#"+e.tagInSepContainer).find('[data-id="tg_'+i+'"]').remove():e.rootCont.find(".DDsearch").find('[data-id="tg_'+i+'"]').remove(),e.parentChkBox||e.allChk){if(e.parentChkBox)var o=e.dUnderScore(e.uEscp(a[2]));else var o="All";var s=a[1],c=e.optgrpObject[o].checked.indexOf(s);c>-1&&e.optgrpObject[o].checked.splice(c,1),e.optgrpObject[o].unchecked.push(s)}}e.parentChkBox&&$("#ul_"+t).find('li a[data-id="'+t+'"]').removeClass("chkd"),e.allChk&&($("#ul_"+t).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")),e.resetInpWidth(t),e.ChkBoxContr={},e.inpHid.val(""),e.hidValue=[],e.TagCnt=0,e.setPlaceHolderAttribute()},p=function(){var e=this,t=(e.id,e.rootCont);e.dpLyr.remove(),e.inpHid.remove(),t.find(".DDsearch .tagit").remove(),e.inpElm.val("").attr({placeholder:e.inpElm.data("placeholder"),name:e.inpElm.data("name")}),e.inpElm.removeAttr("autocomplete style"),e.inpElm.off("focus keydown keyup blur"),t.find(".DDwrap").show(),t.data("droope",null)},h=function(e,t,n,r){var i=this,a=i.id,o=e.replace("tg_",""),s=i.uEscp(o).split("_"),c=$("#hid_"+a).val();c=c?JSON.parse(c):"";var l=4==s.length?s[0]+"_"+s[1]+"_"+s[2]:s[0]+"_"+s[1];if(-1!=$.inArray(i.dUnderScore(i.uEscp(s[1])),c)){if($("#ul_"+a).find('[data-id="'+i.Escp(l)+'"]').removeClass("chkd"),i.parentChkBox){var u=l.split("_");u=u[u.length-1];for(key in i.parentRefData[u])$(i.parentRefData[u][key]).find("a").hasClass("chkd")||($("#ul_"+a).find('li[data-id="opt_'+u+'"]').find("a").removeClass("chkd"),$("#ul_"+a).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+a).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),i.onClickAll("unchecked")))}r?$("#"+r).remove():i.tagInSepContainer?$("#"+i.tagInSepContainer).find('[data-id="'+e+'"]').remove():i.rootCont.find(".DDsearch").find('[data-id="'+e+'"]').remove(),i.emptyHidField(o.split("_")[1],a,t),--i.TagCnt||i.setPlaceHolderAttribute();for(var d in i.ChkBoxContr)i.ChkBoxContr[d]==o&&delete i.ChkBoxContr[d];n&&i.onClickReq(i.obj,i.dUnderScore(i.uEscp(s[1])),"Unchecked","",i.TagCnt),i.setInputText()}},f=function(){var e=[],t=this,n=t.id,r=t.prefillDataFormation(t.prefillData);e[n]=r,t.inpHid.val()&&t.removeAllTags(),t.NLi=t.appendData(t.Ary,e,r),t.fillDatainDropdwonLayer(n,t.NLi[0],0,t.NLi[3],t.NLi[4]),t.liCntrFx=t.liCntr=t.NLi[1],t.createTags_ifPrefillData(t.NLi[2])},y=function(e,n,r,i){var a,o,s="",c=this,u=c.id,d=[],p="",h=0,f=0;c.allChk&&(s+=c.createParLi("all","All","0",!0));for(var y in e){o=y;for(var m in e[y]){var v=m.replace(c.sortPrefix,""),g=c.eUnderScore(c.Escp(v));if("object"===l(e[y][m])){var b=c.parentChkBox;s+=c.createParLi(g,m,u,b,o);var _=[];h++;var E=[];c.optgrpObject[m]={},c.optgrpObject[m].checked=E,c.optgrpObject[m].unchecked=_;for(var k in e[y][m]){r&&void 0!=r[k]?E.push(k):_.push(k),c.optgrpNameRef[k]={pName:m,text:e[y][m][k]};var C=c.Escp(k).replace(c.sortPrefix,"");if(n[u])if(n[u][C]){var w;if(parseInt(n[u][C])&&(w=C),w===C){c.inpVal=k,p=e[y][m][k];var T=y?u+"_"+C+"_"+g+"_"+y:u+"_"+C+"_"+g,O=[p,T,u,C];d[f++]=O,h++,c.tags&&c.SingleSelection(p,[u,k]),s+=c.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:"",dis:S,title:t}),a=g}}else{r.toString()===C&&(c.inpVal=k,p=e[y][m][k],a=g,c.tags&&c.SingleSelection(p,[u,k])),h++;var D=c.selCheckBox(u,g,y,C);s+=c.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:D,dis:S,title:t})}else{r===k&&(c.inpVal=k,p=e[y][m][k]);var x=c.selCheckBox(u,g,y,C);s+=c.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:x,dis:S,title:t}),h++}}}else{if(c.optgrpNameRef[m]={text:e[y][m]},c.allChk){var _=[],E=[];c.optgrpObject.All={},c.optgrpObject.All.checked=E,c.optgrpObject.All.unchecked=_;for(var k in e[y])void 0!=r[k]?E.push(k):_.push(k)}if(c.optgrpNameRef[m]={text:e[y][m]},c.checkBox){var I="";if(n&&!$.isEmptyObject(n[u])&&n[u][v]&&(I=v),I==v||I&&c.sortPrefix&&!c.sortPrefix.match(m)){var j=[e[y][m],u+"_"+g+"_"+y,u,m];d[f++]=j,s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:y,chkd:"",dis:S,title:t}),h++}else{var N=c.selCheckBox(u,g,y);s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:y,chkd:N,dis:S,title:t}),h++}}else{var I="";n&&!$.isEmptyObject(n[u])&&n[u][v]&&(I=v),I==v||I&&c.sortPrefix&&!c.sortPrefix.match(m)?(s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:"",chkd:"",dis:S,title:t}),c.inpVal=v,p=e[y][m],h++,i||c.SingleSelection(e[y][m],[u,v])):(s+=c.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:"",chkd:"",dis:S,title:t}),h++)}}}}if(c.checkBox&&!1===c.tagsSorting){var P=[],A=0;for(var M in r)for(var L in d)d[L][3]==M&&(P[A++]=d[L]);d=P}return $.extend(c.Ary[o],e[o]),[s,h,d,p,a]},m=function(e,t,n){var r=0,i=0,n=n.split("_")[0];for(key in e)r++,0==e[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),i++):($("#ul_"+n).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+n).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));r==i&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},v=function(e){return e?e.replace(/\s/g,"SxP"):""},g=function(e){return!!e&&e.replace(/SxP/g," ")},b=function(e){return e?e.replace(/\_/g,"undrxxscr"):""},_=function(e){return e?e.replace(/undrxxscr/gi,"_"):""},E=function(){var e=this,t=e.id;$("#ul_"+t).on("click","li.optgroup",function(){var e=this,t=$(this).nextUntil("li.optgroup"),n=t.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")&&$(t).eq(i).find("a").click();$(e).children("a").removeClass("chkd")}else{for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")||$(t).eq(i).find("a").click();$(e).children("a").addClass("chkd")}})},k=function(){var e=this,t=e.id;$("#ul_"+t).on("click",'li.optgroup[data-id="opt_all"]',function(t){t.stopImmediatePropagation();var n=this,r=$(this).siblings("li.optgroup"),i=r.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")||$(r).eq(j).click();$(n).children("a").addClass("chkd")}else{for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")&&$(r).eq(j).click();$(n).children("a").removeClass("chkd"),e.onClickAll("unchecked")}})},C=function(e,t,n,r,i){var a="",o=this,e=e.toString(),s=e.toLowerCase().indexOf(t.toLowerCase()),c=e.toLowerCase(),l=t.toLowerCase(),u=!(c.indexOf(" "+l)<0)&&c.indexOf(" "+l),d=!(c.indexOf("("+l)<0)&&c.indexOf("("+l),p=!(c.indexOf("/"+l)<0)&&c.indexOf("/"+l);if(s>=0&&(u||d||p)||0===s){s&&(u?s=u+1:d?s=d+1:p&&(s=p+1));var h=e.substr(0,s),f="<b>"+e.substr(s,t.length)+"</b>",y=e.substr(s+t.length,e.length),m=o.Escp(r).replace(o.sortPrefix,"");a=o.selChkBox(m+"_"+i,n)?o.createLi({raw_id:m,id:m,txt:h+f+y,bnd:i,chkd:"chkd"}):o.createLi({raw_id:m,id:m,txt:h+f+y,bnd:i,chkd:""})}return a},w=function(e,t){var n=0,r=this;for(var i in r.ChkBoxContr)e==r.ChkBoxContr[i]&&(n=1);return!!n},T=function(e,t,n,r){var i=0;for(var a in this.ChkBoxContr){i=1;break}if(i)return r?this.selChkBox(e+"_"+r+"_"+t+"_"+n,e)?"chkd":"":this.selChkBox(e+"_"+t+"_"+n,e)?"chkd":""},O=function(e,t,n,r,i){i=i?'bindTo="'+i+'"':"",r=r?'class="'+r+'"':"";var a="";return a=r?'<a href="javascript:;" data-id='+n+">"+t+"</a>":t,'<li class="optgroup" '+i+" data-id=opt_"+e+">"+a+"</li>"},S=!1,D=function(e){var t=this,n=e.id,r=e.txt,i=e.bnd,a=e.chkd,o=(e.dis,e.title||""),s=e.raw_id;i=i?'bindTo="'+i+'"':"";var c=t.disableTag.length&&-1!=t.disableTag.indexOf(s)?"disable":"";return a=a?'class="'+a+'"':"",'<li title="'+o+'" class="pickVal '+c+'" '+i+' ><a href="javascript:;" '+a+' data-id="'+n+'" > '+this.replaceTag(r)+' <i class="icon"></i> </a></li>'},x=function(e){$("#clrAll_"+e).hide(),this.inpElm.css({width:""}),this.rootCont.find("li.frst").css({float:"none"})},I=function(){var e,t=this,n=t.id,r=$("#ul_"+n),i=r.find("ul");t.curActElm&&t.curActElm.removeClass("active"),t.curActElm=t.isFirstValueHighlight?i.find("li").first():t.curActElm;var a=t.Escp(t.inpHid.attr("value"));a&&!t.checkBox?(e=t.inpHid.data("optGroupKey")?n+"_"+a+"_"+t.inpHid.data("optGroupKey"):n+"_"+a,t.curActElm=i.find('[data-id="'+e+'"]').parent().addClass("active")):t.curActElm&&t.curActElm.addClass("active")},N=function(e,t,n){var r=this;n&&"all"==n.toLowerCase()&&(r.Allflg="");var i,a=r.dUnderScore(r.uEscp(e)).replace(r.sortPrefix,""),o=$.inArray(a,r.hidValue);-1!==o&&(r.hidValue.splice(o,1),i=JSON.stringify(r.hidValue)),0==r.hidValue.length&&(r.resetInpWidth(t),i=r.hidValue),r.inpHid.val(i),delete r.selectedValues[a],J.call(r,r.hidValue,r.selectedValues)},P=function(){var e,t=this,n=(t.id,"");if(e="all"==t.Allflg?"all":t.TagCnt,t.selectedCounter)if(t.TagCnt)if(t.showSelText&&t.hidValue.length){for(var r=0;r<t.hidValue.length;r++)n+=t.Ary.A[t.hidValue[r]]+", ";n=n.slice(0,-2),(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(n)}else(t.tagInSepContainer||!1===t.tags)&&(t.inpElm.attr({placeholder:t.preText+" "+e+" "+t.postText}),t.inpElm.val(""));else t.inpHid.val()||t.preserveText||(t.rootCont.find(".cross").hide(),t.checkBox&&t.inpElm.val(""),t.inpElm.css({width:""}))},A=function(){var e=this;e.inpElm.attr("placeholder",e.inpElm.data("placeholder")),e.inpElm.parents(".frst").css({"float-left":"none"})},M=function(e){var t=this,n=(t.id,0);t.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==e.key){var r=$(this).children("a");if(r.length){var i=r.data("id");r.hasClass("chkd")&&(delete t.ChkBoxContr[t.uEscp(i.split("_")[1])],t.removeTag("tg_"+i+"_"+t.Escp(e.key),r.html(),!0))}n++,$(this).remove()}}),delete t.Ary[e.key],t.liCntr=t.liCntr-n,$("#ul_"+t.id).find("li").length||$("#"+t.id).find(".tagit").remove()},L=function(e){this.removeData(e)},R=function(e,t){var n=this.id;for(var r in e)this.CreateTags(e[r],n+"_"+r+"_A",0,t)},B=function(e){var t=this.id;for(var n in e.keyObject)this.removeTag("tg_"+t+"_"+e.keyObject[n]+"_A","",e.tag_onof_flag,e.remId)},F=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],a=t.sortPrefix?t.sortPrefix+i:i,o=t.optgrpNameRef[a];-1==$.inArray(i[0],t.hidValue)&&(o.pName?t.CreateTags(o.text,n+"_"+i+"_"+o.pName+"_A"):t.CreateTags(o.text,n+"_"+i+"_A"))}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection(t.optgrpNameRef[e.key].text,[n,e.key])}},U=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],a=t.sortPrefix?t.sortPrefix+i:i,o=t.optgrpNameRef[a];o.pName?t.removeTag("tg_"+n+"_"+e.key[r]+"_"+o.pName+"_A"):t.removeTag("tg_"+n+"_"+e.key[r]+"_A")}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection("",[n])}},q=function(e){var t=this,n={},r=[],i={};i[e.key]=e.data,$.extend(t.Ary,i),e.status||(e.status="Checked");var a=e.key?e.key:"A";if("Checked"==e.status){n[a]=e.data;var o=t.prefillDataFormation(e.prefillData);r[t.id]=o,t.NLi=t.appendData(n,r,o),$("#ul_"+t.id).find("ul").append(t.NLi[0]),t.createTags_ifPrefillData(t.NLi[2]),t.liCntr+=t.NLi[1]}else"Unchecked"==e.status&&this.removeBlockofData(e)},V=function(e){var t=this;if(t.id,t.checkBox&&e)for(var n=0;n<e.length;n++){for(var r in t.prefillData)if(t.prefillData[r]==e[n][3])break;t.CreateTags(e[n][0],e[n][1],r,t.tags)}t.setInputText()},W=function(e){var t=this,n=t.id,r=!1===e.isReset?e.isReset:t.isReset,i=[],a=t.inpHid,o=$.trim(a.val());if(t.prefillData=e.prefillData,t.checkBox&&o&&(t.tagInSepContainer?$("#"+t.tagInSepContainer).find(".tagit").remove():t.rootCont.find(".DDsearch").find(".tagit").remove(),t.resetInpWidth(n),t.ChkBoxContr={},a.val(""),t.hidValue=[],t.TagCnt=0,t.setPlaceHolderAttribute()),r&&(t.inpElm.val(""),a.val("")),$.isEmptyObject(e.data))throw"Either data object is empty or undefined";t.Ary={A:e.data},t.ChkBoxContr=[];var s=t.prefillDataFormation(e.prefillData);i[n]=s;var c=t.appendData(t.Ary,i,s);t.dpLyr.find("ul").html(c[0]),t.createTags_ifPrefillData(c[2]),t.liCntr=c[1],t.firstHighlight(),t.max_height()},H=function(){var e=this;if(!e.preventClose){var t=e.id;if("block"==e.dpLyr.css("display")){if(e.dpLyr.hide(),e.rootCont.removeClass("open"),e.rootCont.find(".DDwrap").removeClass("brBotN"),!e.checkBox)if(e.curActElm&&e.curActElm.removeClass("active"),e.selectOnBlur){var n,r=e.inpHid,i=e.inpElm,a=e.uEscp(r.attr("opt")),o=e.Ary.A,s=e.getKeyFromVal(e.Ary.A,i.val()),c=s.retKey;n=s.parentKey?a?o[a][r.val()]:o&&o[s.parentKey][c]?o[s.parentKey][c]:"":a?o[a][r.val()]:o&&o[c]?o[c]:"",e.inpHid.val()||e.preserveText||n||e.inpElm.val("")}else e.inpHid.val()||e.preserveText||e.inpElm.val("");e.setInputText()}!1!==e.searchBox&&e.setLi(t)}},z=function(e){return{keys:this.hidValue,object:this.selectedValues}},K=function(){this.prefillData=[],this.ChkBoxContr={},this.selectedValues={},this.init()},G=function(){this.inpElm.val(""),this.Fn.initSearch("",this.id,8)},J=function(e,t){this.onChangePrevent_onInit||this.onChange(e,t,this)};return{showDD:n,bindEvents:r,disable:a,enable:o,prefillDataFormation:s,removeAllTags:u,destroy:p,removeTag:h,fillData:f,appendData:y,chkForParent:m,Escp:v,uEscp:g,eUnderScore:b,dUnderScore:_,clickParent:E,clickMain:k,searchData:C,selChkBox:w,selCheckBox:T,createParLi:O,createLi:D,resetInpWidth:x,firstHighlight:I,emptyHidField:N,setInputText:P,setPlaceHolderAttribute:A,removeData:M,removeBlockofData:L,addSelected:R,deleteSelected:B,select:F,deselect:U,addData:q,createTags_ifPrefillData:V,replaceData:W,hideDD:H,getSelectedValue:z,reset:K,resetSearch:G,onChangeHandler:J}}(),p.Ary={},p.lastRef={}},"2RmU":function(e,t,n){"use strict";var r=n("8Pvq"),i=n("XKdv"),a=n("j0sQ"),o=n("ZnEx"),s=n("Kd6K"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=window.interfaces,u=l.page,d=l.Redux,p=l.batchActions,h=d.bindActionCreators,f=null,y=void 0,m=void 0,v=void 0,g={},b=function(e){var t=e.match(s.c);return!(!t||!t.length)},_=function(e){var t=e.reAttemptOnReLogin,n=e.params,r=(e.dispatch,e.resolve),i=e.reject,a=e.path,o=e.resolveType;a=a.indexOf("/mnj/login")>=0?"/mnj/dashboard":a,u.redirect(a),t&&$.ajax(n).then(function(e,t,n){"obj"===o?r({data:e,textStatus:t,jqXHR:n}):r(e,t,n)},function(e,t,n){"obj"===o?i({jqXHR:e,textStatus:t,errorThrown:n}):i(e,t,n)})},E=function(e,t,n,r){0==e.status||(500==e.status?r({type:o.y,payload:{message:"Oops! something went wrong",type:"error"}}):"timeout"==t&&r({type:o.y,payload:{message:"Please check your internet connection and refresh",type:"error"}})),r({type:o.j})},k=function(e){var t=e.data,n=(e.textStatus,e.jqXHR,e.url,e.dispatch),r=[];if(t){var i=t.seo||t.job&&t.job.seo;i&&i.htmlTags}n(p(r))},C=function(e){var t=$.ajax;$.ajaxPromise=function(n){var r=new Promise(function(r,i){t(c({abortOnRouteChange:!0,timeout:1e4,dataType:"json",reAttemptOnReLogin:!1,xhrFields:{withCredentials:!0}},n)).then(function(e,t,n){if(e&&e.error){var a=c({},n,{status:e.error.status});i(a)}else r({data:e,textStatus:t,jqXHR:n})},function(t,a,o){if(401==t.status&&b(n.url)){var s=window.location.pathname;n.customLoginTitle,v.loginCallbacksSet({success:function(){_({reAttemptOnReLogin:n.reAttemptOnReLogin,params:n,dispatch:e,resolve:r,reject:i,path:s,resolveType:"obj"})}})}403==t.status||(201==t.status?r({data:"",textStatus:a,jqXHR:t}):i({jqXHR:t,textStatus:a,errorThrown:o}))})});return r.then(function(t){var r=t.data,i=t.textStatus,a=t.jqXHR;k({data:r,textStatus:i,jqXHR:a,url:n.url,dispatch:e})},function(t){var n=t.jqXHR,r=t.textStatus;t.errorThrown,E(n,r,0,e)}),r}},w=function(){$.ajaxPrefilter(function(e,t,n){"DELETE"==e.method&&(e.method="POST",e.type="POST",e.headers=c({},e.headers,{"X-HTTP-Method-Override":"DELETE"})),e.abortOnRouteChange&&!e.crossDomain&&f.add(n,e.method||"GET")})};t.a=function(e){C(e.dispatch),w(),m=h(c({},i),e.dispatch),y=h(r,e.dispatch),f=new a.a(y,m,e.getState()),e.subscribe(function(){var t=e.getState();g=t.route,f.onStoreUpdate(t,m)})}},"36Uf":function(e,t,n){"use strict";var r=n("zTev"),i=n("ozQU"),a=n("pLky").dictionary;e.exports={events:["messages:notify","messages:add","messages:remove","messages:sent","messages:sending","messages:sent-error","messages:change","messages:loaded","messages:delete"],lifecycle:{constructor:function(e){this._models.messages={}},cleanup:function(){var e=this;Object.keys(this._models.messages).forEach(function(t){var n=e._models.messages[t];n&&!n.isDestroyed&&n.destroy()}),this._models.messages=null},reset:function(){this._models.messages={}}},methods:{getMessage:function(e,t){if("string"!=typeof e)throw new Error(a.idParamRequired);return 0!==e.indexOf("layer:///")&&(e=i.prefixUUID+e),this._models.messages[e]?this._models.messages[e]:t?r.load(e,this):null},getMessagePart:function(e){if("string"!=typeof e)throw new Error(a.idParamRequired);var t=e.replace(/\/parts.*$/,""),n=this.getMessage(t);return n?n.getPartById(e):null},_addMessage:function(e){if(!this._models.messages[e.id]){this._models.messages[e.id]=e,this._triggerAsync("messages:add",{messages:[e]}),e._notify&&(this._triggerAsync("messages:notify",{message:e}),e._notify=!1);var t=e.getConversation(!1);if(t&&(!t.lastMessage||t.lastMessage.position<e.position)){var n=t.lastMessage;t.lastMessage=e,n&&this._scheduleCheckAndPurgeCache(n)}else this._scheduleCheckAndPurgeCache(e)}},_removeMessage:function(e){var t="string"==typeof e?e:e.id;if((e=this._models.messages[t])&&(delete this._models.messages[t],!this._inCleanup)){this._triggerAsync("messages:remove",{messages:[e]});var n=e.getConversation(!1);!this._inCheckAndPurgeCache&&n&&n.lastMessage===e&&(n.lastMessage=null,n._lastMessagePosition=e.position)}},_purgeMessagesByPosition:function(e,t){var n=this;Object.keys(this._models.messages).forEach(function(r){var i=n._models.messages[r];i.conversationId===e&&i.position<=t&&i.destroy()})},forEachMessage:function(e){var t=this;Object.keys(this._models.messages).forEach(function(n){return e(t._models.messages[n])})}}}},"3v6L":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("xyQn"),s=(n("70c7"),n("cPnc")),c=n("m0wR"),l=n("xyQn"),u=window.interfaces.Virtual,d=function(e){function t(){var n,a,o;r(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=a=i(this,e.call.apply(e,[this].concat(c))),a.handleDeleteConversation=function(e){e.preventDefault(),e.stopPropagation(),a.props.onDeleteConversation(a.props.conversation.id)},a.changeActiveConversationId=function(e){a.props.active||!a.props.activeConversationId?a.props.changeActiveConversationId(a.props.conversation.id,"list"):(a.props.changeActiveConversationId(null,""),setTimeout(function(){a.props.changeActiveConversationId(a.props.conversation.id,"list")})),$(".chatDrawer").blur()},o=n,i(a,o)}return a(t,e),t.prototype.renderUserDetails=function(e,t){return e.map(function(e){var n=e.metadata&&e.metadata.designation,r=e.metadata&&e.metadata.employerName,i=n+" at "+r;n||r?e.metadata&&!e.metadata.employerName&&e.metadata.designation&&(i=n):i="Fresher";var a=e.displayName&&Object(l.i)(e.displayName);return u.createElement("section",null,u.createElement("p",{className:"job-seeker-title ellipses",title:a||"Candidate"},a||"Candidate"),u.createElement("p",{className:"job-seeker-desc ellipses",title:i},i),u.createElement("p",{className:"job-seeker-chat ellipses",title:t},t))})},t.prototype.renderUnreadCount=function(e){var t=e,n=2==t.toString().length?"11px":t.toString().length>=3?"9px":"";if(t)return u.createElement("span",{className:"chat-count",style:{fontSize:n}},t)},t.prototype.renderLastMessageDate=function(e){var t=void new Date;switch(e instanceof Date||(e=new Date),o.c(e)){case"today":t=o.b(e);break;case"yesterday":t=c.a.YESTERDAY_LABEL;break;case"before":default:t=o.d(e)}return u.createElement("span",null,t)},t.prototype.renderReadStatus=function(e,t){var n=e.recipientStatus,r=e.isSynced,i=t.id;if(!1===r)return null;switch(n[i]){case layer.Constants.RECEIPT_STATE.SENT:return u.createElement("span",{className:"tick-font-wrapper"},u.createElement("i",{class:"fontIcon wf-chat-single-tick"}));case layer.Constants.RECEIPT_STATE.DELIVERED:return u.createElement("span",{className:"tick-font-wrapper"},u.createElement("i",{class:"fontIcon wf-chat-double-tick"}));case layer.Constants.RECEIPT_STATE.READ:return u.createElement("span",{className:"tick-font-wrapper"},u.createElement("i",{class:"fontIcon wf-chat-double-tick read-tick"}));case layer.Constants.RECEIPT_STATE.PENDING:return u.createElement("span",{className:"tick-font-wrapper"},u.createElement("i",{className:"fontIcon chatwindow-not-send wf-chat-msg-not-send"}))}},t.prototype.render=function(){var e=this,t=this.props,n=t.conversation,r=(t.active,t.deleteConversation,n.participants.filter(function(e){return!e.sessionOwner})),i=(n.metadata.conversationName||r.map(function(e){return e.displayName}).join(", "),n.lastMessage),a=i?i.sender:{sessionOwner:""},o=a.sessionOwner,l=void 0;o&&(l=this.renderReadStatus(i,r[0]));var d=i?i.parts[0]:{body:""},p=d.body;i&&i.parts.length>1&&(p=c.a.FILE_ATTACHED_MESSAGE);var h=this.renderUserDetails(r,p),f=this.renderUnreadCount(parseInt(n.unreadCount)),y=void 0,m=i||{sentAt:""},v=m.sentAt;return y=this.renderLastMessageDate(v),u.createElement("li",{className:"collection-item avatar animated job-seeker-item",onClick:function(){return e.changeActiveConversationId(r[0])}},u.createElement("div",null,u.createElement(s.a,{users:r}),h),u.createElement("div",null,u.createElement("span",null,f),u.createElement("p",{className:"last-chat"},y,l)))},t}(u.PureComponent);t.a=d},"4Ex3":function(e,t,n){(function(t){t.layer&&t.layer.Client||(t.layer=n("t+iR")),e.exports=t.layer}).call(t,n("DuR2"))},"4JXe":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n("tSPV"),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),u=n("8+5l"),d=r(u),p=n("A4of"),h=r(p),f=n("AX2D"),y=r(f),m=n("TAxY"),v=r(m),g=n("QzNM"),b=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,d.default)(e,t)})},_=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,h.default)(e,t)})},E=(s({},v.default.propTypes,{classNames:g.classNamesShape,onEnter:l.func,onEntering:l.func,onEntered:l.func,onExit:l.func,onExiting:l.func,onExited:l.func}),function(e){function t(){var n,r,o;i(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=a(this,e.call.apply(e,[this].concat(c))),r.onEnter=function(e,t){var n=r.getClassNames(t?"appear":"enter"),i=n.className;r.removeClasses(e,"exit"),b(e,i),r.props.onEnter&&r.props.onEnter(e)},r.onEntering=function(e,t){var n=r.getClassNames(t?"appear":"enter"),i=n.activeClassName;r.reflowAndAddClass(e,i),r.props.onEntering&&r.props.onEntering(e)},r.onEntered=function(e,t){var n=r.getClassNames("enter"),i=n.doneClassName;r.removeClasses(e,t?"appear":"enter"),b(e,i),r.props.onEntered&&r.props.onEntered(e)},r.onExit=function(e){var t=r.getClassNames("exit"),n=t.className;r.removeClasses(e,"appear"),r.removeClasses(e,"enter"),b(e,n),r.props.onExit&&r.props.onExit(e)},r.onExiting=function(e){var t=r.getClassNames("exit"),n=t.activeClassName;r.reflowAndAddClass(e,n),r.props.onExiting&&r.props.onExiting(e)},r.onExited=function(e){var t=r.getClassNames("exit"),n=t.doneClassName;r.removeClasses(e,"exit"),b(e,n),r.props.onExited&&r.props.onExited(e)},r.getClassNames=function(e){var t=r.props.classNames,n="string"!=typeof t?t[e]:t+"-"+e;return{className:n,activeClassName:"string"!=typeof t?t[e+"Active"]:n+"-active",doneClassName:"string"!=typeof t?t[e+"Done"]:n+"-done"}},o=n,a(r,o)}return o(t,e),t.prototype.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,a=n.doneClassName;r&&_(e,r),i&&_(e,i),a&&_(e,a)},t.prototype.reflowAndAddClass=function(e,t){e&&e.scrollTop,b(e,t)},t.prototype.render=function(){var e=s({},this.props);return delete e.classNames,y.default.createElement(v.default,s({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(y.default.Component));E.propTypes={},t.default=E,e.exports=t.default},"4wNg":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=n("zi+W"),u=n("pLky"),d=n("P+Qc"),p=(n("jPMo"),function(e){function t(){i(this,t);for(var e=void 0,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];2===r.length?(e=r[1].build(),e.client=r[0]):e=r[0];var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(s.predicate=s._fixPredicate(e.predicate||""),"paginationWindow"in e){var c=e.paginationWindow;s.paginationWindow=Math.min(s._getMaxPageSize(),e.paginationWindow),e.paginationWindow!==c&&d.warn("paginationWindow value "+c+" in Query constructor excedes Query.MaxPageSize of "+s._getMaxPageSize())}if(s.data=[],s._initialPaginationWindow=s.paginationWindow,!s.client)throw new Error(u.dictionary.clientMissing);return s.client.on("all",s._handleEvents,s),s.client.isReady?s._run():s.client.once("ready",function(){return s._run()},s),s}return o(t,e),s(t,[{key:"destroy",value:function(){this.data=[],this._triggerChange({data:[],type:"reset"}),this.client.off(null,null,this),this.client._removeQuery(this),this.data=null,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getMaxPageSize",value:function(){return this.constructor.MaxPageSize}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=void 0,n=void 0,r="function"==typeof e.build?e.build():e;if("paginationWindow"in r&&this.paginationWindow!==r.paginationWindow&&(this.paginationWindow=Math.min(this._getMaxPageSize()+this.size,r.paginationWindow),this.paginationWindow<r.paginationWindow&&d.warn("paginationWindow value "+r.paginationWindow+" in Query.update() increases size greater than Query.MaxPageSize of "+this._getMaxPageSize()),t=!0),"model"in r&&this.model!==r.model)throw new Error(u.dictionary.modelImmutable);if("predicate"in r){var i=this._fixPredicate(r.predicate||"");this.predicate!==i&&(this.predicate=i,n=!0)}return"sortBy"in r&&JSON.stringify(this.sortBy)!==JSON.stringify(r.sortBy)&&(this.sortBy=r.sortBy,n=!0),n&&this._reset(),(n||t)&&this._run(),this}},{key:"_fixPredicate",value:function(e){if(e)throw new Error(u.dictionary.predicateNotSupported);return""}},{key:"_reset",value:function(){this.totalSize=0;var e=this.data;this.data=[],this.client._checkAndPurgeCache(e),this.isFiring=!1,this._predicate=null,this._nextDBFromId="",this._nextServerFromId="",this.pagedToEnd=!1,this.paginationWindow=this._initialPaginationWindow,this._triggerChange({data:[],type:"reset"})}},{key:"reset",value:function(){this._reset(),this._run()}},{key:"_run",value:function(){var e=Math.min(this.paginationWindow-this.size,this._getMaxPageSize());if(e<0){var t=this.data.slice(this.paginationWindow);this.data=this.data.slice(0,this.paginationWindow),this.client._checkAndPurgeCache(t),this.pagedToEnd=!1,this._triggerAsync("change",{data:[]})}else 0===e||this.pagedToEnd||this._fetchData(e)}},{key:"_fetchData",value:function(e){}},{key:"_getSortField",value:function(){}},{key:"_processRunResults",value:function(e,t,n){var r=this;t!==this._firingRequest||this.isDestroyed||(this.isFiring=!1,this._firingRequest="",e.success?(this.totalSize=Number(e.xhr.getResponseHeader("Layer-Count")),(e.data.length<n||e.data.length===this.totalSize)&&(this.pagedToEnd=!0),this._appendResults(e,!1)):e.data.getNonce()?this.client.once("ready",function(){r._run()}):this.trigger("error",{error:e.data}))}},{key:"_appendResults",value:function(e,n){var r=this;e.data.forEach(function(e){e instanceof l||r.client._createObject(e)});var i=e.data.filter(function(e){return-1===r._getIndex(e.id)}),a=e.data.length;a&&(n?this._nextDBFromId=e.data[a-1].id:this._nextServerFromId=e.data[a-1].id),this.dataType===t.ObjectDataType&&(this.data=[].concat(this.data)),i.forEach(function(e){var t=r.client.getObject(e.id);t&&r._appendResultsSplice(t)}),this._triggerChange({type:"data",data:i.map(function(e){return r._getData(r.client.getObject(e.id))}),query:this,target:this.client})}},{key:"_appendResultsSplice",value:function(e){}},{key:"_getData",value:function(e){return this.dataType===t.ObjectDataType?e.toObject():e}},{key:"_getInstance",value:function(e){return e instanceof l?e:this.client.getObject(e.id)}},{key:"_getItem",value:function(e){var t=this._getIndex(e);return-1===t?null:this.data[t]}},{key:"_getIndex",value:function(e){for(var t=0;t<this.data.length;t++)if(this.data[t].id===e)return t;return-1}},{key:"_handleEvents",value:function(e,t){}},{key:"_handleChangeEvent",value:function(e,n){var i=this._getIndex(n.target.id);-1!==i&&(this.dataType===t.ObjectDataType&&(this.data=[].concat(r(this.data.slice(0,i)),[n.target.toObject()],r(this.data.slice(i+1)))),this._triggerChange({type:"property",target:this._getData(n.target),query:this,isChange:!0,changes:n.changes}))}},{key:"_handleAddEvent",value:function(e,n){var r=this,i=n[e].filter(function(e){return-1===r._getIndex(e.id)}).map(function(e){return r._getData(e)});if(i.length){var a=this.data=this.dataType===t.ObjectDataType?[].concat(this.data):this.data;i.forEach(function(e){a.push(e),r.totalSize+=1,r._triggerChange({type:"insert",index:a.length-1,target:e,query:r})})}}},{key:"_handleRemoveEvent",value:function(e,n){var i=this,a=[];n[e].forEach(function(e){var n=i._getIndex(e.id);-1!==n&&(e.id===i._nextDBFromId&&(i._nextDBFromId=i._updateNextFromId(n)),e.id===i._nextServerFromId&&(i._nextServerFromId=i._updateNextFromId(n)),a.push({data:e,index:n}),i.dataType===t.ObjectDataType?i.data=[].concat(r(i.data.slice(0,n)),r(i.data.slice(n+1))):i.data.splice(n,1))}),this.totalSize-=a.length,a.forEach(function(e){i._triggerChange({type:"remove",target:i._getData(e.data),index:e.index,query:i})})}},{key:"_updateNextFromId",value:function(e){return e>0?this.data[e-1].id:""}},{key:"_triggerChange",value:function(e){this.isDestroyed||this.client._inCleanup||(this.trigger("change",e),this.trigger("change:"+e.type,e))}},{key:"toString",value:function(){return this.id}}]),t}(l));p.prefixUUID="layer:///queries/",p.Conversation="Conversation",p.Channel="Channel",p.Message="Message",p.Announcement="Announcement",p.Identity="Identity",p.Membership="Membership",p.ObjectDataType="object",p.InstanceDataType="instance",p.MaxPageSize=100,Object.defineProperty(p.prototype,"size",{enumerable:!0,get:function(){return this.data?this.data.length:0}}),p.prototype.totalSize=0,p.prototype.client=null,p.prototype.data=null,p.prototype.model="",p.prototype.returnType="object",p.prototype.dataType=p.InstanceDataType,p.prototype.paginationWindow=100,p.prototype.sortBy=null,p.prototype._initialPaginationWindow=100,p.prototype.predicate=null,p.prototype.isFiring=!1,p.prototype.pagedToEnd=!1,p.prototype._firingRequest="",p.prototype._nextServerFromId="",p.prototype._nextDBFromId="",p._supportedEvents=["change","change:data","change:reset","change:property","change:insert","change:remove","change:move","error"].concat(l._supportedEvents),l.initClass.apply(p,[p,"Query"]),e.exports=p},"59JX":function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var a=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),a[t]=e>>>((3&t)<<3)&255;return a}}e.exports=n}).call(t,n("DuR2"))},"5JU8":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n("0Psq"),i=window.interfaces,a=i.Virtual,o=i.VirtualDom,s=i.Provider,c=window.interfaces.routeUtil.LazilyLoadWithLoader,l=(window.interfaces.storeUtil.UpdateStoreAndStyles,function(e,t){o.render(a.createElement(s,{store:e.store},a.createElement(c,{modules:r.a},function(t){var n=t.flow,r=n.FlowContainer;return a.createElement(r,{tasks:e.tasks})})),t)})},"5WAC":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("NOS6"),o=n("+uDm"),s=o.STARTED,c=(o.PAUSED,o.FINISHED),l=function(){function e(t){r(this,e),this.clientId=t.clientId,this.conversation=t.conversation,this.publisher=new a({clientId:this.clientId,conversation:this.conversation}),this.intervalId=0,this.lastKeyId=0,this._handleKeyPress=this._handleKeyPress.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this.setInput(t.input)}return i(e,[{key:"destroy",value:function(){this._removeInput(this.input),this.publisher.destroy()}},{key:"setInput",value:function(e){e!==this.input&&(this._removeInput(this.input),this.input=e,this.input.addEventListener("keypress",this._handleKeyPress),this.input.addEventListener("keydown",this._handleKeyDown))}},{key:"_removeInput",value:function(e){e&&(e.removeEventListener("keypress",this._handleKeyPress),e.removeEventListener("keydown",this._handleKeyDown),this.input=null)}},{key:"setConversation",value:function(e){e!==this.conversation&&(this.conversation=e,this.publisher.setConversation(e))}},{key:"_handleKeyPress",value:function(e){var t=this;this.lastKeyId&&window.clearTimeout(this.lastKeyId),this.lastKeyId=window.setTimeout(function(){t.lastKeyId=0;var e=!t.input.value;t.send(e?c:s)},50)}},{key:"_handleKeyDown",value:function(e){-1!==[8,46,13].indexOf(e.keyCode)&&this._handleKeyPress()}},{key:"send",value:function(e){this.publisher.setState(e)}}]),e}();e.exports=l},"6hGd":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("jPMo"),o=n("P+Qc"),s=n("ozQU"),c=n("H8F6"),l=n("VdYS"),u=function(){function e(t){r(this,e),this.client=t.client,t.socketManager.on("message",this._handleChange,this)}return i(e,[{key:"_handleChange",value:function(e){"change"===e.data.type?this._processChange(e.data.body):"operation"===e.data.type&&this.client.trigger("websocket:operation",{data:e.data.body})}},{key:"_processChange",value:function(e){switch(e.operation){case"create":o.info("Websocket Change Event: Create "+e.object.type+" "+e.object.id),o.debug(e.data),this._handleCreate(e);break;case"delete":o.info("Websocket Change Event: Delete "+e.object.type+" "+e.object.id),o.debug(e.data),this._handleDelete(e);break;case"update":o.info("Websocket Change Event: Patch "+e.object.type+" "+e.object.id+": "+e.data.map(function(e){return e.property}).join(", ")),o.debug(e.data),this._handlePatch(e)}}},{key:"_handleCreate",value:function(e){e.data.fromWebsocket=!0,this.client._createObject(e.data)}},{key:"_handleDelete",value:function(e){var t=this.getObject(e);t&&t._handleWebsocketDelete(e.data)}},{key:"_handlePatch",value:function(e){var t=this.getObject(e);if(t)try{t._inLayerParser=!0,a.layerParse({object:t,type:e.object.type,operations:e.data,client:this.client}),t._inLayerParser=!1}catch(t){o.error("websocket-manager: Failed to handle event",e.data)}else switch(a.typeFromID(e.object.id)){case"channels":l._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"conversations":c._loadResourceForPatch(e.data)&&this.client.getObject(e.object.id,!0);break;case"messages":s._loadResourceForPatch(e.data)&&this.client.getMessage(e.object.id,!0)}}},{key:"getObject",value:function(e){return this.client.getObject(e.object.id)}},{key:"destroy",value:function(){this.client=null}}]),e}();u.prototype.client=null,e.exports=u},"6phh":function(e,t,n){"use strict";var r=n("e6+Q"),i=n("cxPT"),a=n("FEYN");e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},"70c7":function(e,t,n){"use strict"},"793I":function(e,t,n){"use strict";var r=n("W/ob"),i=n("y358"),a=window.interfaces.connect,o=function(e){return{taskDataMap:e.taskDataMap,notifDataMap:e.notifDataMap,notification:e.notification,addTaskForm:e.addTaskForm,calenderDataMap:e.calenderDataMap,reminderDataMap:e.reminderDataMap}},s={getNotification:r.d,resetNotification:r.h,notificationCountViewed:r.g,getTask:r.e,setNotificationCount:r.i,updateAddTaskForm:r.k,submitAddTaskForm:r.j,deleteTaskAction:r.c,completeTaskAction:r.b,hideReminder:r.f,updateReminderAction:r.l,addTasks:r.a};t.a=a(o,s)(i.a)},"7Uc5":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces.Virtual,s=function(e){function t(){r(this,t);var n=i(this,e.call(this));return n.handleShowParticipants=function(e){e.preventDefault(),n.props.onShowParticipants()},n.togglePresence=function(e){e.preventDefault(),n.props.onTogglePresence()},n.toggleSearch=function(e){n.props.removeSearchFilter(),n.setState({showSearch:e},function(){!0===e&&n.searchBox.focus()})},n.searchInputChanged=function(e){n.props.searchInputChanged(e.target.value)},n.state={showSearch:!1},n}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.conversations,n=t.filter(function(e){return e.unreadCount>0}).length,r=0===n?"All Chats":"New Chats ("+n+")";return o.createElement("nav",{className:"navbar-fixed white"},this.state.showSearch?o.createElement("div",{className:"search-bar"},o.createElement("div",{className:"search-input"},o.createElement("input",{placeholder:"Search on Name, Company or Designation",ref:function(t){e.searchBox=t},onChange:this.searchInputChanged.bind(this)})),o.createElement("div",{className:"search-close"},o.createElement("i",{class:"fontIcon wf-chat-cross",onClick:this.toggleSearch.bind(this,!1)}))):o.createElement("div",{className:"nav-wrapper"},o.createElement("span",{className:"heading"},r),o.createElement("div",{className:"chat-list-actions right-align"},o.createElement("i",{className:"fontIcon wf-chat-search",onClick:this.toggleSearch.bind(this,!0)}))))},t}(o.PureComponent);t.a=s},"7fCg":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r=arguments[1],i=0;i<n;){var a=t[i];if(e.call(r,a,i,t))return a;i++}}});var r={1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12"},i={0:"00",1:"01",2:"02",3:"03",4:"04",5:"05",6:"06",7:"07",8:"08",9:"09",10:"10",11:"11",12:"12",13:"13",14:"14",15:"15",16:"16",17:"17",18:"18",19:"19",20:"20",21:"21",22:"22",23:"23",24:"24",25:"25",26:"26",27:"27",28:"28",29:"29",30:"30",31:"31",32:"32",33:"33",34:"34",35:"35",36:"36",37:"37",38:"38",39:"39",40:"40",41:"41",42:"42",43:"43",44:"44",45:"45",46:"46",47:"47",48:"48",49:"49",50:"50",51:"51",52:"52",53:"53",54:"54",55:"55",56:"56",57:"57",58:"58",59:"59"},a={AM:"AM",PM:"PM"},o=function(e,t){return Object.keys(e).find(function(n){return e[n]===t})}},"8+5l":function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var i=n("Hgtn"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports=t.default},"8Pvq":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"addRequest",function(){return i}),n.d(t,"removeRequest",function(){return a}),n.d(t,"abortAllRequest",function(){return o});var r=n("ZnEx"),i=function(e){var t=e.request,n=e.method;return{type:r.o,payload:{request:t,method:n}}},a=function(e){var t=e.request,n=e.method;return{type:r.p,payload:{request:t,method:n}}},o=function(e){return{type:r.n}}},"9HRS":function(e,t){e.exports="//static.naukimg.com/s/5/102/i/chat-icebreaker.png"},"A+05":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return o});var r=Object.freeze({SIMPLE:"notify",INSTA:"comment",TODO:"todo"}),i=Object.freeze({now:"now",later:"later"}),a=Object.freeze({inLightBox:1,inDropLayer:2,dueDateInDropLayer:3,callLaterInDropLayer:4}),o=Object.freeze({INTERESTED:"Remind me for sending JD",INTERVIEW_SCHEDULED:"Remind me for follow up",CALLED_LATER:"Remind me for call later",OTHER_TASK:"Add Task"})},A4of:function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},AXAs:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("4Ex3"),s=(n.n(o),n("FCgy")),c=n("NMAg"),l=n("BWtX"),u=n("XLZg"),d=n("SjXI"),p=(n.n(d),n("/dGF")),h=window.interfaces.Virtual,f=function(e){function t(){r(this,t);var n=i(this,e.call(this));return n.client=new o.Client({appId:Object(s.d)().app_id,isTrustedDevice:!0}),n.layerTracking=u.a.getInstance(),n.layerTimer=null,n.focusEvt=null,n.blurEvt=null,n.isLayerDisconnected=!1,n._challengeCallback=n._challengeCallback.bind(n),n._readyCallback=n._readyCallback.bind(n),n}return a(t,e),t.prototype._challengeCallback=function(e){var t=this,n=!1;"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName||(n=!0),e.nonce,n?this.layerTracking.track("debugClick",{}):this.layerTracking.track("debugView",{}),$.ajax({url:Object(s.d)().identity_provider_url+e.nonce+"&version=1.0",headers:{"Content-type":"application/json",Accept:"application/json",appId:15,withCredentials:!0,systemId:"naukri"},xhrFields:{withCredentials:!0},method:"GET"}).done(function(r){var i={otherData:{inChallengeBlock:"true",accessToken:r.token+""}};r.token?(i.otherData.tokenGenerated="true",e.callback(r.token)):(i.otherData.tokenGenerated="false",Object(s.f)(t.client),t.context.store.dispatch(Object(p.updateLayerStatus)(!0))),n?t.layerTracking.track("debugClick",{}):t.layerTracking.track("debugView",{})}).fail(function(e){n?t.layerTracking.track("debugClick",{}):t.layerTracking.track("debugView",{}),Object(s.f)(t.client),t.context.store.dispatch(Object(p.updateLayerStatus)(!0)),401===e.status&&window.location.reload()})},t.prototype._readyCallback=function(){var e=this,t=this.context.store.getState();this.context.store.dispatch(Object(p.updateLayerStatus)(!1)),Object(c.b)("layerUId",this.client.user.toObject().userId,.04,"/",".naukri.com"),s.c.id=this.client.user.toObject().userId,this.context.store.dispatch(Object(p.ownerSet)(this.client.user.toObject())),this.context.store.dispatch(Object(p.clientReady)()),this.client.user.toObject().userId,"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName||t.chatReducer.app.isLayerLoaded?this.layerTracking.track("debugView",{}):(this.layerTracking.track("debugClick",{}),setTimeout(function(){e.context.store.dispatch(Object(p.updateLayerConnection)(!0))},2e3))},t.prototype._bindWindowFocusEvents=function(){var e=this;this.focusEvt&&this.blurEvt||(this.focusEvt=$(window).on("focus",function(){clearTimeout(e.layerTimer),e.isLayerDisconnected&&(e.isLayerDisconnected=!1,e.client.reconnect())}),this.blurEvt=$(window).on("blur",function(){e.layerTimer=setTimeout(function(){e.isLayerDisconnected=!0,e.client.disconnect()},3e5)}))},t.prototype.componentDidMount=function(){var e=this;this.client.on("challenge",this._challengeCallback),this.client.on("ready",this._readyCallback);var t=this.context.store.getState();Object(c.a)("layerUId"),"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName||t.chatReducer.app.isLayerLoaded?(this.layerTracking.track("debugView",{}),this._bindWindowFocusEvents()):this.layerTracking.track("debugClick",{}),Object(s.e)(this.client),$(".gnb_lblFoot").on("click",function(){Object(s.f)(e.client)}),$(".subBor").on("click",function(){Object(s.f)(e.client)}),(location.pathname.indexOf("/ResetLogin/displayResetLogin")>-1||location.pathname.indexOf("/ChangeLogin/displayChangeLogin")>-1)&&Object(s.f)(this.client)},t.prototype.render=function(){return h.createElement(d.LayerProvider,{client:this.client},h.createElement(l.a,{startingPaginationWindow:100}))},t}(h.PureComponent);t.a=f},AioT:function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return d});var r=n("ZnEx"),i=n("T8XN"),a=n("N1N5"),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case r.a:return o({},t,(e={},e[n.payload.id]=n.payload,e));default:return t}},c=function(){var e,t,n,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments[1];switch(s.type){case r.d:return o({},a,(e={},e[s.payload.id]=s.payload,e));case r.g:return o({},a,(t={},t[s.payload.id]=o({},a[s.payload.id],{deleted:!0}),t));case r.f:return o({},a,(n={},n[s.payload.id]=o({},a[s.payload.id],{completed:!0}),n));case r.h:return o({},a,(i={},i[s.payload.id]=o({},a[s.payload.id],{description:s.payload.description,dueDate:s.payload.dueDate}),i));default:return a}},l=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case r.b:return o({},t,(e={},e[n.payload.id]=n.payload.notifData,e));case r.B:var i,a=t.notifDataMap[n.payload.id];return o({},t,(i={},i[n.payload.id]=o({},a,{viewed:!0}),i));default:return t}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.d,t=arguments[1];switch(t.type){case r.b:var n=e.list,s=Object(a.g)(t.payload.dueDate),c=e.dateMap[s]||[];if(-1==c.indexOf(t.payload.id)){var l;return-1==e.list.indexOf(s)&&(n=[].concat(e.list,[s])),o({},e,{list:n,dateMap:o({},e.dateMap,(l={},l[s]=[].concat(c,[t.payload.id]),l))})}return e;case r.A:return o({},e,{count:t.payload.count});case r.r:return i.d;default:return e}},d=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.f,s=arguments[1];switch(s.type){case r.c:return o({},n,(e={},e[s.payload.id]=s.payload,e));case r.x:var c=n.activeReminders;return-1==n.activeReminders.indexOf(s.payload.id)&&(c=[].concat(n.activeReminders,[s.payload.id])),o({},n,{activeReminders:c});case r.g:case r.f:c=n.activeReminders;var l=void 0,u="";return l=Object(a.d)(n,"referenceId",s.payload.id),u=c.indexOf(l),u>-1&&(window.clearTimeout(n[l].timerId),c.splice(u,1)),o({},n,{activeReminders:c});case r.C:var d=n[s.payload.id].dueDate,p=n[s.payload.id].status;return o({},n,(t={},t[s.payload.id]=o({},n[s.payload.id],{dueDate:s.payload.dueDate||d,status:s.payload.status||p}),t));case r.m:return c=n.activeReminders,u=c.indexOf(s.payload.id),u>-1&&(window.clearTimeout(n[s.payload.id].timerId),c.splice(u,1)),o({},n,{activeReminders:c});default:return n}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.b,t=arguments[1];switch(t.type){case r.e:var n=Object(a.g)(t.payload.dueDate.replace(" ","T")),s=e.dateMap[n]||[];if(-1==s.indexOf(t.payload.id)&&t.payload.id){var c;return o({},e,{dateMap:o({},e.dateMap,(c={},c[n]=[].concat(s,[t.payload.id]),c))})}var l;return o({},e,{dateMap:o({},e.dateMap,(l={},l[n]=s,l))});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.a,t=arguments[1];switch(t.type){case r.z:return t.payload;default:return e}}},"B+kz":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=n("zi+W"),u=n("jPMo"),d=n("kesd"),p=d.SYNC_STATE,h=n("4wNg"),f=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"_fetchData",value:function(e){var t=this,n=this._getSortField();this.client.dbManager.loadConversations(n,this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var r="conversations?sort_by="+n+"&page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");r!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=r,this.client.xhr({telemetry:{name:"conversation_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,r,e)}))}},{key:"_getSortField",value:function(){return this.sortBy&&this.sortBy[0]&&this.sortBy[0]["lastMessage.sentAt"]?"last_message":"created_at"}},{key:"_getItem",value:function(e){switch(u.typeFromID(e)){case"messages":for(var n=0;n<this.data.length;n++){var r=this.data[n];if(r.lastMessage&&r.lastMessage.id===e)return r.lastMessage}return null;case"conversations":return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_getItem",this).call(this,e)}}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleChangeEvent("conversations",t);break;case"conversations:add":this._handleAddEvent("conversations",t);break;case"conversations:remove":this._handleRemoveEvent("conversations",t)}}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===h.ObjectDataType){var i=t.getChangesFor("id");i.length&&(n=this._getIndex(i[0].oldValue))}if(-1!==n){var a=this._getSortField(),o=t.hasProperty("lastMessage")&&"last_message"===a,s=void 0;this.dataType===h.ObjectDataType?o?(s=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(s,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1))):o&&(s=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(s,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),o&&s!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:s})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=this._getSortField(),r=void 0;if("created_at"===n){for(r=0;r<t.length;r++){var i=t[r];if(i.syncState===p.NEW||i.syncState===p.SAVING);else if(e.createdAt>=i.createdAt)break}return r}var a=-1,o=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(r=0;r<t.length;r++){var s=t[r];if(s.id===e.id)a=r;else if(s.syncState===p.NEW||s.syncState===p.SAVING);else{var c=s.lastMessage?s.lastMessage.sentAt:s.createdAt;if(o>=c)break}}return-1===a||a>r?r:r-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var i=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,n._getData(e)),n.dataType===h.ObjectDataType&&(n.data=[].concat(i)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===h.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}(h);f._supportedEvents=[].concat(h._supportedEvents),f.MaxPageSize=100,f.prototype.model=h.Conversation,l.initClass.apply(f,[f,"ConversationsQuery"]),e.exports=f},BWtX:function(e,t,n){"use strict";function r(e){var t=e.chatReducer;return{owner:t.app.owner,ready:t.app.ready,layerError:t.app.layerError,activeConversationId:t.activeConversation.activeConversationId,conversationData:t.activeConversation.conversationData,blockedUsers:t.activeConversation.blockedUsers,isDrawerLoaded:t.activeConversation.isDrawerLoaded,chatFactory:new p.a,isLayerLoaded:t.app.isLayerLoaded}}function i(e){return{actions:Object(s.bindActionCreators)(d,e)}}function a(e,t){return{conversations:l.QueryBuilder.conversations().sortBy("lastMessage.sentAt","desc").paginationWindow(t.paginationWindow),users:l.QueryBuilder.identities()}}function o(e){return{paginationWindow:e.startingPaginationWindow||100}}var s=n("Ol7m"),c=n("DWM7"),l=n("4Ex3"),u=(n.n(l),n("SjXI")),d=(n.n(u),n("/dGF")),p=n("Tdeb"),h=window.interfaces.connect;t.a=h(r,i)(Object(u.connectQuery)(o,a)(c.a))},Cehq:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-search-result.png"},"DRm/":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("m0wR"),s=n("JcSM"),c=window.interfaces.Virtual,l=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.handleChange=function(e){a.props.onChange(e.target.value)},a.sendMessage=function(){var e=a.state.value.trim();a.props.onSubmit(e,"text"),a.setState({value:null},function(){a.messageInputChangeHandler()})},a.state={isSendAllowed:!0,value:null,showAttachJobModal:!1},a.attachedFile=null,a.attachLayerRef=null,a.toggleAttachLightbox=a.toggleAttachLightbox.bind(a),a.openAttachLightbox=a.openAttachLightbox.bind(a),a.sendMessage=a.sendMessage.bind(a),a}return a(t,e),t.prototype.sendAttchment=function(){var e=["pdf","doc","docx","ppt","pptx","xls","xlsx","jpeg","jpg","png","txt","rtf"],t=this.attachedFile.files[0];if(t.size>5242880)return this.props.attachmentErrorChange("The file you tried to upload exceeds 5 MB. Upload a smaller file.");var n=t.name.split("."),r=n[n.length-1];if(-1===e.indexOf(r.toLowerCase()))return this.props.attachmentErrorChange("Only pdf, doc, docx, ppt, pptx, xls, xlsx, jpeg, png, txt , rtf are allowed");this.props.selectAttachment(t)},t.prototype.openAttachLightbox=function(){var e=this;this.setState({showAttachJobModal:!0},function(){$(e.attachLayerRef).focus()})},t.prototype.messageInputChangeHandler=function(e){this.props.messageInputChangeHandler()},t.prototype.componentDidMount=function(){var e=this;$(this.attachLayerRef).on("focusin",function(t){e.setState({showAttachJobModal:!0})}),$(this.attachLayerRef).on("focusout",function(t){e.setState({showAttachJobModal:!1})}),this.setState({value:this.props.value}),this.messageInputChangeHandler(),$(".message-list").height(289)},t.prototype.componentWillUnMount=function(){$(this.attachLayerRef).off("focusin"),$(this.attachLayerRef).off("focusout")},t.prototype.toggleAttachLightbox=function(){this.props.toggleAttachLightBox({openAttachLightBox:!0})},t.prototype.getAttachmentOptions=function(){var e=this;return c.createElement("div",null,c.createElement("i",{className:"fontIcon wf-chat-attachment",onClick:this.openAttachLightbox}),c.createElement("div",{className:"materialize dropLayer chat-attachments"},c.createElement("ul",{style:{display:this.state.showAttachJobModal?"block":"none"}},c.createElement("li",{onClick:this.toggleAttachLightbox},c.createElement("span",null,c.createElement("i",{className:"fontIcon wf-chat-attach-job"})),c.createElement("p",null,o.a.ATTACH_JOB_LABEL)),c.createElement("li",null,c.createElement("input",{onClick:function(t){t.target.value=null,e.props.attachmentErrorChange(!1)},onChange:function(){e.sendAttchment()},type:"file",ref:function(t){return e.attachedFile=t},id:"file-button"}),c.createElement("label",{id:"getFileLabel",for:"file-button"},c.createElement("i",{className:"fontIcon wf-chat-attach-doc"})," ",o.a.ATTACH_DOC_LABEL)))))},t.prototype.isMessageValid=function(e){return!!e&&!!e.trim()},t.prototype.componentDidUpdate=function(){$("#chat-message-input").focus()},t.prototype.componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState({value:e.value})},t.prototype.render=function(){var e=this,t=this.props.user||{displayName:"undefined"!=typeof chatData&&chatData.displayName},n=t.displayName&&(t.displayName.length>15?t.displayName.substring(0,16)+"...":t.displayName);return c.createElement("div",{className:"message-composer",id:"textInputForMsg"},c.createElement("div",{ref:function(t){return e.attachLayerRef=t},tabIndex:"-1",style:{outline:"none",display:"inline-block",width:this.state.value?"":"12%"}},!this.state.value&&c.createElement("div",{className:"message-attachment"},this.getAttachmentOptions())),c.createElement("div",{className:"message-input-wrapper",style:{width:this.state.value?"80%":"88%",minHeight:"53px"}},c.createElement("textarea",{placeholder:t.displayName?"Send a message to "+n:"Write a message",rows:1,id:"chat-message-input",style:{minHeight:"42px"},onChange:function(t){e.messageInputChangeHandler(t),t&&""===t.target.value&&e.props.removePredefined(),e.setState({value:t&&t.target.value||""})},value:this.state.value})),this.isMessageValid(this.state.value)&&c.createElement(s.a,{isComposer:"true",sendMessage:this.sendMessage}))},t}(c.PureComponent);t.a=l},DWM7:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}var s=(n("yvWW"),n("oqnR")),c=n("u55p"),l=n("yjHx"),u=n("FtC1"),d=n("/cJY"),p=n("tpdk"),h=n("FCgy"),f=n("JZUj"),y=n.n(f),m=n("UVf0"),v=(n.n(m),n("xyQn")),g=n("NMAg"),b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=window.interfaces.Virtual,E=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.hideParticipants=function(e){var t=n.props.actions,r=t.hideParticipants;e.target.parentNode.classList.contains("participants-dialog")&&r()},n.state={showWindow:!1,isChatBlocked:!1,chatList_visible:!1,conversations:[],users:[],jobsLoaded:!1},n.toggleBlockedScreen=n.toggleBlockedScreen.bind(n),n.showChatList=n.showChatList.bind(n),n.hideChatList=n.hideChatList.bind(n),n.debounceFocusBlur=o(n.debounceFocusBlur.bind(n),100),n.popup=null,n.blockPrms=null,n.layerTimer=null,n.focusEvt=null,n.blurEvt=null,n.isLayerDisconnected=!1,localStorage&&n.showToolTip(),n}return a(t,e),t.prototype.showToolTip=function(){var e=void 0;if(e="object"===("undefined"==typeof gnb_variables?"undefined":b(gnb_variables))?window.gnb_variables:{},e.userId){var t=localStorage.getItem("chat-tooltip-time-"+e.userId);if(t){var n=new Date,r=new Date(t);Object(v.e)(n,r)>0&&($("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>"),localStorage.removeItem("chat-tooltip-time-"+e.userId))}else Object(v.a)("chat-tooltip-time-"),$("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")}},t.prototype.onChatIconCLick=function(e){var t=this;e&&e.preventDefault(),this.popup.setAttribute("tabIndex",-1),this.popup.focus(),this.loadJobs(),h.c.id!==Object(g.a)("layerUId")&&window.location.reload(),this.props.conversations.length&&null===this.props.blockedUsers&&(this.blockPrms||(this.blockPrms=Object(d.b)(this.props.owner.userId).then(function(e){t.props.actions.saveBlockedUsers(e),t.blockPrms=null},function(e){t.props.actions.saveBlockedUsers([]),t.blockPrms=null})))},t.prototype.hideChatList=function(){this.popup.removeAttribute("tabIndex"),this.setState({chatList_visible:!1})},t.prototype.showChatList=function(e){this.setState({chatList_visible:!0})},t.prototype.debounceFocusBlur=function(e){e()},t.prototype.componentDidMount=function(){var e=this;$(this.popup).on("focusin",function(){e.debounceFocusBlur(e.showChatList)}).on("focusout",function(){e.debounceFocusBlur(e.hideChatList)})},t.prototype.toggleBlockedScreen=function(e){this.setState({isChatBlocked:e})},t.prototype.renderLeftPanel=function(){var e=this.props,t=e.owner,n=e.users,r=e.conversations,i=e.activeConversationId,a=e.actions,o=e.isDrawerLoaded,c=0===r.length?this.state.conversations.filter(function(e){return"NEW"!==e.syncState}):r.filter(function(e){return"NEW"!==e.syncState});return _.createElement("div",{className:"left-panel"},_.createElement(s.a,{blockedUsers:this.props.blockedUsers,conversations:c,saveBlockedUsers:a.saveBlockedUsers,activeConversationId:i,onDeleteConversation:a.deleteConversation,changeActiveConversationId:a.changeActiveConversationId,activeWindow:a.activeWindow,users:0===n.length?this.state.users:n,updateUnreadConversationCount:a.updateUnreadConversationCount,chatList_visible:this.state.chatList_visible,owner:t,isDrawerLoaded:o,query:this.props.query,isLayerLoaded:this.props.isLayerLoaded}))},t.prototype.loadJobs=function(){this.state.jobsLoaded||this.setState({jobsLoaded:!0})},t.prototype.renderMessenger=function(){var e=this,t=this.props,n=t.users,r=t.owner,i=t.actions,a=t.conversations;return _.createElement("div",{className:"chatMessenger"},_.createElement(c.a,{loadJobs:function(){return e.loadJobs()},blockedUsers:this.props.blockedUsers,saveBlockedUsers:i.saveBlockedUsers,owner:this.props.owner,changeActiveConversationId:this.props.actions.changeActiveConversationId}),_.createElement("div",{className:"chat-list"},this.props.activeConversationId&&_.createElement(p.a,{owner:this.props.owner,conversationData:this.props.conversationData,saveBlockedUsers:i.saveBlockedUsers,toggleBlockedScreen:this.toggleBlockedScreen,conversations:0===a.length?this.state.conversations:a,activeConversationId:this.props.activeConversationId,show:this.state.showWindow,toggleShowWindow:this.toggleShowWindow,users:0===n.length?this.state.users:n,isChatBlocked:this.state.isChatBlocked}),this.props.conversationData.openBlockLightbox&&_.createElement(l.a,{saveBlockedUsers:i.saveBlockedUsers,toggleBlockedScreen:this.toggleBlockedScreen,blockedUsers:this.props.blockedUsers,conversationData:this.props.conversationData,toggleBlockLightbox:i.toggleBlockLightbox,isChatBlocked:this.state.isChatBlocked}),this.state.jobsLoaded&&_.createElement(u.a,{chatFactory:this.props.chatFactory,owner:r,selectJob:i.selectLiveJob,conversationData:this.props.conversationData,blockedUsers:this.props.blockedUsers,toggleAttachJobLightbox:i.toggleBlockLightbox})))},t.prototype.renderEmptyScreen=function(){return _.createElement("div",{className:"no-screen"})},t.prototype.renderRetryScreen=function(){var e=this;return _.createElement("div",{className:"chatDrawer"},_.createElement("div",{className:"retryScreen"},_.createElement("div",null,_.createElement("img",{src:y.a})),_.createElement("div",{className:"msgDiv"},_.createElement("p",{className:"first"},"There was an error while",_.createElement("br",null),"trying to load your messages."),_.createElement("p",{className:"second",onClick:function(){e.props.actions.updateLayerStatus(null),Object(h.e)(e.context.client);var t=e.context.client.createQuery({client:e.context.client,model:layer.Query.Conversation,sortBy:[{"lastMessage.sentAt":"desc"}]}),n=e.context.client.createQuery({client:e.context.client,model:layer.Query.Identity});t.on("change",function(t){t.isChange&&e.setState({conversations:t.query.data})}),n.on("change",function(t){t.isChange&&e.setState({users:t.query.data})})}},"Reload"))))},t.prototype._bindWindowFocusEvents=function(){var e=this;this.focusEvt&&this.blurEvt||(this.focusEvt=$(window).on("focus",function(){clearTimeout(e.layerTimer),e.isLayerDisconnected&&(e.isLayerDisconnected=!1,e.context.client.reconnect())}),this.blurEvt=$(window).on("blur",function(){e.layerTimer=setTimeout(function(){e.isLayerDisconnected=!0,e.context.client.disconnect()},3e5)}))},t.prototype.componentWillReceiveProps=function(e){var t=this;this.props.ready||!e.ready||"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName||(window.chatBtClicked?(window.chatBtClicked=!1,setTimeout(function(){t._bindWindowFocusEvents(),"preview"===pageName?$("[data-chat-open]").click():$("#chatOptionDrpdwn").click()},1500)):(window.isChatClickedOnce=!0,setTimeout(function(){t._bindWindowFocusEvents(),t.onChatIconCLick()})))},t.prototype.renderConversations=function(){return this.props.ready&&!this.props.layerError?this.renderLeftPanel():""},t.prototype.render=function(){var e=this;return _.createElement("div",{className:"right gnbChatIcon",style:{pointerEvents:null===this.props.layerError?"none":"visible",background:this.state.chatList_visible?"white":"none"},tabIndex:"-1"},_.createElement("span",{className:"fontIcon wf-chat-icon right",style:{opacity:null===this.props.layerError?"0.5":"0.9",color:this.state.chatList_visible?"#666":"inherit"},onClick:this.onChatIconCLick.bind(this)},this.props.isDrawerLoaded.unreadConversations>0&&_.createElement("span",{className:"chat-count"},this.props.isDrawerLoaded.unreadConversations)),_.createElement("div",{className:"clearfix"}),_.createElement(m.CSSTransition,{in:this.state.chatList_visible,timeout:1e3,classNames:"chatAnim"},_.createElement("div",{className:"materialize dropLayer",style:{right:"0px"},ref:function(t){return e.popup=t},tabIndex:"-1"},_.createElement("div",{className:!this.state.chatList_visible&&"hide"},this.renderConversations(),!this.props.ready&&this.props.layerError&&this.renderRetryScreen()))),this.props.owner.userId&&this.renderMessenger())},t}(_.Component);t.a=E},DnhF:function(e,t,n){"use strict";function r(e){return{reduxAction:e}}function i(e){return function(t){return function(t){return function(n){if(-1!=e.indexOf(n.type)){var i=r(n);s=JSON.stringify(i),localStorage.setItem(o.e.syncKey,s)}return t(n)}}}}function a(e){return function(t){if(t.key==o.e.syncKey&&t.newValue!=s){s=n;var n=JSON.parse(t.newValue),r=n.reduxAction;e.dispatch(r)}}}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return a});var o=n("Kd6K"),s=""},E7xV:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("4wNg"),l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"_fetchData",value:function(e){var t=this;this._nextDBFromId||this.client.dbManager.loadIdentities(function(e){e.length&&t._appendResults({data:e},!0)});var n="identities?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"identity_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"identities:change":this._handleChangeEvent("identities",t);break;case"identities:add":this._handleAddEvent("identities",t);break;case"identities:remove":this._handleRemoveEvent("identities",t)}}}]),t}(c);l._supportedEvents=[].concat(c._supportedEvents),l.MaxPageSize=500,l.prototype.model=c.Identity,s.initClass.apply(l,[l,"IdentitiesQuery"]),e.exports=l},Er7U:function(e,t,n){"use strict";(function(t){var n=t.getNativeSupport&&t.getNativeSupport("setImmediate");if(n)e.exports=n;else{var r=function(){for(o=!1,clearTimeout(i),i=0,a=0,s.push(a);s.length;){var e=s.shift();if("function"==typeof e)try{e()}catch(e){}else e>=c&&(s=[])}},i=0,a=0,o=!1,s=[],c=10;e.exports=function(e){if("function"!=typeof e)throw new Error("Function expected in defer");s.push(e),o||(o=!0,"undefined"!=typeof document?window.postMessage({type:"layer-set-immediate"},"*"):window.postMessage({type:"layer-set-immediate"}),i=setTimeout(r,0))},e.exports.flush=function(){return r()},e.exports.reset=function(){s=[]},addEventListener("message",function(e){"layer-set-immediate"===e.data.type&&r()})}}).call(t,n("DuR2"))},EvUg:function(e,t,n){"use strict";function r(e){if(!e)return{};var t=e.split(","),n={};return t.forEach(function(e){var t=e.split(";");if(2===t.length){var r=t[0].replace(/<(.*)>/,"$1").trim(),i=t[1].replace(/rel='?(.*)'?/,"$1").trim();n[i]=r}}),n}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a="undefined"==typeof window?n(0):null;e.exports=function(t,n){var o=Date.now(),s=a?new a:new XMLHttpRequest,c=(t.method||"GET").toUpperCase(),l=function(){var a={"content-type":this.getResponseHeader("content-type")},s={status:this.status,success:this.status&&this.status<300,xhr:this},c=String(a["content-type"]).split(/;/)[0].match(/^application\/json/)||"json"===t.format;if("blob"===this.responseType||"arraybuffer"===this.responseType)0===this.status?s.data=new Error("Connection Failed"):s.data="function"==typeof this.response?this.responseText:this.response;else{if(c&&this.responseText)try{s.data=JSON.parse(this.responseText)}catch(e){s.data={code:999,message:"Invalid JSON from server",response:this.responseText},s.status=999}else s.data=this.responseText;e.exports.trigger({target:this,status:this.responseText||this.status?"connection:success":"connection:error",duration:Date.now()-o,request:t}),this.responseText||this.status?404===this.status&&"object"!==i(s.data)?s.data={id:"operation_not_found",message:"Endpoint "+(t.method||"GET")+" "+t.url+" does not exist",status:this.status,httpStatus:404,code:106,url:"https://docs.layer.com/reference/client_api/errors"}:"string"==typeof s.data&&this.status>=400&&(s.data={id:"unknown_error",message:s.data,status:this.status,httpStatus:this.status,code:0,url:"https://www.google.com/search?q=doh!"}):(s.status=408,s.data={id:"request_timeout",message:"The server is not responding please try again in a few minutes",url:"https://docs.layer.com/reference/client_api/errors",code:0,status:408,httpStatus:408})}if(t.headers&&(t.headers.accept||"").match(/application\/vnd.layer\+json/)){var l=this.getResponseHeader("link");l&&(s.Links=r(l))}s.xhr=this,n&&n(s)};s.onload=l,s.onerror=s.ontimeout=l;var u=Object.keys(t.headers||{}),d={};u.forEach(function(e){"content-type"===e.toLowerCase()?d["content-type"]=t.headers[e]:d[e.toLowerCase()]=t.headers[e]}),t.headers=d;var p="";t.data&&("undefined"!=typeof Blob&&t.data instanceof Blob?p=t.data:t.headers&&(String(t.headers["content-type"]).match(/^application\/json/)||"application/vnd.layer-patch+json"===String(t.headers["content-type"]))?p="string"==typeof t.data?t.data:JSON.stringify(t.data):t.data&&"object"===i(t.data)?Object.keys(t.data).forEach(function(e){p&&(p+="&"),p+=e+"="+t.data[e]}):p=t.data),p&&"GET"===c&&(t.url+="?"+p),s.open(c,t.url,!0),t.timeout&&(s.timeout=t.timeout),t.withCredentials&&(s.withCredentials=!0),t.responseType&&(s.responseType=t.responseType),t.headers&&Object.keys(t.headers).forEach(function(e){return s.setRequestHeader(e,t.headers[e])});try{"GET"===c?s.send():s.send(p)}catch(e){}};var o=[];e.exports.addConnectionListener=function(e){return o.push(e)};var s=!1;e.exports.trigger=function(e){if(!s){s=!0;try{o.forEach(function(t){return t(e)})}catch(e){}s=!1}}},FCgy:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return o});var r=n("NMAg"),i=void 0===window.CUSTOM_URL||!window.CUSTOM_URL||"CLUSTER_URL"==window.CUSTOM_URL,a=i?"https://restservices.naukri.com/mapps":"http://identityservice.test2.30927.cluster.infoedge.com/identityservice/v1-0-0-beta40",o='\n                <span className="col l10 left-align">Chat with candidate</span>\n                ',s=function(){return{name:"Naukri.com final",app_id:"layer:///apps/production/87b799fe-0007-11e8-9399-43eda568cbca",identity_provider_url:a+"/chat-auth-services/v1/identitytoken?nonce="}},c={},l=function(e){c.id=Object(r.a)("layerUId"),e.connect(c.id?c.id:null)},u=function(e){return e.logout(),document.cookie="layerUId=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=.naukri.com"}},FEYN:function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},FPOI:function(e,t){},FtC1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("m0wR"),s=n("xyQn"),c=n("/cJY"),l=window.interfaces,u=l.Virtual,d=l.VirtualDom,p=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.lightbox=null,a.lightboxModal=null,a.lightboxRef=a.lightboxRef.bind(a),a.closeLightbox=a.closeLightbox.bind(a),a.attachJobRef=null,a.setJobRefModal=a.setJobRefModal.bind(a),a.state={liveJobs:[]},a}return a(t,e),t.prototype.attachedCallback=function(){var e=this;this.getLiveJobs().then(function(t){e.initalizeDrawer(t)},function(t){e.initalizeDrawer([])})},t.prototype.componentWillUnmount=function(){this.lightboxModal.destroy()},t.prototype.setJobRefModal=function(e){this.attachJobRef=e},t.prototype.getLiveJobs=function(){return new Promise(function(e,t){c.e().then(function(t){var n=Object(s.k)(t.data);e(n)},function(e){t(e)})})},t.prototype.closeLightbox=function(){this.props.toggleAttachJobLightbox({openAttachLightbox:!1}),this.lightboxModal.close()},t.prototype.componentWillReceiveProps=function(e){!this.props.conversationData.openAttachLightBox&&e.conversationData.openAttachLightBox&&this.lightboxModal.open()},t.prototype.lightboxRef=function(e){this.lightbox=e&&e.firstChild},t.prototype.initalizeDrawer=function(e){var t=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(n){var r=n.lightBox,i={trigger:$("<div>"),model:$(t.lightbox),dir:"right",routing:!1,fixed:!0,open:{event:"",anim:"",success:function(){}},dimens:{width:"751px",height:"452px"},close:{esc:!0,layer:!1,anim:"",success:function(){t.closeLightbox()}}};t.lightboxModal=r(i),d.render(u.createElement(h,{liveJobs:e,selectJob:t.props.selectJob,closeLightbox:t.closeLightbox}),t.attachJobRef)})},t.prototype.render=function(){return u.createElement("div",{ref:this.lightboxRef},u.createElement("div",{className:"attach-job-lightbox lightbox",ref:this.setJobRefModal,style:{background:"white",zIndex:99999}}))},t}(u.Component);t.a=p;var h=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.state={liveJobs:n.liveJobs,isSearchClicked:!1},a}return a(t,e),t.prototype.componentDidMount=function(){},t.prototype.filterLiveJobs=function(e){var t=e.target.value,n=this.props.liveJobs.filter(function(e){return-1!==e.title.indexOf(t)||-1!==e.postedBy.indexOf(t)||-1!==e.postedOn.indexOf(t)});this.setState({liveJobs:n})},t.prototype.reInitialiseCustomScroll=function(){$(".job-rows").removeClass("nScrollable"),$(".job-rows").addClass("nScroll")},t.prototype.setSearchModel=function(e){var t=this;this.searchBar=e,$(this.searchBar).on("focusout",function(){t.setState({isSearchClicked:!1})})},t.prototype.selectJob=function(e){this.props.selectJob(e),this.closeModal()},t.prototype.closeModal=function(){this.searchBar.value=null,this.setState({liveJobs:this.props.liveJobs}),this.props.closeLightbox()},t.prototype.showSearchBar=function(){var e=this;this.setState({isSearchClicked:!0},function(){e.searchBar.focus()})},t.prototype.render=function(){var e=this,t=this.state.liveJobs.slice(0),n=t.slice().map(function(t){return u.createElement("tr",{className:"row",onClick:function(){return e.selectJob(t)}},u.createElement("td",{className:"col s4 m4 l4 xl4 chat-align-center ellipses",title:t.title},u.createElement("div",{className:"row job-description"},u.createElement("div",{className:"col s12 m12 l12"},u.createElement("p",{title:t.title,className:"ellipses job-title"},t.title))),u.createElement("div",{className:"row"},u.createElement("div",{className:"col s12 m12 l12"},u.createElement("p",{className:"ellipses"},t.minExp+"-"+t.maxExp+" yrs-"+t.loc)))),u.createElement("td",{className:"col s3 m3 l3 xl3 chat-align-center ellipses",title:t.postedOn},t.postedOn),u.createElement("td",{className:"col s3 m3 l3 xl3 chat-align-center ellipses",title:t.postedBy},t.postedBy),u.createElement("td",{className:"col s2 m2 l2 xl2 chat-align-center ellipses"},u.createElement("span",null)))});return u.createElement("div",null,u.createElement("div",{className:"attach-job-lightbox-wrapper"},u.createElement("div",{class:"attach-job-text"},u.createElement("p",null,o.a.ATTACH_JOB_TITLE)),u.createElement("div",{class:"attach-job-close"},u.createElement("span",{onClick:function(){e.closeModal()}},u.createElement("i",{className:"fontIcon wf-chat-cross"})))),u.createElement("div",{className:"job-lists materialize"},u.createElement("table",{className:"centered"},u.createElement("tbody",null,u.createElement("div",{className:"job-lists-head"},u.createElement("tr",{className:"row"},u.createElement("td",{className:"col s4 m4 l4 xl4"},o.a.POSTED_JOBS_LABEL),u.createElement("td",{className:"col s3 m3 l3 xl3"},o.a.POSTED_ON_LABEL),u.createElement("td",{className:"col s3 m3 l3 xl3"},o.a.POSTED_BY_LABEL),u.createElement("td",{className:"col s2 m2 l2 xl2"},u.createElement("div",{style:{width:this.state.isSearchClicked?"100%":"30%"}},u.createElement("input",{id:"search-job-input",ref:function(t){e.setSearchModel(t)},type:"text",placeholder:"Search Jobs",style:{display:this.state.isSearchClicked?"block":"none"},onChange:function(t){e.filterLiveJobs(t)}}),u.createElement("i",{style:{display:this.state.isSearchClicked?"none":"block"},className:"fontIcon wf-chat-search",onClick:function(){return e.showSearchBar()}}))))),u.createElement("div",{className:"job-rows"},n)))))},t}(u.Component)},H8F6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("zTev"),u=n("XsJf"),d=n("sDhs"),p=n("pLky"),h=n("jPMo"),f=n("kesd"),y=n("yUvy"),m=n("P+Qc"),v=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.participants||(e.participants=[]);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isInitializing=!0;var a=n.getClient();return e&&e.fromServer||(n.participants=a._fixIdentities(n.participants),-1===n.participants.indexOf(a.user)&&n.participants.push(a.user)),n._register(),n.isInitializing=!1,n}return a(t,e),o(t,[{key:"destroy",value:function(){this.lastMessage=null,this.clientId&&this.getClient()._removeConversation(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.participants=null,this.metadata=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new d(t)}},{key:"_setupMessage",value:function(e){var t=void 0;this.lastMessage?t=this.lastMessage.position+1:this._lastMessagePosition?(t=this._lastMessagePosition+1,this._lastMessagePosition=0):t=0,e.position=t,this.lastMessage=e}},{key:"send",value:function(e){var n=this.getClient();if(!n)throw new Error(p.dictionary.clientMissing);var r=Boolean(this._sendDistinctEvent);return this._sendDistinctEvent&&this._handleLocalDistinctConversation(),r||this.syncState!==f.SYNC_STATE.NEW?(e&&this._setupMessage(e),this):(-1===this.participants.indexOf(n.user)&&this.participants.push(n.user),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"send",this).call(this,e))}},{key:"_handleLocalDistinctConversation",value:function(){var e=this._sendDistinctEvent;return this._sendDistinctEvent=null,this._triggerAsync("conversations:sent",e),this}},{key:"_getSendData",value:function(e){var t=h.isEmpty(this.metadata);return{method:"Conversation.create",data:{participants:this.participants.map(function(e){return e.id}),distinct:this.distinct,metadata:t?null:this.metadata,id:this.id}}}},{key:"markAllMessagesAsRead",value:function(e){if(!this.isSaved())return this;e||(e=this.lastMessage);var t=e&&e.isSaved()?e.position:null;return this._xhr({method:"POST",url:"/mark_all_read",data:{position:t},sync:{operation:"RECEIPT"}},function(e){e.success||m.error("Mark all as read failed; currently this error is not handled by Layer WebSDK")}),this}},{key:"_populateFromServer",value:function(e){var n=this,r=this.getClient();this._disableEvents=this.syncState===f.SYNC_STATE.NEW,this.participants=r._fixIdentities(e.participants),this.participants.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),this.distinct=e.distinct,this.unreadCount=e.unread_message_count,this.totalMessageCount=e.total_message_count,this.isCurrentParticipant=-1!==this.participants.indexOf(r.user),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),"string"==typeof e.last_message?this.lastMessage=r.getMessage(e.last_message):e.last_message&&(this.lastMessage=r._createObject(e.last_message)),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){this._populateFromServer(e.data),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:t.FOUND_WITHOUT_REQUESTED_METADATA})}},{key:"addParticipants",value:function(e){var t=this,n=this.getClient(),r=n._fixIdentities(e),i=r.filter(function(e){return-1===t.participants.indexOf(e)});return this._patchParticipants({add:i,remove:[]}),this}},{key:"removeParticipants",value:function(e){var t={};this.participants.forEach(function(e){return t[e.id]=!0});var n=this.getClient(),r=n._fixIdentities(e),i=r.filter(function(e){return t[e.id]});if(0===i.length)return this;if(i.length===this.participants.length)throw new Error(p.dictionary.moreParticipantsRequired);return this._patchParticipants({add:[],remove:i}),this}},{key:"replaceParticipants",value:function(e){if(!e||!e.length)throw new Error(p.dictionary.moreParticipantsRequired);var t=this.getClient(),n=t._fixIdentities(e),r=this._getParticipantChange(n,this.participants);return this._patchParticipants(r),this}},{key:"_patchParticipants",value:function(e){var t=this;this._applyParticipantChange(e),this.isCurrentParticipant=-1!==this.participants.indexOf(this.getClient().user);var n=[];e.remove.forEach(function(e){n.push({operation:"remove",property:"participants",id:e.id})}),e.add.forEach(function(e){n.push({operation:"add",property:"participants",id:e.id})}),this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()})}},{key:"_applyParticipantChange",value:function(e){var t=[].concat(this.participants);e.add.forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),e.remove.forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this.participants=t}},{key:"leave",value:function(){if(this.isDestroyed)throw new Error(p.dictionary.isDestroyed);this._delete("mode="+f.DELETION_MODE.MY_DEVICES+"&leave=true")}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(p.dictionary.isDestroyed);var t=void 0;switch(e){case f.DELETION_MODE.ALL:case!0:t="mode="+f.DELETION_MODE.ALL;break;case f.DELETION_MODE.MY_DEVICES:t="mode="+f.DELETION_MODE.MY_DEVICES+"&leave=false";break;default:throw new Error(p.dictionary.deletionModeUnsupported)}this._delete(t)}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;if(this._disableEvents=!1,"participants"===r[0]){var a=this.getClient();n=n.map(function(e){return a.getIdentity(e.id)}),e=e.map(function(e){return a.getIdentity(e.id)}),this.__updateParticipants(e,n)}else s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r);this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_getParticipantChange",value:function(e,t){var n={};return n.add=e.filter(function(e){return-1===t.indexOf(e)}),n.remove=t.filter(function(t){return-1===e.indexOf(t)}),n}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"_register",value:function(){var e=this.getClient();e&&e._addConversation(this)}},{key:"__adjustUnreadCount",value:function(e){if(e<0)return 0}},{key:"__updateUnreadCount",value:function(e,t){var n=this;this._inLayerParser?(void 0===this._oldUnreadCount&&(this._oldUnreadCount=t),this._updateUnreadCountTimeout&&clearTimeout(this._updateUnreadCountTimeout),this._updateUnreadCountTimeout=setTimeout(function(){return n._updateUnreadCountEvent()},1e3)):this._updateUnreadCountEvent()}},{key:"_updateUnreadCountEvent",value:function(){if(!this.isDestroyed){var e=this._oldUnreadCount,t=this.__unreadCount;this._oldUnreadCount=void 0,t!==e&&this._triggerAsync("conversations:change",{newValue:t,oldValue:e,property:"unreadCount"})}}},{key:"__updateLastMessage",value:function(e,t){e&&t&&e.id===t.id||this._triggerAsync("conversations:change",{property:"lastMessage",newValue:e,oldValue:t})}},{key:"__updateParticipants",value:function(e,t){var n=this;if(!this._inLayerParser){var r=this._getParticipantChange(e,t);r.add.forEach(function(e){return e.on("identities:change",n._handleParticipantChangeEvent,n)}),r.remove.forEach(function(e){return e.off("identities:change",n._handleParticipantChangeEvent,n)}),(r.add.length||r.remove.length)&&(r.property="participants",r.oldValue=t,r.newValue=e,this._triggerAsync("conversations:change",r))}}},{key:"_handleParticipantChangeEvent",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("conversations:change",{property:"participants."+n.property,identity:e.target,oldValue:n.oldValue,newValue:n.newValue})})}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(p.dictionary.clientMissing);var n={distinct:e.distinct,participants:e.client._fixIdentities(e.participants),metadata:e.metadata,client:e.client};if(n.distinct){var r=this._createDistinct(n);if(r)return r}return new t(n)}},{key:"_createDistinct",value:function(e){-1===e.participants.indexOf(e.client.user)&&e.participants.push(e.client.user);var n={};e.participants.forEach(function(e){n[e.id]=e});var r=e.client.findCachedConversation(function(t){if(t.distinct&&t.participants.length===e.participants.length){for(var r=0;r<t.participants.length;r++)if(!n[t.participants[r].id])return!1;return!0}});if(r)return r._sendDistinctEvent=new y({target:r,result:!e.metadata||h.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"conversations:sent"),r}}]),t}(u);v.prototype.participants=null,v.prototype.unreadCount=0,v.prototype.distinct=!0,v.prototype.lastMessage=null,v.prototype._lastMessagePosition=0,v.prototype._inMarkAllAsRead=!1,v.eventPrefix="conversations",v.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",v.prefixUUID="layer:///conversations/",v._supportedEvents=["conversations:sent","conversations:sent-error","conversations:loaded","conversations:loaded-error","conversations:delete","conversations:change"].concat(l._supportedEvents),c.initClass.apply(v,[v,"Conversation"]),l.subclasses.push(v),e.exports=v},Hgtn:function(e,t,n){"use strict";function r(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,e.exports=t.default},HrXv:function(e,t,n){!function(t,r){e.exports=function(e){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function(e,t,n){for(var r=!0;r;){var i=e,a=t,o=n;r=!1,null===i&&(i=Function.prototype);var s=Object.getOwnPropertyDescriptor(i,a);if(void 0!==s){if("value"in s)return s.value;var c=s.get;if(void 0===c)return;return c.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return;e=l,t=a,n=o,r=!0,s=l=void 0}},l=n(7),u=r(l),d=n(5),p=r(d),h=n(1),f=r(h),y=function(e){function t(e){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).call(this),this.state={showLoader:!1,lastScrollTop:0,actionTriggered:!1,pullToRefreshThresholdBreached:!1},this.startY=0,this.currentY=0,this.dragging=!1,this.maxPullDownDistance=0,this.onScrollListener=this.onScrollListener.bind(this),this.throttledOnScrollListener=(0,f.default)(this.onScrollListener,150).bind(this),this.onStart=this.onStart.bind(this),this.onMove=this.onMove.bind(this),this.onEnd=this.onEnd.bind(this),this.getScrollableTarget=this.getScrollableTarget.bind(this)}return a(t,e),s(t,[{key:"componentDidMount",value:function(){if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el.addEventListener("scroll",this.throttledOnScrollListener),"number"==typeof this.props.initialScrollY&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown.firstChild.getBoundingClientRect().height,this.forceUpdate(),"function"!=typeof this.props.refreshFunction))throw new Error('Mandatory prop "refreshFunction" missing.\n          Pull Down To Refresh functionality will not work\n          as expected. Check README.md for usage\'')}},{key:"componentWillUnmount",value:function(){this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd))}},{key:"componentWillReceiveProps",value:function(e){this.props.dataLength!==e.dataLength&&this.setState({showLoader:!1,actionTriggered:!1,pullToRefreshThresholdBreached:!1})}},{key:"getScrollableTarget",value:function(){return this.props.scrollableTarget instanceof HTMLElement?this.props.scrollableTarget:"string"==typeof this.props.scrollableTarget?document.getElementById(this.props.scrollableTarget):(this.props.scrollableTarget,null)}},{key:"onStart",value:function(e){this.state.lastScrollTop||(this.dragging=!0,this.startY=e.pageY||e.touches[0].pageY,this.currentY=this.startY,this._infScroll.style.willChange="transform",this._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)")}},{key:"onMove",value:function(e){this.dragging&&(this.currentY=e.pageY||e.touches[0].pageY,this.currentY<this.startY||(this.currentY-this.startY>=this.props.pullDownToRefreshThreshold&&this.setState({pullToRefreshThresholdBreached:!0}),this.currentY-this.startY>1.5*this.maxPullDownDistance||(this._infScroll.style.overflow="visible",this._infScroll.style.transform="translate3d(0px, "+(this.currentY-this.startY)+"px, 0px)")))}},{key:"onEnd",value:function(e){var t=this;this.startY=0,this.currentY=0,this.dragging=!1,this.state.pullToRefreshThresholdBreached&&this.props.refreshFunction&&this.props.refreshFunction(),requestAnimationFrame(function(){t._infScroll.style.overflow="auto",t._infScroll.style.transform="none",t._infScroll.style.willChange="none"})}},{key:"isElementAtBottom",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?.8:arguments[1],n=e===document.body||e===document.documentElement?window.screen.availHeight:e.clientHeight;return e.scrollTop+n>=t*e.scrollHeight}},{key:"onScrollListener",value:function(e){var t=this;"function"==typeof this.props.onScroll&&setTimeout(function(){return t.props.onScroll(e)},0);var n=this.props.height||this._scrollableNode?e.target:document.documentElement.scrollTop?document.documentElement:document.body;this.state.actionTriggered||(this.isElementAtBottom(n,this.props.scrollThreshold)&&this.props.hasMore&&(this.setState({actionTriggered:!0,showLoader:!0}),this.props.next()),this.setState({lastScrollTop:n.scrollTop}))}},{key:"render",value:function(){var e=this,t=o({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),n=this.props.hasChildren||!(!this.props.children||!this.props.children.length),r=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return u.default.createElement("div",{style:r},u.default.createElement("div",{className:"infinite-scroll-component",ref:function(t){return e._infScroll=t},style:t},this.props.pullDownToRefresh&&u.default.createElement("div",{style:{position:"relative"},ref:function(t){return e._pullDown=t}},u.default.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},!this.state.pullToRefreshThresholdBreached&&this.props.pullDownToRefreshContent,this.state.pullToRefreshThresholdBreached&&this.props.releaseToRefreshContent)),this.props.children,!this.state.showLoader&&!n&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))}}]),t}(l.Component);t.default=y,y.defaultProps={pullDownToRefreshContent:u.default.createElement("h3",null,"Pull down to refresh"),releaseToRefreshContent:u.default.createElement("h3",null,"Release to refresh"),pullDownToRefreshThreshold:100,disableBrowserPullToRefresh:!0},y.propTypes={next:p.default.func,hasMore:p.default.bool,children:p.default.node,loader:p.default.node.isRequired,scrollThreshold:p.default.number,endMessage:p.default.node,style:p.default.object,height:p.default.number,scrollableTarget:p.default.node,hasChildren:p.default.bool,pullDownToRefresh:p.default.bool,pullDownToRefreshContent:p.default.node,releaseToRefreshContent:p.default.node,pullDownToRefreshThreshold:p.default.number,refreshFunction:p.default.func,onScroll:p.default.func,dataLength:p.default.number.isRequired},e.exports=t.default},function(e,t){"use strict";function n(e,t,n){t||(t=250);var r,i;return function(){var a=n||this,o=+new Date,s=arguments;r&&o<r+t?(clearTimeout(i),i=setTimeout(function(){r=o,e.apply(a,s)},t)):(r=o,e.apply(a,s))}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n,e.exports=t.default},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r,a,o,s,c){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,a,o,s,c],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(3),a=n(6);e.exports=function(){function e(e,t,n,r,o,s){s!==a&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){e.exports=n(4)()},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,n){t.exports=e}])}(n("AX2D"))}()},I1te:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=(n("Kd6K"),n("9HRS")),s=n.n(o),c=window.interfaces.Virtual,l=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return a(t,e),t.prototype.render=function(){return c.createElement("div",{className:"message-list",style:{height:this.props.previewSelected?"260px":this.props.isChatBlocked?"265px":"289px"}},c.createElement("div",{className:"icebreaker"},c.createElement("img",{src:s.a}),c.createElement("div",{className:"middle-text"},c.createElement("p",{className:"mt-first"},"Unsure how to start?"),c.createElement("p",{className:"mt-second"}," Send the predefined ice-breaker & have a great conversation"))),void 0,this.props.isFirstMsgError&&c.createElement("div",{class:"fme"},c.createElement("div",{class:"fme-close"},c.createElement("i",{class:"fontIcon wf-chat-cross",onClick:this.props.closeError})),c.createElement("p",{class:"fme-text"},"There was an error sending your message. Try Again.")))},t}(c.PureComponent);t.a=l},IIOl:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("jPMo"),u=n("P+Qc"),d=n("pLky"),p=n("kesd"),h=p.WEBSOCKET_PROTOCOL,f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.client)throw new Error("SocketManager requires a client");return n._onMessage=n._onMessage.bind(n),n._onOpen=n._onOpen.bind(n),n._onSocketClose=n._onSocketClose.bind(n),n._onError=n._onError.bind(n),n.client.isAuthenticated&&n.client.onlineManager.isOnline&&(n.trigger("connecting",{from:"constructor",why:"initialization"}),n.connect()),n.client.on("online",n._onlineStateChange,n),n.client.on("authenticated",function(){n.trigger("connecting",{from:"constructor",why:"authenticated"}),n.connect()},n),n._lastTimestamp=Date.now(),n}return a(t,e),o(t,[{key:"_reset",value:function(){this._lastTimestamp=0,this._lastDataFromServerTimestamp=0,this._lastCounter=null,this._hasCounter=!1,this._needsReplayFrom=null}},{key:"_onlineStateChange",value:function(e){this.client.isAuthenticated&&(e.isOnline?(this.trigger("connecting",{from:"_onlineStateChange",why:"detect change to online"}),this._reconnect(e.reset)):(u.info("Websocket closed due to ambigious connection state"),this.trigger("disconnecting",{from:"_onlineStateChange",why:"detect change to offline"}),this.close()))}},{key:"_reconnect",value:function(e){this.close(),e&&this._reset(),this.connect()}},{key:"connect",value:function(e){if(!this.client.isDestroyed&&this.client.isOnline&&this.client._wantsToBeConnected){if(this._socket)return this._reconnect();this._closing=!1,this._lastCounter=-1;var t=this.client.websocketUrl+"/?session_token="+this.client.sessionToken+"&client-id="+this.client._tabId+"&layer-xdk-version="+this.client.constructor.version;u.info("Websocket Connecting");var r="undefined"==typeof WebSocket?n(1).w3cwebsocket:WebSocket;this._socket=new r(t,h),"undefined"==typeof WebSocket?(this._socket.onmessage=this._onMessage,this._socket.onclose=this._onSocketClose,this._socket.onopen=this._onOpen,this._socket.onerror=this._onError):(this._socket.addEventListener("message",this._onMessage),this._socket.addEventListener("close",this._onSocketClose),this._socket.addEventListener("open",this._onOpen),this._socket.addEventListener("error",this._onError)),this._connectionFailedId=setTimeout(this._connectionFailed.bind(this),5e3)}}},{key:"_clearConnectionFailed",value:function(){this._connectionFailedId&&(clearTimeout(this._connectionFailedId),this._connectionFailedId=0)}},{key:"_connectionFailed",value:function(){this._connectionFailedId=0;var e="Websocket failed to connect to server";u.warn(e);try{this.isOpen=!1,this._removeSocketEvents(),this._socket&&(this._socket.close(),this._socket=null)}catch(e){}this._onError(new Error(e))}},{key:"_onOpen",value:function(){this._clearConnectionFailed(),this._isOpen()&&(this._lostConnectionCount=0,this._lastSkippedCounter=0,this.isOpen=!0,this.trigger("connected"),u.debug("Websocket Connected"),this._hasCounter&&this._lastTimestamp?(this.trigger("replaying-events",{from:"resync",why:"reconnected"}),this.resync(this._lastTimestamp)):(this._enablePresence(),this._reschedulePing()))}},{key:"_isOpen",value:function(){return!!this._socket&&("undefined"==typeof WebSocket||this._socket&&this._socket.readyState===WebSocket.OPEN)}},{key:"_onError",value:function(e){this._closing||(this._clearConnectionFailed(),u.debug("Websocket Error causing websocket to close",e),this.isOpen?(this._onSocketClose(),this._socket.close(),this._socket=null):(this._removeSocketEvents(),this._lostConnectionCount++,this.trigger("schedule-reconnect",{from:"_onError",why:"websocket failed to open"}),this._scheduleReconnect()))}},{key:"sendSignal",value:function(e){this._isOpen()&&this._socket.send(JSON.stringify({type:"signal",body:e}))}},{key:"getCounter",value:function(e){var t=this;if(Date.now()-this._lastGetCounterRequest<1e3)return void(this._lastGetCounterId||(this._lastGetCounterId=setTimeout(function(){t._lastGetCounterId=0,t.getCounter(e)},Date.now()-this._lastGetCounterRequest-1e3)));this._lastGetCounterRequest=Date.now(),this._lastGetCounterId&&(clearTimeout(this._lastGetCounterId),this._lastGetCounterId=0),u.debug("Websocket request: getCounter"),this.client.socketRequestManager.sendRequest({data:{method:"Counter.read"},callback:function(t){u.debug("Websocket response: getCounter "+t.data.counter),e&&(t.success?e(!0,t.data.counter,t.fullData.counter):e(!1))},isChangesArray:!1})}},{key:"resync",value:function(e,t){var n=this;if(!e)throw new Error(d.dictionary.valueNotSupported);"number"==typeof e&&(e=new Date(e).toISOString()),this.client.socketRequestManager.cancelOperation("Event.replay"),this.client.socketRequestManager.cancelOperation("Presence.sync"),this._replayEvents(e,function(){n._enablePresence(e,function(){n.trigger("synced"),t&&t()})})}},{key:"_replayEvents",value:function(e,t){var n=this;this._isOpen()||this._needsReplayFrom?(u.info("Websocket request: _replayEvents"),this.client.socketRequestManager.sendRequest({data:{method:"Event.replay",data:{from_timestamp:e}},callback:function(r){return n._replayEventsComplete(e,t,r.success)},isChangesArray:!1})):(u.debug("Websocket request: _replayEvents updating _needsReplayFrom"),this._needsReplayFrom=e)}},{key:"_replayEventsComplete",value:function(e,t,n){var r=this;if(n)if(this._replayRetryCount=0,this._needsReplayFrom){if(this._needsReplayFrom){u.info("Websocket replay partially complete");var i=this._needsReplayFrom;this._needsReplayFrom=null,this.trigger("replaying-events",{from:"_replayEventsComplete",why:"_needsReplayFrom: "+i}),this._replayEvents(i)}}else u.info("Websocket replay complete"),t&&t();else if(this._replayRetryCount<8){var a=Math.min(this._replayRetryCount+4,11),o=l.getExponentialBackoffSeconds(20,a);u.info("Websocket replay retry in "+o+" ms"),setTimeout(function(){r.trigger("replaying-events",{from:"_replayEventsComplete",why:"_replayRetryCount: "+r._replayRetryCount}),r._replayEvents(e)},1e3*o),this._replayRetryCount++}else u.error("Websocket Event.replay has failed")}},{key:"_enablePresence",value:function(e,t){this.client.socketRequestManager.sendRequest({data:{method:"Presence.subscribe"},callback:null,isChangesArray:!1}),this.client.isPresenceEnabled&&this.client.socketRequestManager.sendRequest({data:{method:"Presence.update",data:[{operation:"set",property:"status",value:"auto"}]},callback:null,isChangesArray:!1}),e?this.syncPresence(e,t):t&&t({success:!0})}},{key:"syncPresence",value:function(e,t){if(e)return this.client.socketRequestManager.sendRequest({data:{method:"Presence.sync",data:{since:e}},isChangesArray:!0,callback:t})}},{key:"_onMessage",value:function(e){this._lostConnectionCount=0;try{var n=JSON.parse(e.data),r=this._lastCounter,i=this._lastCounter+1!==n.counter;this._hasCounter=!0,this._lastCounter=n.counter,this._lastDataFromServerTimestamp=Date.now(),i?(!this._lastSkippedCounter||this._lastSkippedCounter+t.IGNORE_SKIPPED_COUNTER_INTERVAL<Date.now()?(this.trigger("replaying-events",{from:"resync",why:"Counter skipped from "+r+" to "+n.counter}),this.resync(this._lastTimestamp)):this.trigger("ignore-skipped-counter",{from:"resync",why:"Counter skipped from "+r+" to "+n.counter+" but last resync was "+(Date.now()-this._lastSkippedCounter)+" seconds ago"}),this._lastSkippedCounter=Date.now()):this._lastTimestamp=new Date(n.timestamp).getTime(),this.trigger("message",{data:n}),this._reschedulePing()}catch(t){u.error("Layer-Websocket: Failed to handle websocket message: "+t+"\n",e.data)}}},{key:"_reschedulePing",value:function(){this._nextPingId&&clearTimeout(this._nextPingId),this._nextPingId=setTimeout(this._ping.bind(this),this.pingFrequency)}},{key:"_ping",value:function(){u.debug("Websocket ping"),this._nextPingId=0,this._isOpen()&&this.getCounter(this._reschedulePing.bind(this))}},{key:"close",value:function(){u.debug("Websocket close requested"),this._closing=!0,this.isOpen=!1,this._socket&&(this._onSocketClose(),this._socket.close(),this._socket=null)}},{key:"send",value:function(e){this._socket.send(JSON.stringify(e))}},{key:"destroy",value:function(){this.trigger("disconnecting",{from:"destroy",why:"client is being destroyed"}),this.close(),this._nextPingId&&clearTimeout(this._nextPingId),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_onSocketClose",value:function(){u.debug("Websocket closed"),this.isOpen=!1,this._closing||(this.trigger("schedule-reconnect",{from:"_onSocketClose",why:"Socket closed"}),this._scheduleReconnect()),this._removeSocketEvents(),this.trigger("disconnected")}},{key:"_removeSocketEvents",value:function(){"undefined"!=typeof WebSocket&&this._socket?(this._socket.removeEventListener("message",this._onMessage),this._socket.removeEventListener("close",this._onSocketClose),this._socket.removeEventListener("open",this._onOpen),this._socket.removeEventListener("error",this._onError)):this._socket&&(this._socket.onmessage=null,this._socket.onclose=null,this._socket.onopen=null,this._socket.onerror=null),this._clearConnectionFailed()}},{key:"_scheduleReconnect",value:function(){var e=this;if(!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated){var t=Math.min(this._lostConnectionCount+4,13),n=l.getExponentialBackoffSeconds(this.maxDelaySecondsBetweenReconnect,t);this.trigger("scheduling-reconnect",{counter:t,delay:n}),u.warn("Websocket Reconnect in "+n+" seconds"),this._reconnectId||(this._reconnectId=setTimeout(function(){e._reconnectId=0,e._validateSessionBeforeReconnect()},1e3*n))}}},{key:"_validateSessionBeforeReconnect",value:function(){var e=this;!this.isDestroyed&&this.client.isOnline&&this.client.isAuthenticated&&this.client.xhr({url:"/?action=validateConnectionForWebsocket&client="+this.client.constructor.version,method:"GET",sync:!1},function(t){t.success?(e.trigger("connecting",{from:"_validateSessionBeforeReconnect",why:"has valid session token"}),e.connect()):401===t.status||(e.trigger("schedule-reconnect",{from:"_validateSessionBeforeReconnect",why:"Unexpected error: "+t.status}),e._scheduleReconnect())})}}]),t}(c);f.prototype.isOpen=!1,f.prototype._reconnectId=0,f.prototype._connectionFailedId=0,f.prototype._lastTimestamp=0,f.prototype._lastDataFromServerTimestamp=0,f.prototype._lastCounter=null,f.prototype._hasCounter=!1,f.prototype._needsReplayFrom=null,f.prototype._replayRetryCount=0,f.prototype._lastGetCounterRequest=0,f.prototype._lastGetCounterId=0,f.prototype.pingFrequency=3e4,f.prototype.maxDelaySecondsBetweenReconnect=480,f.prototype.client=null,f.prototype._socket=null,f.prototype._closing=!1,f.prototype._lostConnectionCount=0,f.IGNORE_SKIPPED_COUNTER_INTERVAL=6e4,f._supportedEvents=["message","connected","disconnected","syncing","synced","connecting","disconnecting","replaying-events","scheduling-reconnect","schedule-reconnect","ignore-skipped-counter"].concat(c._supportedEvents),c.initClass.apply(f,[f,"SocketManager"]),e.exports=f},JZUj:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/chat-sad-face.png"},JcSM:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces,s=o.Virtual,c=(o.VirtualDom,function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return a(t,e),t.prototype.render=function(){return s.createElement("div",{className:"message-send"},s.createElement("div",{className:"message-send-icon",onClick:this.props.sendMessage},s.createElement("i",{className:"fontIcon wf-chat-send"})))},t}(s.Component));t.a=c},Jv2x:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments[1],n=t.payload;switch(t.type){case i.e:return a({},e,{ready:!0,clientReady:!0});case i.j:return a({},e,{owner:n.owner});case i.g:return a({},e,{layerError:n.data});case i.f:return a({},e,{isLayerLoaded:n.data});default:return e}}t.a=r;var i=n("uNDA"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=window.interfaces.actionTypes,s=(o.reduxPersist.REHYDRATE,{ready:!1,clientReady:!1,owner:{},layerError:null,isLayerLoaded:!1})},KGxs:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"route",function(){return _}),n.d(t,"app",function(){return k}),n.d(t,"chatReducer",function(){return C});var r=n("Jv2x"),i=n("Uk6N"),a=n("AioT"),o=n("Kd6K"),s=n("ZnEx"),c=n("dGmK");n.d(t,"taskDataMap",function(){return a.g}),n.d(t,"commentDataMap",function(){return a.c}),n.d(t,"notification",function(){return a.e}),n.d(t,"notifDataMap",function(){return a.d}),n.d(t,"addTaskForm",function(){return a.a}),n.d(t,"calenderDataMap",function(){return a.b}),n.d(t,"reminderDataMap",function(){return a.f});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces,d=u.Redux,p=(u.enableBatching,u.actionTypes),h=(u.page,d.combineReducers),f=p.reduxPersist.REHYDRATE,y={},m=function(e,t){var n=void 0;return n=e==c.a.drawer?t:e||t,y[n]},v=null,g=function(){return v},b={current:"",previous:"",previousName:"",routePath:"",routeName:"",actionName:"",query:{},back:!1,title:"",subTitle:"",onBeforeUnload:null,getReloadStatus:g},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments[1],n=(e.items,""),r="",i=!1;switch(t.type){case f:return null==v?(v=!0,d={}):1==v&&(v=!1),l({},e,t.payload.route,{routeName:e==b?"":t.payload.route.routeName,actionName:e==b?"":t.payload.route.actionName,back:!1,query:l({},t.payload.query,{navicon:"true"}),getReloadStatus:g});case s.t:var a=t.route.actionName,o=t.route.previousActionName,u=t.route.routeName;i=e.current==t.route.path||a==c.a.drawer,n=m(a,u),a==c.a.refine&&e.title&&(r=e.title.substring(0,10)+"...");var d=e.modulePrefetchStatus||{};return i?l({},e,{routeName:u,actionName:a,previousActionName:o,back:"backward"==t.route.direction,query:l({},e.query,t.route.query,{exceptiontype:t.route.query.exceptiontype||null}),modulePrefetchStatus:d}):l({},e,{title:n,subTitle:r,previous:e.current,previousName:e.routeName,current:t.route.path,routePath:t.route.path,routeName:u,actionName:a,previousActionName:o,back:"backward"==t.route.direction,onBeforeUnload:null,query:l({},e.query,t.route.query,{exceptiontype:t.route.query.exceptiontype||null}),modulePrefetchStatus:d});case s.v:return l({},e,{title:t.payload.title});case s.s:return l({},e,{onBeforeUnload:t.payload.onBeforeUnload});default:return e}},E=(new Date).getTime(),k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{purge:!1,version:o.b,TTL:E,online:!0},t=arguments[1];switch(t.type){case s.w:return l({},e,{version:t.payload.version});case s.q:return l({},e,{purge:!1});case f:return t.payload.app&&E-t.payload.app.TTL>=864e5?l({},e,t.payload.app,{purge:!0,TTL:E}):l({},e,t.payload.app);default:return e}},C=h({app:r.a,activeConversation:i.a})},Kd6K:function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return c});var r,i=window.interfaces.localforage,a={name:"recruiter",version:1,storeName:"recruiterStore",description:"recruiter description",syncKey:"recruiterActions"},o={storage:i,blacklist:["calenderDataMap","reminderDataMap"],keyPrefix:"reduxPersist_"},s="1",c=window.tr_api_url},"LM/i":function(e,t,n){!function(){function t(e){return this.camelCase=e.camelCase,this.propertyNameMap=e.propertyNameMap,this.changeCallbacks=e.changeCallbacks,this.abortCallbacks=e.abortCallbacks,this.getObjectCallback=e.getObjectCallback,this.createObjectCallback=e.createObjectCallback,this.doesObjectMatchIdCallback=e.doesObjectMatchIdCallback||function(e,t){return t.id==e},this.returnIds=e.returnIds,this}function n(e,t,n){this.changeCallbacks&&n&&this.changeCallbacks[n]&&Object.keys(e).forEach(function(r){this.changeCallbacks[n].all?this.changeCallbacks[n].all(t,t[r],e[r].before,e[r].paths):this.changeCallbacks[n][r]&&this.changeCallbacks[n][r](t,t[r],e[r].before,e[r].paths)},this)}function r(e,t,n,r){var i=t.object,a=String.fromCharCode(145);e=e.replace(/\\\./g,a),e=e.replace(/\\(.)/g,"$1");var s=e.split(/\./),c=new RegExp(a,"g");if(s=s.map(function(e){return e.replace(c,".")}),this.camelCase&&(s[0]=s[0].replace(/[-_]./g,function(e){return e[1].toUpperCase()})),this.propertyNameMap){var l=this.propertyNameMap[t.type];s[0]=l&&l[s[0]]||s[0]}o.apply(this,[{baseName:s[0],fullPath:e,object:t.object,options:t,changes:n,operation:r}]);for(var u=i,d=0;d<s.length-1;d++){var p=s[d];if(p in u){if(null===(u=u[p])||"object"!=typeof u)throw new Error("Can not access property '"+e+"'")}else u[p]={},u=u[p]}return{pointer:u,lastName:s[s.length-1],baseName:s[0],fullPath:e,abortHandler:this.abortCallbacks&&this.abortCallbacks[t.type]&&(this.abortCallbacks[t.type].all||this.abortCallbacks[t.type][s[0]])}}function i(e,t){if(e.id){if(!this.getObjectCallback)throw new Error("Must provide getObjectCallback in constructor to use ids");var n=this.getObjectCallback(e.id);return!n&&e.value&&(n=this.createObjectCallback?this.createObjectCallback(e.id,e.value):e.value),n||(this.returnIds?e.id:null)}return e.value}function a(e){if(Array.isArray(e))return e.map(function(e){return a(e)});if(e instanceof Set){var t=new Set;return e.forEach(function(e){t.add(e)}),t}if(e instanceof Date)return new Date(e);if(e&&"object"==typeof e){var n=Object.keys(e).filter(function(e){return 0!==e.indexOf("_")}),t={};return n.forEach(function(n){t[n]=a(e[n])}),t}return e}function o(e){if(!e.changes[e.baseName]){var t=e.object[e.baseName];("set"===e.operation||"delete"===e.operation)&&"id"in e.operation&&t&&(t=t.id),(e.changes[e.baseName]={paths:[]}).before=t&&"object"==typeof t?a(t):t}var n=e.changes[e.baseName].paths;-1===n.indexOf(e.fullPath)&&n.push(e.fullPath)}function s(e,t,n,r,i){e.abortHandler&&e.abortHandler(e.fullPath,"set",t)||(e.pointer[e.lastName]=t)}function c(e,t,n,r,i){e.abortHandler&&e.abortHandler(e.fullPath,"delete",t)||delete e.pointer[e.lastName]}function l(e,t,n,r,i){if(!e.abortHandler||!e.abortHandler(e.fullPath,"add",t)){var a;if(a=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!(Array.isArray(a)||a instanceof Set))throw new Error("The add operation requires an array or new structure to add to.");if(Array.isArray(t))throw new Error("The add operation will not add arrays to sets.");if(n.id){for(var o=0;o<a.length;o++)if(this.doesObjectMatchIdCallback(n.id,a[o]))return;a instanceof Set?a.add(t):a.push(t)}else{if(t&&"object"==typeof t)throw new Error("The add operation will not add objects to sets.");-1===a.indexOf(t)&&a.push(t)}}}function u(e,t,n,r,i){if(!e.abortHandler||!e.abortHandler(e.fullPath,"remove",t)){var a;if(a=e.lastName in e.pointer?e.pointer[e.lastName]:e.pointer[e.lastName]=[],!(Array.isArray(a)||a instanceof Set))throw new Error("The remove operation requires an array or new structure to remove from.");if(n.id){if(a instanceof Set)a.delete(t);else for(var o=0;o<a.length;o++)if(this.doesObjectMatchIdCallback(n.id,a[o])){a.splice(o,1);break}}else{if(Array.isArray(t))throw new Error("The remove operation will not remove arrays from sets.");if(t&&"object"==typeof t)throw new Error("The remove operation will not remove objects from sets.");if(a instanceof Set)a.remove(t);else{var s=a.indexOf(t);-1!==s&&a.splice(s,1)}}}}var d={set:s,delete:c,add:l,remove:u};e.exports=t,t.prototype.parse=function(e){var t={};e.operations.forEach(function(n){var a=r.apply(this,[n.property,e,t,n]);d[n.operation].call(this,a,i.apply(this,[n,e]),n,e,t)},this),n.apply(this,[t,e.object,e.type])}}()},LTrv:function(e,t,n){"use strict";function r(e){return/^true$/gi.test(e)||!/^false$/gi.test(e)&&e}n.d(t,"a",function(){return l});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t,n,r){if(r.length){var i,a=t.height(),o=t.scrollTop(),s=a+o,c=r.position().top+t.scrollTop(),l=c+r.outerHeight();return l>=s?(i=l-a>0?l-a:0,t.scrollTop(i)):c<t.scrollTop()&&(i=c,t.scrollTop(i)),i}},s=function(e,t){for(var n in e){var i=!1,a=n.toLowerCase();t[a]?i=a:void 0!==t[n]&&null!==t[n]&&(i=n),i&&(e[n]=r(t[i]))}return e},c="function"==typeof Symbol&&"symbol"===a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)};navigator.userAgent.match(/(iPhone|iPod|iPad)/i)&&$("body").css({cursor:"pointer"});var l=function(e,t,n){var r=$("#"+e.id);if(!r.data("droope")){var i=new u(e,t,n);return r.data("droope",i),i}r.destroy&&r.destroy()},u=function e(t,n,r){function i(){}function a(e){var t=$(e.target).parents(".ddwn");if(!t.length&&!0!==Boolean(t.attr("searchDisabled"))){var n=$(".ddwn");n.find(".DDwrap").removeClass("brBotN"),n.find(".drop").hide()}}function u(e){$(document).on("keydown",y.disb_Scroll_handler)}function d(e){$(document).off("keydown")}function p(e){if(e>v)return v+=5;v+=1}function h(e,t){if(""!==y.inpElm.val()&&v>m){if(t>v)return v-=5;v-=1}}t.maxSelection=t.maxSelection||t.maxTagsCount;var f={maxHeight:300,maxTagsCount:1/0,maxSelection:1/0,searchBox:!0,tagsSorting:!0,tags:!0,tagInSepContainer:!1,checkBox:!1,appendTags:!1,clearTagId:!1,prefillData:!1,onDeselect:!1,sortPrefix:!1,tagwithOptGroup:!1,clearAllInside:!1,parentChkBox:!1,allChk:!1,allChecked:!1,layerOpenStatus:!1,disableTag:[],title:[],tagTitle:!1,Tagfocus:0,TagCnt:0,Allflg:"",curActElm:"",liCntrFx:[],preventClickFor:[],liCntr:[],optgrpNameRef:[],hidValue:[],parentRefData:{},optgrpObject:{},showSelText:!1,preserveInputVal:!1,onClickReq:i,onClickAll:i,onChange:i,selectedValues:{},selectedCounter:!0,preventClose:!1,defaultOpen:!1,onTagClick:i,onTagCreate:i,isReset:!0,onClearTag:[],drpLyrWth:!1,onBlur:i,blurDelay:!1,isSearch:!0,removeHiddenVal:!1,preserveText:!1,pKey:r,id:"",preText:"You have selected",postText:"item(s)",selectOnBlur:!1,toggleDropLayer:!0,scrollToTop:!1,isFirstValueHighlight:!0,returnFocus:!0,onChangePrevent_onInit:!1,onError:i},y=$.extend(this,s(f,t));y.obj=t;var m=30,v=y.obj.postPlaceholder?y.obj.postPlaceholder.width:30;y.rootCont=$("#"+y.id),y.inpElm=y.rootCont.find(".srchTxt"),y.isReadOnly=y.inpElm.is("[readonly]"),y.dataObj=t.data||(t.id&&t.id[y.id]?t.id[y.id][0]:""),y.prefillData=y.prefillData||(y.obj.id[y.id]?y.obj.id[y.id][1]:[]),"string"==typeof y.prefillData&&(y.prefillData=y.prefillData.split(",")),y.pKey?(y.checkBox||(l.Ary[y.id]={}),l.Ary[y.id]||(l.Ary[y.id]={}),l.Ary[y.id][y.pKey]=y.dataObj,y.Ary=l.Ary[y.id]):(y.Ary={},y.Ary.A=y.dataObj),e.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(e){setTimeout(function(){a(e)},100)}),e.lastRef.iseventBindOnDocument=!0);var g=function(e){return e.replace(/>/g,"&gt;").replace(/</g,"&lt;")},b=function(e){if(-1!=e.indexOf("<b>")){e=e.split("<b>");var t=e[1].split("</b>"),n=[e[0],t[0],t[1]],r=[];for(var i in n)r.push(g(n[i]));return r[0]+"<b>"+r[1]+"</b>"+r[2]}return g(e)},_=function(){y.returnFocus&&y.inpElm.focus()};y.replaceTag=function(e){return-1!=e.toString().indexOf("<")?b(e):e},y.setLi=function(e){var t=this;if($("#ul_"+e).find("li").length<t.liCntr){var n=t.appendData(t.Ary,"","",!0);t.dpLyr.find("ul").html(n[0]),t.liCntr=t.liCntrFx}},y.obj.resetPrefillValues?y.ChkBoxContr={}:y.ChkBoxContr||(y.ChkBoxContr={});for(var E in y.clearTagId)for(var k in y.clearTagId[E])y.onClearTag[E]=y.clearTagId[E][k];y.Fn={preserveEventafterClone:function(e,n){var r;y.id,r=y.tagInSepContainer?$("#"+y.tagInSepContainer).find('[data-id="'+e+'"]'):y.rootCont.find(".DDsearch").find('[data-id="'+e+'"]'),r.on("click",".dCross",function(r){y.removeTag(e,$(this).find(".tagTxt").text(),n),y.max_height(),n&&y.onTagClick(t,y.TagCnt),y.setInputText(),"block"==y.dpLyr.css("display")&&_()})},keyUpEv:function(e){var t,n=$(this).data("id"),r=y.rootCont.width()-15,i=(n.split("_")[1],e.keyCode||e.which),a=$(this).val().replace(/\b/g,"");if(13==i&&y.curActElm&&y.curActElm.length&&!y.curActElm.hasClass("noData")&&y.curActElm.hasClass("active")){var o=y.curActElm.children("a");if(y.checkBox){var s=o.data("id")+"_"+y.Escp(y.curActElm.attr("bindto"));o.hasClass("chkd")?y.removeTag("tg_"+s,o.html(),!0):y.CreateTags(o,s,"",y.tags)}else y.SingleSelection(o.text(),o.data("id").split("_")),y.hideDD()}8==i&&y.checkBox&&!y.tagInSepContainer&&!1!==y.tags&&(t=a?h(n,r)+"px":""!=y.inpHid.val()?v+"px":"",y.inpElm.css({width:t})),y.isReadOnly||9==i||13==i||18==i||32==i||37==i||38==i||39==i||40==i||16==i||(y.Fn.initSearch(a,n,i),"none"==y.dpLyr.css("display")&&y.dpLyr.show()),y.removeHiddenVal&&(a||y.inpHid.attr("value",""))},initSearch:function(e,t,n){var r="",i=0;t=t.split("_")[1];var a=y.Ary;if(e){e=e.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var o in a)for(var s in a[o])if("object"===c(a[o][s])){var l,u="";l=a[o][s];for(var d in l)u+=y.searchData(l[d],e,t,t+"_"+d+"_"+y.eUnderScore(s),y.Escp(o));u&&(r+='<li class="optgroup">'+y.eUnderScore(s)+"</li>"+u,i++)}else y.rootCont.find(".cross").show(),r+=y.searchData(a[o][s],e,t,t+"_"+y.eUnderScore(s),y.Escp(o)),i++}else y.rootCont.find(".cross").show(),r=y.appendData(y.Ary,"","",n)[0],i=y.liCntrFx;r||(r='<li class="noData">'+(y.obj.noDataTxt?y.obj.noDataTxt:"No data found in search")+"</li>",i++),y.dpLyr.find("ul").html(r),y.liCntr=i,y.max_height(),y.firstHighlight()}},y.init=function(e){var t,n=y.id;if(y.clearAllInside){var r="Clear All";for(var i in y.clearAllInside)r=y.clearAllInside[i];t=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+n}).html(r)}var a=y.inpElm;if(a.val(""),!y.dpLyr||!y.dpLyr.length){var o=a.attr("name");a.data({name:o});var s=(y.rootCont.find(".arw").addClass("DDarwDwn"),y.rootCont.find(".DDsearch"));y.checkBox||y.rootCont.addClass("singleSelect"),a.data({id:"inp_"+n,placeholder:a.attr("placeholder")}).attr({name:"",autocomplete:"off"}),y.isSearch||a.attr("readonly","readonly"),y.rootCont.find(".frst").css({float:"none"}),$("#hid_"+n).length?y.inpHid=$("#hid_"+n):(y.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+n,name:o}),s.append(y.inpHid));var c=$("<div>"),l=$("<div>"),u=$("<ul>"),d=y.rootCont,p=y.checkBox?"ChkboxEnb":"";y.dpLyr=c,l.addClass("nScroll").attr("id","ul_"+n),c.addClass("drop").attr("id","dp_"+n),u.addClass(p),l.append(u),t&&c.append(t),c.append(l),d.append(c),y.rootCont.on("click",".DDinputWrap, .DDsearch, .arw",function(e){_()}).on("mouseenter",function(){y.layerOpenStatus=!1!==y.searchBox}).on("mouseleave",function(){y.layerOpenStatus=!1})}if(y.bindEvents(),y.layerOpenStatus=!1!==y.searchBox,y.fillData(),y.clearTagId)for(var i in y.clearTagId)$("#"+i).on("click",function(e){return function(){var t=$(this).attr("id"),n=e[t],r=n.id;if(r)for(var i in r)r[i],y.checkBox?y.removeAllTags():(y.inpElm.val(""),y.inpHid.data("optGroupKey","")),y.Allflg="",y.hideDD();n.clrCalbackfun&&y.onClearTag[t](y.obj,0,$(this))}}(y.clearTagId))},y.blurEv=function(e){var t=(y.id,y.selectOnBlur);if(!y.tagInSepContainer&&y.checkBox&&y.rootCont.find(".tagit").last().removeClass("TagSelected"),y.isReadOnly&&d(e),y.layerOpenStatus||y.hideDD(),!y.checkBox){var n,r,i,a=y.inpHid,o=y.inpElm,s=y.uEscp(a.attr("opt")),c=a.val(),l=y.Ary.A;i=y.getKeyFromVal(y.Ary.A,o.val()),t?(n=i.retKey,r=i.parentKey?s?l[s][c]:l?l[i.parentKey][n]?l[i.parentKey][n]:l[i.parentKey][c]:"":s?l[s][c]:l?l[n]?l[n]:l[c]:""):r=i.parentKey?s?l[s][c]:l?l[i.parentKey][c]:"":s?l[s][c]:l?l[c]:"",o.val()?r&&(y.preserveInputVal&&(r=$(this).val(),a.val("")),o.val(r),y.blurClearTimeoutId=setTimeout(function(){if(t){var e=n||y.getKeyFromVal(y.Ary.A,r).retKey,i=e.replace(y.sortPrefix,"");a.val(i),y.onBlur(i)}},y.blurDelay||0)):(a.val(""),"none"==y.dpLyr.css("display")&&y.onChangeHandler(""),y.onDeselect&&y.onDeselect())}},y.getKeyFromVal=function(e,t,n){var r=e,i={};for(var a in r){if("object"==c(r[a]))return y.getKeyFromVal(r[a],t,a);if($.trim(r[a].toString().toLowerCase())==$.trim(t.toLowerCase())){i.retKey=a;break}}return n&&(i.parentKey=n),i},y.focusEv=function(e){y.layerOpenStatus=!1!==y.searchBox,y.inpt=$(this),$(this).data("id").split("_")[1],y.DDSearch=$(this).parent(".DDSearch"),y.showDD(),y.isReadOnly&&u(e),setTimeout(function(){},200)},y.keyDownEv=function(e,t){var n,r=y.id,i=e.keyCode||e.which,a=y.rootCont.width()-15,s=t.val().replace(/\b/g,""),c=y.dpLyr.css("display");if(13!=i&&38!=i||e.preventDefault(),13==i&&"none"==c&&!y.checkBox&&y.obj.form&&y.obj.form[0].submit(),(9==i||27==i)&&y.hideDD(),(i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57)&&!y.tagInSepContainer&&y.checkBox&&!1!==y.tags&&(n=p(a),y.inpElm.css({width:n+"px"})),!s&&y.checkBox){var l=y.rootCont.find(".tagit").last(),u=l.data("id");y.TagCnt>0&&8==e.keyCode&&!y.tagInSepContainer&&u&&u.length>0?y.Tagfocus?(y.removeTag(u,l.children(".tagTxt").html(),!0),y.Tagfocus=0):(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').addClass("TagSelected"),y.Tagfocus=1):u&&(y.rootCont.find(".DDsearch").find('[data-id="'+u+'"]').removeClass("TagSelected"),y.Tagfocus=0)}var d=$("#ul_"+r),h=d.find("ul"),f=h.find("li").first();if(y.curActElm.length||(y.curActElm=f),40==i)if("none"==c)y.hideDD(),y.showDD();else{var m,v=y.curActElm.next();v.length&&!v.hasClass("noData")&&(m=v.hasClass("optgroup")?v.next():v,y.curActElm.removeClass("active"),m.addClass("active"),y.curActElm=m,o(y.dpLyr,h.parent(),0,y.curActElm))}else if(38==i){var g,b=y.curActElm.prev();b.length&&(g=b.hasClass("optgroup")?b.prev():b,g.length&&(y.curActElm.removeClass("active"),g.addClass("active"),y.curActElm=g,o(y.dpLyr,h.parent(),0,y.curActElm)))}},y.fillDatainDropdwonLayer=function(e,t,n,r,i){y.inpElm,y.checkBox&&y.inpHid.attr({value:""});var a=y.rootCont,o=a.find(".drop");!1===y.searchBox?(a.attr("searchDisabled",!0).find(".DDwrap").hide(),o.css({position:"static"})):o.css({borderTop:0}),y.defaultOpen&&setTimeout(function(){y.showDD()},0),$("#ul_"+e).find("ul").html(t),t="",!1===y.searchBox&&y.showDD(),(y.allChk||y.parentChkBox)&&y.chkForParent(y.optgrpObject,y.DATA,e)},y.liMousehover=function(){y.id,y.dpLyr.on("mouseover","li.pickVal",function(){y.curActElm.length&&(y.firstHighlight(),y.curActElm.removeClass("active")),$(this).addClass("active"),y.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},y.max_height=function(){if(y.maxHeight=parseInt(y.maxHeight),y.maxHeight){for(var e=y.id,t=$("#ul_"+e),n=0,r=$("#ul_"+e).find(" ul li").first();r.length&&y.maxHeight>=n;)n+=r.outerHeight(),r=r.next();y.maxHeight<n?t.css({height:y.maxHeight+"px"}):t.css({height:n+"px",width:"100%"}),t.length&&t[0].csb&&t[0].csb.reset()}},y.PickValuesFromDD=function(){var e;y.id,y.dpLyr.on("click",".pickVal a",function(n){if(y.checkBox){var r=0,i=$(this),a=i.data("id");if(y.parentChkBox)var o=$(this).data("id").split("_"),s=o[o.length-1];if($(this).hasClass("chkd")&&(r=1),e=i.html(),a.split("_")[1]==y.eUnderScore(y.otherLabId))1==r?y.onClickReq(t,y.otherLabId,"unChecked"):y.onClickReq(t,y.otherLabId,"checked"),y.hideDD();else{var o=$(this).data("id").split("_");if(y.parentChkBox)var s=y.dUnderScore(y.uEscp(o[o.length-1])),c=y.uEscp(o[o.length-2]);else var s="All",c=y.uEscp(o[o.length-1]);if(1==r){var l=a;if($(this).parent().attr("bindto")&&(l=a+"_"+y.Escp($(this).parent().attr("bindto"))),y.removeTag("tg_"+l,e,!0),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].checked.indexOf(c);u>-1&&y.optgrpObject[s].checked.splice(u,1),y.optgrpObject[s].unchecked.push(c),y.chkForParent(y.optgrpObject,"",a)}}else{var d=$(this).parent().attr("bindto");if(d&&(a=a+"_"+y.Escp(d)),y.CreateTags(i,a,"",y.tags),y.parentChkBox||y.allChk){var u=y.optgrpObject[s].unchecked.indexOf(c);u>-1&&y.optgrpObject[s].unchecked.splice(u,1),y.optgrpObject[s].checked.push(c),y.chkForParent(y.optgrpObject,"",a)}}!1!==y.searchBox&&!0!==y.allChk&&setTimeout(function(){_()},100)}}else y.SingleSelection($(this).text(),$(this).data("id").split("_"))})},y.SingleSelection=function(e,n){var r=(n[0],n[2]?n[2]:"");y.inpElm&&y.inpElm.val(e),y.rootCont.find(".cross").show();var i=y.dUnderScore(y.uEscp(n[1])).replace(y.sortPrefix,"");y.inpHid.val(),y.inpHid.attr({value:i}).data("optGroupKey",r),y.layerOpenStatus&&y.hideDD(),y.onClickReq(t,i),y.onChangeHandler(i,e)},y.CreateTags=function(e,n,r,i){var a=(y.id,n.split("_")[1]);if(i="-1"==$.inArray(a,y.preventClickFor)&&0!=i,y.hidValue.length<y.maxSelection){var o,s=y.uEscp(n).split("_"),c=n.split("_"),l=3==c.length?c[0]+"_"+c[1]:c[0]+"_"+c[1]+"_"+c[2];if("string"!=typeof e?(o=e.text(),e.addClass("chkd")):o=e,y.TagCnt++,y.selectedCounter&&(y.obj.postPlaceholder&&y.obj.postPlaceholder.text?y.inpElm.attr("placeholder",y.obj.postPlaceholder.text):y.inpElm.attr("placeholder","")),!1!==i){o=o.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),y.tagwithOptGroup&&(o="<b>"+s[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+o+")");var u=$("<li>").append('<span class="tagTxt">'+o+"</span>"),d="tg_"+n;y.tagTitle&&u.attr("title",o);var p=y.tagInSepContainer;if(p||!1===i){var h=u.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":d}),f=$("#"+p)[0];if(y.appendTags){var m=f.children[r];m?m.parentNode.insertBefore(h[0],m):$("#"+p).append(h)}else!1===i||f.insertBefore(h[0],f.firstChild)}else y.appendTags?y.rootCont.find(".DDsearch li").last().before(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})):y.rootCont.find(".DDsearch").prepend(u.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":d})),y.inpElm.css({width:v+"px"});y.Fn.preserveEventafterClone(d,!0)}$("#ul_"+y.id).find('[data-id="'+l+'"]').addClass("chkd"),y.setValueInHiddenField(s[1],o),y.ChkBoxContr[s[1]]=n,y.onClickReq(t,y.dUnderScore(y.uEscp(s[1])),"Checked",$('li[data-id="tg'+n+'"]'),y.TagCnt),y.setInputText()}else y.onError({msg:"Max "+y.maxSelection+" selections are allowed",type:"maxSelection_Reached"}),y.onTagCreate("Maximum Tags Created");y.tags&&!y.tagInSepContainer&&(y.inpElm.val(""),y.setLi(y.id),y.max_height())},y.disb_Scroll_handler=function(e){var t=e.keyCode;if(40===t||38===t||32===t)return e.preventDefault(),!1},y.setValueInHiddenField=function(e,t,n){var r=y.id,i={};i[e]=t,$.extend(y.selectedValues,i),e&&t?("all"==t.toLowerCase()&&(y.Allflg="all"),e=y.dUnderScore(y.uEscp(e)).replace(y.sortPrefix,""),y.inpHid.val()?(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue))):(y.hidValue.push(e),y.inpHid.val(JSON.stringify(y.hidValue)),$("#clrAll_"+r).show(),y.tagInSepContainer?$("#"+y.tagInSepContainer).show():y.rootCont.find("li.frst").css({float:"left"})),y.onTagCreate()):!1!==n&&(y.inpElm.val(""),y.inpHid.val("")),y.onChangeHandler(y.hidValue,y.selectedValues)},y.init(),y.PickValuesFromDD(),y.liMousehover(),y.parentChkBox&&y.clickParent(),y.allChk&&y.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click(),y.onChangePrevent_onInit=!1};u.prototype=function(e){var t,n=function(e){var t=this,n=t.id,r=t.rootCont;r.addClass("open"),r.find(".DDwrap").addClass("brBotN"),r.find(".drop").show(),t.scrollToTop&&($("#ul_"+n)[0].scrollTop=0),t.drpLyrWth&&t.dpLyr.css({width:t.drpLyrWth}),t.max_height(),t.checkBox||t.firstHighlight()},r=function(){var e=this;e.inpElm.on("focus click",e.focusEv).on("keydown",function(t){e.keyDownEv(t,$(this))}).on("keyup",e.Fn.keyUpEv).on("blur",e.blurEv)},a=function(){var e=this;$("#"+e.id).addClass("disable"),e.inpElm.attr("readonly","readonly"),e.inpElm.off("click focus keydown keyup blur")},o=function(){var e=this,t=$("#"+e.id);t.hasClass("disable")&&(t.removeClass("disable"),e.inpElm.removeAttr("readonly"),e.bindEvents())},s=function(e){var t=this,n=(t.id,{});if(t.checkBox)if(e&&"object"===(void 0===e?"undefined":c(e)))for(var r in e)n[e[r]]="1";else n[e]="1";else e&&(n[e.toString()]="1");return n},l=function(){var e=this,t=e.id;for(var n in e.ChkBoxContr){var r,i=e.ChkBoxContr[n],a=i.split("_");if(3==a.length?r=a[0]+"_"+a[1]:4==a.length&&(r=a[0]+"_"+a[1]+"_"+a[2]),$("#ul_"+t).find('[data-id="'+r+'"]').removeClass("chkd"),e.tagInSepContainer?$("#"+e.tagInSepContainer).find('[data-id="tg_'+i+'"]').remove():e.rootCont.find(".DDsearch").find('[data-id="tg_'+i+'"]').remove(),e.parentChkBox||e.allChk){if(e.parentChkBox)var o=e.dUnderScore(e.uEscp(a[2]));else var o="All";var s=a[1],c=e.optgrpObject[o].checked.indexOf(s);c>-1&&e.optgrpObject[o].checked.splice(c,1),e.optgrpObject[o].unchecked.push(s)}}e.parentChkBox&&$("#ul_"+t).find('li a[data-id="'+t+'"]').removeClass("chkd"),e.allChk&&($("#ul_"+t).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")),e.resetInpWidth(t),e.ChkBoxContr={},e.inpHid.val(""),e.hidValue=[],e.TagCnt=0,e.setPlaceHolderAttribute()},u=function(){var e=this,t=(e.id,e.rootCont);e.dpLyr.remove(),e.inpHid.remove(),t.find(".DDsearch .tagit").remove(),e.inpElm.val("").attr({placeholder:e.inpElm.data("placeholder"),name:e.inpElm.data("name")}),e.inpElm.removeAttr("autocomplete style"),e.inpElm.off("focus keydown keyup blur"),t.find(".DDwrap").show(),t.data("droope",null)},d=function(e,t,n,r){var i=this,a=i.id,o=e.replace("tg_",""),s=i.uEscp(o).split("_"),c=$("#hid_"+a).val();c=c?JSON.parse(c):"";var l=4==s.length?s[0]+"_"+s[1]+"_"+s[2]:s[0]+"_"+s[1];if(-1!=$.inArray(i.dUnderScore(i.uEscp(s[1])),c)){if($("#ul_"+a).find('[data-id="'+i.Escp(l)+'"]').removeClass("chkd"),i.parentChkBox){var u=l.split("_");u=u[u.length-1];for(key in i.parentRefData[u])$(i.parentRefData[u][key]).find("a").hasClass("chkd")||($("#ul_"+a).find('li[data-id="opt_'+u+'"]').find("a").removeClass("chkd"),$("#ul_"+a).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+a).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),i.onClickAll("unchecked")))}r?$("#"+r).remove():i.tagInSepContainer?$("#"+i.tagInSepContainer).find('[data-id="'+e+'"]').remove():i.rootCont.find(".DDsearch").find('[data-id="'+e+'"]').remove(),i.emptyHidField(o.split("_")[1],a,t),--i.TagCnt||i.setPlaceHolderAttribute();for(var d in i.ChkBoxContr)i.ChkBoxContr[d]==o&&delete i.ChkBoxContr[d];n&&i.onClickReq(i.obj,i.dUnderScore(i.uEscp(s[1])),"Unchecked","",i.TagCnt),i.setInputText()}},p=function(){var e=[],t=this,n=t.id,r=t.prefillDataFormation(t.prefillData);e[n]=r,t.inpHid.val()&&t.removeAllTags(),t.NLi=t.appendData(t.Ary,e,r),t.fillDatainDropdwonLayer(n,t.NLi[0],0,t.NLi[3],t.NLi[4]),t.liCntrFx=t.liCntr=t.NLi[1],t.createTags_ifPrefillData(t.NLi[2])},h=function(e,n,r,i){var a,o,s="",l=this,u=l.id,d=[],p="",h=0,f=0;l.allChk&&(s+=l.createParLi("all","All","0",!0));for(var y in e){o=y;for(var m in e[y]){var v=m.replace(l.sortPrefix,""),g=l.eUnderScore(l.Escp(v));if("object"===c(e[y][m])){var b=l.parentChkBox;s+=l.createParLi(g,m,u,b,o);var _=[];h++;var E=[];l.optgrpObject[m]={},l.optgrpObject[m].checked=E,l.optgrpObject[m].unchecked=_;for(var k in e[y][m]){r&&void 0!=r[k]?E.push(k):_.push(k),l.optgrpNameRef[k]={pName:m,text:e[y][m][k]};var C=l.Escp(k).replace(l.sortPrefix,"");if(n[u])if(n[u][C]){var w;if(parseInt(n[u][C])&&(w=C),w===C){l.inpVal=k,p=e[y][m][k];var O=y?u+"_"+C+"_"+g+"_"+y:u+"_"+C+"_"+g,S=[p,O,u,C];d[f++]=S,h++,l.SingleSelection(p,[u,k]),s+=l.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:"",dis:T,title:t}),a=g}}else{r.toString()===C&&(l.inpVal=k,p=e[y][m][k],a=g,l.SingleSelection(p,[u,k])),h++;var D=l.selCheckBox(u,g,y,C);s+=l.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:D,dis:T,title:t})}else{r===k&&(l.inpVal=k,p=e[y][m][k]);var x=l.selCheckBox(u,g,y,C);s+=l.createLi({raw_id:C,id:u+"_"+C+"_"+g,txt:e[y][m][k],bnd:y,chkd:x,dis:T,title:t}),h++}}}else{if(l.optgrpNameRef[m]={text:e[y][m]},l.allChk){var _=[],E=[];l.optgrpObject.All={},l.optgrpObject.All.checked=E,l.optgrpObject.All.unchecked=_;for(var k in e[y])void 0!=r[k]?E.push(k):_.push(k)}if(l.optgrpNameRef[m]={text:e[y][m]},l.checkBox){var I="";if(n&&!$.isEmptyObject(n[u])&&n[u][v]&&(I=v),I==v){var j=[e[y][m],u+"_"+g+"_"+y,u,m];d[f++]=j,s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:y,chkd:"",dis:T,title:t}),h++}else{var N=l.selCheckBox(u,g,y);s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:y,chkd:N,dis:T,title:t}),h++}}else{var I="";n&&!$.isEmptyObject(n[u])&&n[u][v]&&(I=v),I==v?(s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:"",chkd:"",dis:T,title:t}),l.inpVal=v,p=e[y][m],h++,i||l.SingleSelection(e[y][m],[u,v])):(s+=l.createLi({raw_id:g,id:u+"_"+g,txt:e[y][m],bnd:"",chkd:"",dis:T,title:t}),h++)}}}}if(l.checkBox&&!1===l.tagsSorting){var P=[],A=0;for(var M in r)for(var L in d)d[L][3]==M&&(P[A++]=d[L]);d=P}return $.extend(l.Ary[o],e[o]),[s,h,d,p,a]},f=function(e,t,n){var r=0,i=0,n=n.split("_")[0];for(key in e)r++,0==e[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),i++):($("#ul_"+n).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+n).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));r==i&&($("#ul_"+n).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},y=function(e){return e?e.replace(/\s/g,"SxP"):""},m=function(e){return!!e&&e.replace(/SxP/g," ")},v=function(e){return e?e.replace(/\_/g,"undrxxscr"):""},g=function(e){return e?e.replace(/undrxxscr/gi,"_"):""},b=function(){var e=this,t=e.id;$("#ul_"+t).on("click","li.optgroup",function(){var e=this,t=$(this).nextUntil("li.optgroup"),n=t.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")&&$(t).eq(i).find("a").click();$(e).children("a").removeClass("chkd")}else{for(i=0;i<=n;i++)$(t).eq(i).find("a").hasClass("chkd")||$(t).eq(i).find("a").click();$(e).children("a").addClass("chkd")}})},_=function(){var e=this,t=e.id;$("#ul_"+t).on("click",'li.optgroup[data-id="opt_all"]',function(t){t.stopImmediatePropagation();var n=this,r=$(this).siblings("li.optgroup"),i=r.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")||$(r).eq(j).click();$(n).children("a").addClass("chkd")}else{for(j=0;j<=i;j++)$(r).eq(j).find("a").hasClass("chkd")&&$(r).eq(j).click();$(n).children("a").removeClass("chkd"),e.onClickAll("unchecked")}})},E=function(e,t,n,r,i){var a="",o=this,e=e.toString(),s=e.toLowerCase().indexOf(t.toLowerCase()),c=e.toLowerCase(),l=t.toLowerCase(),u=!(c.indexOf(" "+l)<0)&&c.indexOf(" "+l),d=!(c.indexOf("("+l)<0)&&c.indexOf("("+l),p=!(c.indexOf("/"+l)<0)&&c.indexOf("/"+l);if(s>=0&&(u||d||p)||0===s){s&&(u?s=u+1:d?s=d+1:p&&(s=p+1));var h=e.substr(0,s),f="<b>"+e.substr(s,t.length)+"</b>",y=e.substr(s+t.length,e.length),m=o.Escp(r).replace(o.sortPrefix,"");a=o.selChkBox(m+"_"+i,n)?o.createLi({raw_id:m,id:m,txt:h+f+y,bnd:i,chkd:"chkd"}):o.createLi({raw_id:m,id:m,txt:h+f+y,bnd:i,chkd:""})}return a},k=function(e,t){var n=0,r=this;for(var i in r.ChkBoxContr)e==r.ChkBoxContr[i]&&(n=1);return!!n},C=function(e,t,n,r){var i=0;for(var a in this.ChkBoxContr){i=1;break}if(i)return r?this.selChkBox(e+"_"+r+"_"+t+"_"+n,e)?"chkd":"":this.selChkBox(e+"_"+t+"_"+n,e)?"chkd":""},w=function(e,t,n,r,i){i=i?'bindTo="'+i+'"':"",r=r?'class="'+r+'"':"";var a="";return a=r?'<a href="javascript:;" data-id='+n+">"+t+"</a>":t,'<li class="optgroup" '+i+" data-id=opt_"+e+">"+a+"</li>"},T=!1,O=function(e){var t=this,n=e.id,r=e.txt,i=e.bnd,a=e.chkd,o=(e.dis,e.title||""),s=e.raw_id;i=i?'bindTo="'+i+'"':"";var c=t.disableTag.length&&-1!=t.disableTag.indexOf(s)?"disable":"";return a=a?'class="'+a+'"':"",'<li title="'+o+'" class="pickVal '+c+'" '+i+' ><a href="javascript:;" '+a+' data-id="'+n+'" > '+this.replaceTag(r)+' <i class="icon"></i> </a></li>'},S=function(e){$("#clrAll_"+e).hide(),this.inpElm.css({width:""}),this.rootCont.find("li.frst").css({float:"none"})},D=function(){var e,t=this,n=t.id,r=$("#ul_"+n),i=r.find("ul");t.curActElm&&t.curActElm.removeClass("active"),t.curActElm=t.isFirstValueHighlight?i.find("li").first():t.curActElm;var a=t.Escp(t.inpHid.attr("value"));a&&!t.checkBox?(e=t.inpHid.data("optGroupKey")?n+"_"+a+"_"+t.inpHid.data("optGroupKey"):n+"_"+a,t.curActElm=i.find('[data-id="'+e+'"]').parent().addClass("active")):t.curActElm&&t.curActElm.addClass("active")},x=function(e,t,n){var r=this;n&&"all"==n.toLowerCase()&&(r.Allflg="");var i,a=r.dUnderScore(r.uEscp(e)).replace(r.sortPrefix,""),o=$.inArray(a,r.hidValue);-1!==o&&(r.hidValue.splice(o,1),i=JSON.stringify(r.hidValue)),0==r.hidValue.length&&(r.resetInpWidth(t),i=r.hidValue),r.inpHid.val(i),delete r.selectedValues[a],K.call(r,r.hidValue,r.selectedValues)},I=function(){var e,t=this,n=(t.id,"");if(e="all"==t.Allflg?"all":t.TagCnt,t.selectedCounter)if(t.TagCnt)if(t.showSelText&&t.hidValue.length){for(var r=0;r<t.hidValue.length;r++)n+=t.Ary.A[t.hidValue[r]]+", ";n=n.slice(0,-2),(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(n)}else(t.tagInSepContainer||!1===t.tags)&&t.inpElm.val(t.preText+" "+e+" "+t.postText);else t.inpHid.val()||t.preserveText||(t.rootCont.find(".cross").hide(),t.checkBox&&t.inpElm.val(""),t.inpElm.css({width:""}))},N=function(){var e=this;e.inpElm.attr("placeholder",e.inpElm.data("placeholder")),e.inpElm.parents(".frst").css({"float-left":"none"})},P=function(e){var t=this,n=(t.id,0);t.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==e.key){var r=$(this).children("a");if(r.length){var i=r.data("id");r.hasClass("chkd")&&(delete t.ChkBoxContr[t.uEscp(i.split("_")[1])],t.removeTag("tg_"+i+"_"+t.Escp(e.key),r.html(),!0))}n++,$(this).remove()}}),delete t.Ary[e.key],t.liCntr=t.liCntr-n,$("#ul_"+t.id).find("li").length||$("#"+t.id).find(".tagit").remove()},A=function(e){this.removeData(e)},M=function(e,t){var n=this.id;for(var r in e)this.CreateTags(e[r],n+"_"+r+"_A",0,t)},L=function(e){var t=this.id;for(var n in e.keyObject)this.removeTag("tg_"+t+"_"+e.keyObject[n]+"_A","",e.tag_onof_flag,e.remId)},R=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],a=t.sortPrefix?t.sortPrefix+i:i,o=t.optgrpNameRef[a];-1==$.inArray(i[0],t.hidValue)&&(o.pName?t.CreateTags(o.text,n+"_"+i+"_"+o.pName+"_A"):t.CreateTags(o.text,n+"_"+i+"_A"))}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection(t.optgrpNameRef[e.key].text,[n,e.key])}},B=function(e){var t=this,n=t.id;if(t.checkBox)for(var r in e.key){var i=e.key[r],a=t.sortPrefix?t.sortPrefix+i:i,o=t.optgrpNameRef[a];o.pName?t.removeTag("tg_"+n+"_"+e.key[r]+"_"+o.pName+"_A"):t.removeTag("tg_"+n+"_"+e.key[r]+"_A")}else{if(!t.optgrpNameRef[e.key])throw"DD: Key not exist";t.SingleSelection("",[n])}},F=function(e){var t=this,n={},r=[],i={};i[e.key]=e.data,$.extend(t.Ary,i),e.status||(e.status="Checked");var a=e.key?e.key:"A";if("Checked"==e.status){n[a]=e.data;var o=t.prefillDataFormation(e.prefillData);r[t.id]=o,t.NLi=t.appendData(n,r,o),$("#ul_"+t.id).find("ul").append(t.NLi[0]),t.createTags_ifPrefillData(t.NLi[2]),t.liCntr+=t.NLi[1]}else"Unchecked"==e.status&&this.removeBlockofData(e)},U=function(e){var t=this;if(t.id,t.checkBox&&e)for(var n=0;n<e.length;n++){for(var r in t.prefillData)if(t.prefillData[r]==e[n][3])break;t.CreateTags(e[n][0],e[n][1],r,t.tags)}t.setInputText()},q=function(e){var t=this,n=t.id,r=!1===e.isReset?e.isReset:t.isReset,i=[],a=t.inpHid,o=$.trim(a.val());if(t.prefillData=e.prefillData,t.checkBox&&o&&(t.tagInSepContainer?$("#"+t.tagInSepContainer).find(".tagit").remove():t.rootCont.find(".DDsearch").find(".tagit").remove(),t.resetInpWidth(n),t.ChkBoxContr={},a.val(""),t.hidValue=[],t.TagCnt=0,t.setPlaceHolderAttribute()),r&&(t.inpElm.val(""),a.val("")),$.isEmptyObject(e.data))throw"Either data object is empty or undefined";t.Ary={A:e.data},t.ChkBoxContr=[];var s=t.prefillDataFormation(e.prefillData);i[n]=s;var c=t.appendData(t.Ary,i,s);t.dpLyr.find("ul").html(c[0]),t.createTags_ifPrefillData(c[2]),t.liCntr=c[1],t.firstHighlight(),t.max_height()},V=function(){var e=this;if(!e.preventClose){var t=e.id;if("block"==e.dpLyr.css("display")){if(e.dpLyr.hide(),e.rootCont.removeClass("open"),e.rootCont.find(".DDwrap").removeClass("brBotN"),!e.checkBox)if(e.curActElm&&e.curActElm.removeClass("active"),e.selectOnBlur){var n,r=e.inpHid,i=e.inpElm,a=e.uEscp(r.attr("opt")),o=e.Ary.A,s=e.getKeyFromVal(e.Ary.A,i.val()),c=s.retKey;n=s.parentKey?a?o[a][r.val()]:o&&o[s.parentKey][c]?o[s.parentKey][c]:"":a?o[a][r.val()]:o&&o[c]?o[c]:"",e.inpHid.val()||e.preserveText||n||e.inpElm.val("")}else e.inpHid.val()||e.preserveText||e.inpElm.val("");e.setInputText()}!1!==e.searchBox&&e.setLi(t)}},W=function(e){return{keys:this.hidValue,object:this.selectedValues}},H=function(){this.prefillData=[],this.ChkBoxContr={},this.selectedValues={},this.init()},z=function(){this.inpElm.val(""),this.Fn.initSearch("",this.id,8)},K=function(e,t){this.onChangePrevent_onInit||this.onChange(e,t)};return{showDD:n,bindEvents:r,disable:a,enable:o,prefillDataFormation:s,removeAllTags:l,destroy:u,removeTag:d,fillData:p,appendData:h,chkForParent:f,Escp:y,uEscp:m,eUnderScore:v,dUnderScore:g,clickParent:b,clickMain:_,searchData:E,selChkBox:k,selCheckBox:C,createParLi:w,createLi:O,resetInpWidth:S,firstHighlight:D,emptyHidField:x,setInputText:I,setPlaceHolderAttribute:N,removeData:P,removeBlockofData:A,addSelected:M,deleteSelected:L,select:R,deselect:B,addData:F,createTags_ifPrefillData:U,replaceData:q,hideDD:V,getSelectedValue:W,reset:H,resetSearch:z,onChangeHandler:K}}(),u.Ary={},u.lastRef={}},M3Kp:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("sDhs"),c=n("zTev"),l=n("zi+W"),u=n("pLky"),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"send",value:function(){}},{key:"_send",value:function(){}},{key:"getConversation",value:function(){}},{key:"_loaded",value:function(e){this.getClient()._addMessage(this)}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(u.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||c.load(e,t)}),this._deleted(),this.destroy()}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket;return new t({fromServer:e,clientId:n.appId,_notify:r&&e.is_unread})}}]),t}(s);d.prefixUUID="layer:///announcements/",d.bubbleEventParent="getClient",d._supportedEvents=[].concat(s._supportedEvents),d.inObjectIgnore=s.inObjectIgnore,l.initClass.apply(d,[d,"Announcement"]),c.subclasses.push(d),e.exports=d},"MC/S":function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-avatar.png"},N1N5:function(e,t,n){"use strict";function r(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return{isVisible:t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)-50&&t.right<=(window.innerWidth||document.documentElement.clientWidth),scrollAmt:t.bottom-(window.innerHeight||document.documentElement.clientHeight)}}function i(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"pm":"am";return t%=12,t=t||12,n=n<10?"0"+n:n,t+":"+n+" "+r}function a(e){var t=e.getHours(),n=e.getMinutes(),r=t>=12?"PM":"AM";return t%=12,t=t||12,n=n<10?"0"+n:n,{hours:t,minutes:n,ampm:r}}function o(e){return{dd:("0"+e.getDate()).slice(-2),mm:("0"+(e.getMonth()+1)).slice(-2),yyyy:e.getFullYear(),HH:("0"+e.getHours()).slice(-2),MM:("0"+e.getMinutes()).slice(-2),SS:("0"+e.getSeconds()).slice(-2)}}function s(e){var t=o(e);return(t.mm+"/"+t.dd+"/"+t.yyyy+" "+i(e)).toUpperCase()}function c(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}function l(e){var t=new Date,n=new Date(e),r=n-t,i=u(e);return r>0&&i?r:!!i&&1e3}function u(e){var t=new Date,n=new Date(e);return g(s(t))==g(s(n))}function d(e,t){var n=new Date,r=t?new Date(t):new Date;n.setTime(r.getTime()+60*e*1e3);var i=o(n);return i.yyyy+"-"+i.mm+"-"+i.dd+" "+i.HH+":"+i.MM+":"+i.SS}function p(){return!!window.hfStateData}function h(){return""+window.hfStateData.id}function f(e,t){var n=new Date,r=new Date(e),i=n-r;if(t){var a=void 0,o=void 0,s=i/-6e4,c=i/-36e5;return c>=1?(a=parseInt(c),o="Hour(s)"):c<-1?(a=parseInt(-1*c),o="Hour(s) ago"):s>0?(a=parseInt(s),o="Min(s)"):(a=parseInt(-1*s),o="Min(s) ago"),{time:a,txt:o}}var l=(parseInt(i/36e5),parseInt(i/6e4));return l<=0?"Due in "+(l*=-1)+" min(s)":l>0?l+" min(s) Overdue":i}function y(e,t,n){var r=void 0;for(var i in e)e.hasOwnProperty(i)&&e[i][t]==n&&(r=i);return parseInt(r)}function m(e,t){setTimeout(function(){var n=$(e).siblings(""+t),i=r(n);i.isVisible||$("html, body").animate({scrollTop:$(window).scrollTop()+i.scrollAmt+100},300)},300)}n.d(t,"g",function(){return g}),n.d(t,"f",function(){return b}),t.e=i,t.m=a,t.h=o,t.i=s,t.c=c,t.j=l,t.o=u,t.b=d,t.n=p,t.k=h,t.l=f,t.d=y,t.a=m;var v=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=new Date(e),n=t.getDate(),r=t.getMonth()+1,i=v[t.getMonth()],a=t.getFullYear();return n<10&&(n="0"+n),r<10&&(r="0"+r),n+" "+i+" "+a},b=function(e){return v[e.getMonth()]}},NMAg:function(e,t,n){"use strict";function r(e,t,n,r,i,a){var o=new Date;o.setTime(o.getTime()),n&&(n=1e3*n*60*60*24);var s=new Date(o.getTime()+n);document.cookie=e+"="+encodeURI(t)+(n?";expires="+s.toGMTString():"")+(r?";path="+r:"")+(i?";domain="+i:"")+(a?";secure":"")}function i(e){var t=document.cookie.indexOf(e+"="),n=t+e.length+1;if(!t&&e!=document.cookie.substring(0,e.length))return"";if(-1==t)return"";var r=document.cookie.indexOf(";",n);return-1==r&&(r=document.cookie.length),decodeURI(document.cookie.substring(n,r))}t.b=r,t.a=i},NOS6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("+uDm"),o=a.STARTED,s=a.PAUSED,c=a.FINISHED,l=n("Z/oI"),u=function(){function e(t){r(this,e),this.clientId=t.clientId,t.conversation&&(this.conversation=this._getClient().getObject(t.conversation.id)),this.state=c,this._lastMessageTime=0}return i(e,[{key:"setConversation",value:function(e){this.setState(c),this.conversation=e?this._getClient().getObject(e.id):null,this.state=c}},{key:"setState",value:function(e){if(this._pauseLoopId&&(clearInterval(this._pauseLoopId),this._pauseLoopId=0),this.conversation){if(this.state!==e)this.state=e,this._send(e);else{if(e===c)return;Date.now()>this._lastMessageTime+2500?this._send(e):this._scheduleNextMessage(e)}this.state!==c&&this._startPauseLoop()}}},{key:"_startPauseLoop",value:function(){var e=this;this._pauseLoopId||(this._pauseLoopId=window.setInterval(function(){e.state===s?e.setState(c):e.state===o&&e.setState(s)},2500))}},{key:"_scheduleNextMessage",value:function(e){var t=this;this._scheduleId&&clearTimeout(this._scheduleId);var n=2500-Math.min(Date.now()-this._lastMessageTime,2500);this._scheduleId=setTimeout(function(){t._scheduleId=0,t.state===e&&t._send(e)},n)}},{key:"_send",value:function(e){this.conversation.isSaved()&&(this._lastMessageTime=Date.now(),this._getClient().socketManager.sendSignal({type:"typing_indicator",object:{id:this.conversation.id},data:{action:e}}))}},{key:"_getClient",value:function(){return l.get(this.clientId)}},{key:"destroy",value:function(){delete this.conversation,this.isDestroyed=!0,clearTimeout(this._scheduleId),clearInterval(this._pauseLoopId)}}]),e}();e.exports=u},NWsp:function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i={chatId:"",fromType:"recruiter",fromId:"",fromCompany:"",toId:"",toType:"jobseeker",toCompany:"",actionType:"click"},a={getDefaultObj:function(){return{chatMsgEvent:r({},i,{lastMsgReceivedTime:"",msgId:"",isFirstMsg:!1,hasAttachment:!1,attachmentSize:"",attachmentType:"",hasJob:!1,jobId:""}),chatBlocked:r({},i,{blockedBy:"recruiter"}),chatButtonClick:{actionType:"click",fromId:"",fromType:"recruiter",buttonSource:""},debugView:{actionType:"view",recruiterId:"undefined"!=typeof userId?userId:"",companyId:"undefined"!=typeof companyId?companyId:"",moduleName:"chat",pageName:"undefined"!=typeof pageName?pageName:""},debugClick:{actionType:"click",recruiterId:"undefined"!=typeof userId?userId:"",companyId:"undefined"!=typeof companyId?companyId:"",moduleName:"chat",pageName:"undefined"!=typeof pageName?pageName:""}}}}},NoJc:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("kesd"),u=l.SYNC_STATE,d=n("4wNg"),p=n("B+kz"),h=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadChannels(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="channels?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"channel_query_time"},url:this._firingRequest,method:"GET",sync:!1},function(n){return t._processRunResults(n,t._firingRequest,e)}))}},{key:"_getSortField",value:function(){return"created_at"}},{key:"_getItem",value:function(e){return d.prototype._getItem.apply(this,[e])}},{key:"_handleEvents",value:function(e,t){switch(e){case"channels:change":this._handleChangeEvent("channels",t);break;case"channels:add":this._handleAddEvent("channels",t);break;case"channels:remove":this._handleRemoveEvent("channels",t)}}},{key:"_appendResultsSplice",value:function(e){this.data.unshift(this._getData(e))}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id);if(this.dataType===d.ObjectDataType){var i=t.getChangesFor("id");i.length&&(n=this._getIndex(i[0].oldValue))}if(-1!==n){var a=this._getSortField(),o=t.hasProperty("lastMessage")&&"last_message"===a,s=void 0;this.dataType===d.ObjectDataType?o?(s=this._getInsertIndex(t.target,this.data),this.data.splice(n,1),this.data.splice(s,0,this._getData(t.target)),this.data=this.data.concat([])):this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1))):o&&(s=this._getInsertIndex(t.target,this.data))!==n&&(this.data.splice(n,1),this.data.splice(s,0,t.target)),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}),o&&s!==n&&this._triggerChange({type:"move",target:this._getData(t.target),query:this,isChange:!1,fromIndex:n,toIndex:s})}}},{key:"_getInsertIndex",value:function(e,t){if(!e.isSaved())return 0;var n=this._getSortField(),r=void 0;if("created_at"===n){for(r=0;r<t.length;r++){var i=t[r];if(i.syncState===u.NEW||i.syncState===u.SAVING);else if(e.createdAt>=i.createdAt)break}return r}var a=-1,o=e.lastMessage?e.lastMessage.sentAt:e.createdAt;for(r=0;r<t.length;r++){var s=t[r];if(s.id===e.id)a=r;else if(s.syncState===u.NEW||s.syncState===u.SAVING);else{var c=s.lastMessage?s.lastMessage.sentAt:s.createdAt;if(o>=c)break}}return-1===a||a>r?r:r-1}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){return-1===n._getIndex(e.id)});if(r.length){var i=this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,n._getData(e)),n.dataType===d.ObjectDataType&&(n.data=[].concat(i)),n.totalSize+=1;var r=n._getData(e);n._triggerChange({type:"insert",index:t,target:r,query:n})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===d.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",index:e.index,target:n._getData(e.data),query:n})})}}]),t}(p);h._supportedEvents=[].concat(p._supportedEvents),h.MaxPageSize=100,h.prototype.model=d.Channel,c.initClass.apply(h,[h,"ChannelsQuery"]),e.exports=h},Oo8N:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces,s=o.Virtual,c=o.VirtualDom,l=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.setScrollNodes=function(e){n.scrollable=e,$(n.scrollable).css(n.props.style)},n.scrollable=null,n.scrollableContent=null,n}return a(t,e),t.prototype.shouldComponetUpdate=function(){return!0},t.prototype.componentDidUpdate=function(){var e=this;this.setScrollNodes(this.scrollable),this.scrollableContent&&this.scrollable.csb&&(c.render(this.props.children({scrollable:this.scrollable,scrollableContent:this.scrollableContent}),this.scrollableContent),setTimeout(function(){e.scrollable.csb.reset()},0))},t.prototype.attachedCallback=function(){var e=this;customScroll.init(),setTimeout(function(){e.scrollableContent=$(e.scrollable).find(".cover .content")[0],e.props.onInit({scrollable:e.scrollable,scrollableContent:e.scrollableContent})},0)},t.prototype.render=function(){return s.createElement("div",{ref:this.setScrollNodes,className:this.props.className})},t}(s.PureComponent);l.propTypes={className:s.PropTypes.string,children:s.PropTypes.func,style:s.PropTypes.object,onInit:s.PropTypes.func,contentHash:s.PropTypes.any},l.defaultProps={className:"nScroll",style:{}},t.a=l},"P+Qc":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("kesd").LOG,s=o.DEBUG,c=o.INFO,l=o.WARN,u=o.ERROR,d=o.NONE,p=(Boolean(console.assert&&"".match(/assert/)),function(){function e(){r(this,e)}return a(e,[{key:"log",value:function(e,t,n,r){"object"===(void 0===e?"undefined":i(e))&&(e=""),(new Date).toLocaleTimeString()}},{key:"debug",value:function(e,t){this.level>=s&&this.log(e,t,s,"#888")}},{key:"info",value:function(e,t){this.level>=c&&this.log(e,t,c,"black")}},{key:"warn",value:function(e,t){this.level>=l&&this.log(e,t,l,"orange")}},{key:"error",value:function(e,t){this.level>=u&&this.log(e,t,u,"red")}}]),e}());p.prototype.level="undefined"==typeof jasmine?u:d;var h=new p;e.exports=h},PT5i:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("ozQU"),l=n("Z/oI"),u=n("pLky"),d=n("kesd"),p=n("P+Qc"),h=function(e){function t(e){r(this,t),e.channel&&(e.conversationId=e.channel.id);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.getClient();return n.isInitializing=!1,e&&e.fromServer&&a._addMessage(n),n}return a(t,e),o(t,[{key:"getConversation",value:function(e){return this.conversationId?l.get(this.clientId).getChannel(this.conversationId,e):null}},{key:"sendReceipt",value:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.RECEIPT_STATE.READ,p.warn("Receipts not supported for Channel Messages yet"),this}},{key:"delete",value:function(){if(this.isDestroyed)throw new Error(u.dictionary.isDestroyed);var e=this.id,t=this.getClient();this._xhr({url:"",method:"DELETE"},function(n){n.success||n.data&&("not_found"===n.data.id||"authentication_required"===n.data.id)||c.load(e,t)}),this._deleted(),this.destroy()}},{key:"_loaded",value:function(e){this.conversationId=e.channel.id,this.getClient()._addMessage(this)}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket,i=void 0;return i=e.channel?e.channel.id:e.conversationId,new t({conversationId:i,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}(c);h.prototype.isRead=!1,h.inObjectIgnore=c.inObjectIgnore,h._supportedEvents=[].concat(c._supportedEvents),s.initClass.apply(h,[h,"ChannelMessage"]),e.exports=h},QzNM:function(e,t,n){"use strict";function r(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}}t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0,t.transitionTimeout=r;var i=n("tSPV"),a=function(e){return e&&e.__esModule?e:{default:e}}(i);t.timeoutsShape=a.default.oneOfType([a.default.number,a.default.shape({enter:a.default.number,exit:a.default.number}).isRequired]),t.classNamesShape=a.default.oneOfType([a.default.string,a.default.shape({enter:a.default.string,exit:a.default.string,active:a.default.string}),a.default.shape({enter:a.default.string,enterDone:a.default.string,enterActive:a.default.string,exit:a.default.string,exitDone:a.default.string,exitActive:a.default.string})])},"R+/y":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("cPnc"),s=n("xyQn"),c=n("m0wR"),l=n("/cJY"),u=(n("N1N5"),n("xyQn")),d=window.interfaces.Virtual,p=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n)),o=n.user&&n.user.metadata||{};0===Object.keys(o).length&&JSON.parse(window.chatData||"{}");var s="";n.user&&n.user.lastSeenAt&&(s=n.user&&n.user.lastSeenAt);var c=void 0;return c="cv"===a.props.windowSource?JSON.parse(window.chatData||"{}").uniqId||"":n.user&&n.user.userId,a.lastSeenPrms=Object(l.d)(c||"",a.props.windowSource),a.lastSeenPrms.then(function(e){},function(e){403===e.status&&(window.location.href="//resdex.naukri.com/v2/ResetLogin/displayResetLogin?requrl="+window.location.href)}),a.state={openLighbox:!1,showBlock:!1,showPredefined:!1,lastSeenAt:s},a.dlPredefined=null,a.dlThreeDots=null,a}return a(t,e),t.prototype.componentDidMount=function(){var e=this;$(this.dlThreeDots).on("focusin",function(t){e.setState({showBlock:!0})}).on("focusout",function(t){e.setState({showBlock:!1})}),$(this.dlPredefined).on("focusin",function(t){e.setState({showPredefined:!0})}).on("focusout",function(t){e.setState({showPredefined:!1})})},t.prototype.componentWillReceiveProps=function(e){if(e.activeConversationId&&this.props.activeConversationId!==e.activeConversationId){var t=e.user&&e.user.metadata||{};0===Object.keys(t).length&&JSON.parse(window.chatData||"{}");var n=e.user&&e.user.lastSeenAt,r=void 0;r="cv"===e.windowSource?JSON.parse(window.chatData||"{}").uniqId||"":e.user&&e.user.userId,this.lastSeenPrms=Object(l.d)(r,e.windowSource),this.lastSeenPrms.then(function(){},function(){window.location.href="//resdex.naukri.com/v2/ResetLogin/displayResetLogin?requrl="+window.location.href}),this.setState({lastSeenAt:n||""})}},t.prototype.openBlockLightbox=function(){this.setState({openLighbox:!0})},t.prototype.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.getTime())},t.prototype.renderHeader=function(){var e=this,t=this.props,n=t.user,r=t.recruiter,i=t.recruiterName,a=t.recruiterDsg,l=t.recruiterCmp,p=t.windowSource,h=this.state.lastSeenAt;if(n)h||this.lastSeenPrms&&this.lastSeenPrms.then(function(t){if(h="",t.lastActiveTime){var n=t.lastActiveTime.split(" ").join("T");h=new Date(n)}e.isDate(h)||(h=""),e.setState({lastSeenAt:h})},function(e){});else{var f=void 0!==window.chatData?JSON.parse(window.chatData):{},y="undefined"!=typeof avatarUrl?avatarUrl:"",m=f.imageId?c.a.AVATAR_DEFAULT_URL+f.imageId:c.a.AVATAR_FALLBACK_URL,v="preview"===pageName?y:m;n={avatarUrl:v||"",id:"1"}}var g=void 0;if(h){var b=s.c(h);switch(g=c.a.LAST_SEEN_LABEL,b){case"today":"now"===s.h(h)?g=c.a.ACTIVE_NOW_LABEL:g+=s.h(h)+" "+c.a.AGO_LABEL;break;case"yesterday":g+=c.a.YESTERDAY_LABEL;break;case"before":g+=c.a.ON_LABEL+s.g(h);break;default:g+=c.a.AT_LABEL+s.d(h)}}var _=JSON.parse(window.chatData||"{}"),E="cv"===p&&_.displayName||null,k="cv"===p&&_.designation||null;return d.createElement("nav",{className:"navbar-fixed row chat-window-header"},d.createElement("div",{className:"nav-wrapper pad-rght-0 col s9 l9 m9 xl9"},d.createElement("ul",{className:"collection"},d.createElement("li",{className:"collection-item avatar pad-rght-0"},d.createElement("div",null,n&&d.createElement(o.a,{user:n})),d.createElement("div",{className:h?"display-name-time":"display-name"},d.createElement("span",{className:"js-title ellipses",title:n&&n.displayName||E||"Candidate"},n&&n.metadata&&n.metadata.cvId?d.createElement("a",{style:{color:"white"},target:"_blank",href:"//resdex.naukri.com/v2/preview/preview?uniqId="+n.metadata.cvId+"&hfFlowName=chat"},Object(u.i)(n.displayName)||E||"Candidate"):n&&n.displayName?Object(u.i)(n.displayName):E||"Candidate"),d.createElement("span",{className:"js-title last-seen ellipses",title:g},g))))),d.createElement("div",{className:"col s3 l3 m3 xl3 js-options"},d.createElement("div",{className:"chat-header-nav",tabIndex:"-1",ref:function(t){return e.dlPredefined=t}},d.createElement("i",{className:"fontIcon wf-chat-predefined-template"}),d.createElement("div",{className:"materialize dropLayer threedots predefined-messages",style:{textAlign:"left"}},this.state.showPredefined&&d.createElement("ul",{onClick:this.changePredefinedMsg.bind(this)},d.createElement("li",null,"Hi ",n&&Object(u.i)(n.displayName)||E||"Candidate",",",d.createElement("br",null)," I am ",a||"Recruiter"," ",l&&" at "+l,". I am working on a job opportunity for which your profile seems a perfect match. If interested, do ping back."),d.createElement("li",null,"Hi ",n&&Object(u.i)(n.displayName)||E||"Candidate",",",d.createElement("br",null)," I am a recruitment consultant, currently looking for a ",n&&n.metadata&&n.metadata.designation||k||"Candidate"," for a job opening with one of my renowned clients.",d.createElement("br",null),"I have reviewed your profile and it seems a good match. If interested, do ping back. "),d.createElement("li",null,"Hi ",n&&Object(u.i)(n.displayName)||E||"Candidate",",",d.createElement("br",null)," I came across your profile on Naukri.com. I have some openings for which your profile seems to be a good match. If you are interested we can take it forward.",d.createElement("br",null),"Regards,",d.createElement("br",null),i,d.createElement("br",null),a||"Recruiter"," ",l&&" at "+l)))),d.createElement("div",{className:"chat-header-nav",tabIndex:"-1",ref:function(t){return e.dlThreeDots=t}},!this.props.hideDots&&d.createElement("i",{className:"fontIcon wf-chat-three-dots"}),d.createElement("div",{className:"materialize dropLayer threedots block-chat-layer",style:{textAlign:"left"}},this.state.showBlock&&d.createElement("ul",null,this.props.isChatBlocked?d.createElement("li",{onClick:function(){e.props.UnBlockUser(),$(e.dlThreeDots).blur()}},"Unblock User"):d.createElement("li",{onClick:function(){return e.toggleLightBox(n,r)}},"Block User")))),d.createElement("div",{className:"chat-header-nav"},d.createElement("i",{className:"fontIcon wf-chat-cross",onClick:this.props.closeChatWindow}))))},t.prototype.toggleLightBox=function(e,t){this.props.toggleBlockLightbox({openBlockLightbox:!0,jobSeekerId:e.id,recruiterId:t,jobSeeker:{user:e}})},t.prototype.changePredefinedMsg=function(e){this.props.changePredefinedMsg(e.target.innerText)},t.prototype.render=function(){return this.renderHeader()},t}(d.PureComponent);t.a=p},"S/PF":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("EvUg"),l=function(e){function t(e){return r(this,t),"string"==typeof e&&(e={id:e}),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),o(t,[{key:"loadContent",value:function(e,t){c({url:this.downloadUrl,responseType:"arraybuffer"},function(n){if(n.success)if("undefined"!=typeof Blob){var r=new Blob([n.data],{type:e});t(null,r)}else t(null,n.data);else t(n.data,null)})}},{key:"refreshContent",value:function(e,t){var n=this;e.xhr({url:this.refreshUrl,method:"GET",sync:!1},function(e){var r=e.data;n.expiration=new Date(r.expiration),n.downloadUrl=r.download_url,t&&t(n.downloadUrl)})}},{key:"isExpired",value:function(){return this.expiration.getTime()-6e5<Date.now()}}],[{key:"_createFromServer",value:function(e){return new t({id:e.id,downloadUrl:e.download_url,expiration:new Date(e.expiration),refreshUrl:e.refresh_url})}}]),t}(s);l.prototype.id="",l.prototype.blob=null,l.prototype.downloadUrl="",l.prototype.refreshUrl="",l.prototype.size=0,l.prototype.expiration=null,s.initClass.apply(l,[l,"Content"]),e.exports=l},Sbnt:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("xrGV"),s=n.n(o),c=n("XLZg"),l=window.interfaces,u=l.Virtual,d=(l.VirtualDom,function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.uba=c.a.getInstance(),a}return a(t,e),t.prototype.render=function(){var e=this,t=this.props.userEmail;return u.createElement("div",{className:"cht-feedback"},u.createElement("div",{className:"cht-feedback-icon"},u.createElement("img",{src:s.a})),u.createElement("div",{className:"cht-feedback-main"},u.createElement("div",{className:"cht-feedback-msg"},u.createElement("p",{className:"cht-feedback-msg1"},"Your feedback is important to us"),u.createElement("p",{className:"cht-feedback-msg2"},"Tell us about how we can improve the messaging experience for you.")),u.createElement("div",{className:"cht-feedback-actions"},u.createElement("span",{className:"cht-feedback-share",onClick:function(){e.uba.track("chatButtonClick",{fromId:e.props.owner&&e.props.owner.metadata.rpId||"",buttonSource:"chatList",status:"shareFeedback",conversationsCount:e.props.convCount})}},u.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSeAr_CnwbAqPeh3TLbtOCmnvLQE_zYhH_kFAdjC59VJZqz6Ow/viewform?entry.1365188734="+t,target:"_blank"},"SHARE FEEDBACK")),u.createElement("span",{className:"cht-feedback-dismiss",onClick:function(){e.uba.track("chatButtonClick",{fromId:e.props.owner&&e.props.owner.metadata.rpId||"",buttonSource:"chatList",status:"dismissFeedback",conversationsCount:e.props.convCount}),e.props.dismissFeedback()}},"Dismiss"))))},t}(u.PureComponent));t.a=d},SjXI:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n("VRIa");Object.defineProperty(t,"LayerProvider",{enumerable:!0,get:function(){return r(i).default}});var a=n("pFEf");Object.defineProperty(t,"connectQuery",{enumerable:!0,get:function(){return r(a).default}});var o=n("0/iX");Object.defineProperty(t,"connectTypingIndicator",{enumerable:!0,get:function(){return r(o).default}})},SyvT:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-conversation.png"},T8XN:function(e,t,n){"use strict";n.d(t,"g",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return s}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return u});var r=n("A+05"),i={id:"",dueDate:"",description:"",creatorName:"",creatorId:"",landingUrl:"",context:"",contextSource:"",searchableEntities:[],completed:!1,deleted:!1,type:r.d.SIMPLE},a={viewed:!1,type:"",referenceId:"",jobSeekerNames:""},o={count:0,list:[],dateMap:{}},s={dateMap:{}},c={activeReminders:[]},l={dueDate:"",referenceId:"",id:"",timerId:"",status:""},u={type:"",desc:"",dateStr:"",searchableEntities:[],context:null,contextSource:"",id:null,checked:!0,reminderId:null,hfFlowName:null,triggerSource:null}},TAxY:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(){}t.__esModule=!0,t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var l=n("tSPV"),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l),d=n("AX2D"),p=r(d),h=n("AX2D"),f=r(h),y=(n("QzNM"),t.UNMOUNTED="unmounted"),m=t.EXITED="exited",v=t.ENTERING="entering",g=t.ENTERED="entered",b=t.EXITING="exiting",_=function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r)),s=r.transitionGroup,c=s&&!s.isMounting?n.enter:n.appear,l=void 0;return i.nextStatus=null,n.in?c?(l=m,i.nextStatus=v):l=g:l=n.unmountOnExit||n.mountOnEnter?y:m,i.state={status:l},i.nextCallback=null,i}return s(t,e),t.prototype.getChildContext=function(){return{transitionGroup:null}},t.prototype.componentDidMount=function(){this.updateStatus(!0)},t.prototype.componentWillReceiveProps=function(e){var t=this.pendingState||this.state,n=t.status;e.in?(n===y&&this.setState({status:m}),n!==v&&n!==g&&(this.nextStatus=v)):n!==v&&n!==g||(this.nextStatus=b)},t.prototype.componentDidUpdate=function(){this.updateStatus()},t.prototype.componentWillUnmount=function(){this.cancelNextCallback()},t.prototype.getTimeouts=function(){var e=this.props.timeout,t=void 0,n=void 0,r=void 0;return t=n=r=e,null!=e&&"number"!=typeof e&&(t=e.exit,n=e.enter,r=e.appear),{exit:t,enter:n,appear:r}},t.prototype.updateStatus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.nextStatus;if(null!==t){this.nextStatus=null,this.cancelNextCallback();var n=f.default.findDOMNode(this);t===v?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===m&&this.setState({status:y})},t.prototype.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,a=this.getTimeouts();if(!t&&!r)return void this.safeSetState({status:g},function(){n.props.onEntered(e)});this.props.onEnter(e,i),this.safeSetState({status:v},function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a.enter,function(){n.safeSetState({status:g},function(){n.props.onEntered(e,i)})})})},t.prototype.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();if(!n)return void this.safeSetState({status:m},function(){t.props.onExited(e)});this.props.onExit(e),this.safeSetState({status:b},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:m},function(){t.props.onExited(e)})})})},t.prototype.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},t.prototype.safeSetState=function(e,t){var n=this;this.pendingState=e,t=this.setNextCallback(t),this.setState(e,function(){n.pendingState=null,t()})},t.prototype.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},t.prototype.onTransitionEnd=function(e,t,n){this.setNextCallback(n),e?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},t.prototype.render=function(){var e=this.state.status;if(e===y)return null;var t=this.props,n=t.children,r=i(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var a=p.default.Children.only(n);return p.default.cloneElement(a,r)},t}(p.default.Component);_.contextTypes={transitionGroup:u.object},_.childContextTypes={transitionGroup:function(){}},_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:c,onEntering:c,onEntered:c,onExit:c,onExiting:c,onExited:c},_.UNMOUNTED=0,_.EXITED=1,_.ENTERING=2,_.ENTERED=3,_.EXITING=4,t.default=_},TGOB:function(e,t,n){"use strict";var r=n("VdYS"),i=n("pLky").dictionary;e.exports={events:["channels:add","channels:remove","channels:change","channels:loaded","channels:delete","channels:sent","channels:sent-error"],lifecycle:{constructor:function(e){this._models.channels={}},cleanup:function(){var e=this;Object.keys(this._models.channels).forEach(function(t){var n=e._models.channels[t];n&&!n.isDestroyed&&n.destroy()}),this._models.channels=null},reset:function(){this._models.channels={}}},methods:{getChannel:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.channels[e]?this._models.channels[e]:t?r.load(e,this):null},_addChannel:function(e){var t=e.id;this._models.channels[t]||(this._models.channels[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("channels:add",{channels:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeChannel:function(e){var t=this;e.off(null,null,this),this._models.channels[e.id]&&(delete this._models.channels[e.id],this._triggerAsync("channels:remove",{channels:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].channelId===e.id&&t._models.messages[n].destroy()})},_updateChannelId:function(e,t){var n=this;this._models.channels[t]&&(this._models.channels[e.id]=e,delete this._models.channels[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedChannel:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.channels),i=r.length,a=0;a<i;a++){var o=r[a],s=this._models.channels[o];if(n(s,a))return s}return null},createChannel:function(e){if(!this.isAuthenticated)throw new Error(i.clientMustBeReady);return"private"in e||(e.private=!1),e.client=this,r.create(e)}}}},Tdeb:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(){r(this,e),this.liveJobs=[]}return e.prototype.saveLiveJobs=function(e){this.liveJobs=e},e.prototype.getLiveJobs=function(e){return this.liveJobs},e}();t.a=i},Tqr5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("pLky"),l=n("P+Qc"),u=n("4wNg"),d=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),p=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("channel.id")){var t=e.match(d)?e.replace(d,"$1"):null;if(!t)throw new Error(c.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///channels/")&&(t="layer:///channels/"+t),"channel.id = '"+t+"'"}throw new Error(c.dictionary.invalidPredicate)}},{key:"_getChannelPredicateIds",value:function(){if(this.predicate.match(d)){var e=this.predicate.replace(d,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/channels\//,"");if(t)return{uuid:t,id:e,type:u.Channel}}}},{key:"_fetchData",value:function(e){var t=this,n=this._getChannelPredicateIds();if(!n)return void(this.predicate&&!this.predicate.match(/['"]/)&&l.error("This query may need to quote its value"));var r="layer:///channels/"+n.uuid;this._predicate||(this._predicate=n.id);var i=this.client.getChannel(r),a="channels/"+n.uuid+"/members?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||a===this._firingRequest||(this.isFiring=!0,this._firingRequest=a,this.client.xhr({telemetry:{name:"member_query_time"},url:a,method:"GET",sync:!1},function(n){return t._processRunResults(n,a,e)}))}},{key:"_appendResultsSplice",value:function(e){this.data.push(this._getData(e))}},{key:"_handleEvents",value:function(e,t){switch(e){case"members:change":this._handleChangeEvent("members",t);break;case"members:add":this._handleAddEvent("members",t);break;case"members:remove":this._handleRemoveEvent("members",t)}}}]),t}(u);p._supportedEvents=[].concat(u._supportedEvents),p.MaxPageSize=500,p.prototype.model=u.Membership,s.initClass.apply(p,[p,"MembersQuery"]),e.exports=p},Ty3J:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return o.createElement("div",{class:"attachment-error"},o.createElement("div",{class:"attachment-error-icon"},o.createElement("i",{className:"fontIcon wf-chat-cross",onClick:this.props.closeError})),o.createElement("div",{className:"attachment-error-text"},o.createElement("p",null,this.props.error)))},t}(o.PureComponent);t.a=s},U8at:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var c=n("tSPV"),l=r(c),u=n("AX2D"),d=r(u),p=n("AX2D"),h=n("tW2u"),f=r(h),y=(l.default.bool.isRequired,function(e){function t(){var n,r,i;a(this,t);for(var s=arguments.length,c=Array(s),l=0;l<s;l++)c[l]=arguments[l];return n=r=o(this,e.call.apply(e,[this].concat(c))),m.call(r),i=n,o(r,i)}return s(t,e),t.prototype.handleLifecycle=function(e,t,n){var r,i=this.props.children,a=d.default.Children.toArray(i)[t];a.props[e]&&(r=a.props)[e].apply(r,n),this.props[e]&&this.props[e]((0,p.findDOMNode)(this))},t.prototype.render=function(){var e=this.props,t=e.children,n=e.in,r=i(e,["children","in"]),a=d.default.Children.toArray(t),o=a[0],s=a[1];return delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,d.default.createElement(f.default,r,n?d.default.cloneElement(o,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):d.default.cloneElement(s,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},t}(d.default.Component)),m=function(){var e=this;this.handleEnter=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEnter",0,n)},this.handleEntering=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntering",0,n)},this.handleEntered=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onEntered",0,n)},this.handleExit=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExit",1,n)},this.handleExiting=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExiting",1,n)},this.handleExited=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.handleLifecycle("onExited",1,n)}};y.propTypes={},t.default=y,e.exports=t.default},"UD6+":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("jTMd"),u=l.WebsocketSyncEvent,d=n("EvUg"),p=n("P+Qc"),h=n("jPMo"),f=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.client=e.client,n.client&&n.client.on("ready",function(){n._processNextRequest(),n._loadPersistedQueue()},n),n.queue=[],n.receiptQueue=[],n.onlineManager.on("disconnected",n._onlineStateChange,n),n.socketManager.on("connected disconnected",n._onlineStateChange,n),n}return a(t,e),o(t,[{key:"isOnline",value:function(){return this.onlineManager.isOnline}},{key:"_onlineStateChange",value:function(e){var t=this;"connected"===e.eventName?(this.queue.length&&this.queue[0].returnToOnlineCount++,setTimeout(function(){return t._processNextRequest()},100)):"disconnected"===e.eventName&&(this.queue.length&&(this.queue[0].isFiring=!1),this.receiptQueue.length&&this.receiptQueue.forEach(function(e){return e.isFiring=!1}))}},{key:"request",value:function(e){"PATCH"===e.operation&&this._findUnfiredCreate(e)?p.info("Sync Manager Request PATCH "+e.target+" request ignored; create request still enqueued",e.toObject()):(p.info("Sync Manager Request "+e.operation+" on target "+e.target,e.toObject()),"RECEIPT"===e.operation?this.receiptQueue.push(e):this.queue.push(e),this.trigger("sync:add",{request:e,target:e.target})),"DELETE"===e.operation&&this._purgeOnDelete(e),this._processNextRequest(e)}},{key:"_processNextRequest",value:function(e){var t=this;this.queue.length&&!this.queue[0].isFiring&&(e?this.client.dbManager.writeSyncEvents([e],function(){return t._processNextStandardRequest()}):this._processNextStandardRequest()),this.receiptQueue.length&&this._processNextReceiptRequest()}},{key:"_findUnfiredCreate",value:function(e){return Boolean(this.queue.filter(function(t){return t.target===e.target&&"POST"===t.operation&&!t.isFiring}).length)}},{key:"_processNextStandardRequest",value:function(){var e=this;if(!this.isDestroyed&&this.client.isAuthenticated){var t=this.queue[0];this.isOnline()&&t&&!t.isFiring&&!t._isValidating&&(t._isValidating=!0,this._validateRequest(t,function(n){if(t._isValidating=!1,!n)return e._removeRequest(t,!1),e._processNextStandardRequest();e._fireRequest(t)}))}}},{key:"_processNextReceiptRequest",value:function(){var e=this,t=0;this.receiptQueue.forEach(function(n){e.isOnline()&&n&&(n.isFiring||n._isValidating?t++:t<4&&(t++,e._fireRequest(n)))})}},{key:"_fireRequest",value:function(e){e instanceof u?this._fireRequestWebsocket(e):this._fireRequestXHR(e)}},{key:"_fireRequestXHR",value:function(e){var t=this;e.isFiring=!0,e.headers||(e.headers={}),e.headers.authorization='Layer session-token="'+this.client.sessionToken+'"',p.info("Sync Manager XHR Request Firing "+e.operation+" "+e.target+" at "+(new Date).toISOString(),e.toObject()),d(e._getRequestData(this.client),function(n){return t._xhrResult(n,e)})}},{key:"_fireRequestWebsocket",value:function(e){var t=this;this.socketManager&&this.socketManager._isOpen()?(p.debug("Sync Manager Websocket Request Firing "+e.operation+" on target "+e.target,e.toObject()),e.isFiring=!0,this.requestManager.sendRequest({data:e._getRequestData(this.client),callback:function(n){return t._xhrResult(n,e)},isChangesArray:e.returnChangesArray})):p.debug("Sync Manager Websocket Request skipped; socket closed")}},{key:"_validateRequest",value:function(e,t){this.client.dbManager.claimSyncEvent(e,function(e){return t(e)})}},{key:"_handleDeduplicationErrors",value:function(e){e.data&&"id_in_use"===e.data.id&&e.data.data&&e.data.data.id===e.request._getCreateId()&&(e.success=!0,e.data=e.data.data)}},{key:"_xhrResult",value:function(e,t){this.isDestroyed||(e.request=t,t.isFiring=!1,this._handleDeduplicationErrors(e),e.success?this._xhrSuccess(e):this._xhrError(e))}},{key:"_getErrorState",value:function(e,n,r){var i=e.data?e.data.id:"";return r?"not_found"===i?"notFound":"id_in_use"===i?"invalidId":408===e.status||"request_timeout"===i?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"validateOnlineAndRetry":-1!==[502,503,504].indexOf(e.status)?n.retryCount>=t.MAX_RETRIES?"tooManyFailuresWhileOnline":"serverUnavailable":"authentication_required"===i&&e.data.data&&e.data.data.nonce?"reauthorize":"serverRejectedRequest":n.returnToOnlineCount>=t.MAX_RETRIES_BEFORE_CORS_ERROR?"CORS":"offline"}},{key:"_xhrError",value:function(e){var t=e.request;p.warn("Sync Manager "+(t instanceof u?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Failed",t.toObject());var n=this._getErrorState(e,t,this.isOnline());switch(p.warn("Sync Manager Error State: "+n),n){case"tooManyFailuresWhileOnline":this._xhrHandleServerError(e,"Sync Manager Server Unavailable Too Long; removing request",!1);break;case"notFound":this._xhrHandleServerError(e,"Resource not found; presumably deleted",!1);break;case"invalidId":this._xhrHandleServerError(e,"ID was not unique; request failed",!1);break;case"validateOnlineAndRetry":case"serverUnavailable":this._xhrHandleServerUnavailableError(e);break;case"reauthorize":t.callback&&t.callback(e);break;case"serverRejectedRequest":this._xhrHandleServerError(e,"Sync Manager Server Rejects Request; removing request",!0);break;case"CORS":this._xhrHandleServerError(e,"Sync Manager Server detects CORS-like errors; removing request",!1);break;case"offline":this._xhrHandleConnectionError()}-1===this.queue.indexOf(t)&&-1===this.receiptQueue.indexOf(t)||this.client.dbManager.writeSyncEvents([t])}},{key:"_xhrHandleServerUnavailableError",value:function(e){var n=e.request;this.trigger("sync:error-will-retry",{target:n.target,request:n,error:e.data,retryCount:n.retryCount});var r=t.MAX_UNAVAILABLE_RETRY_WAIT,i=h.getExponentialBackoffSeconds(r,Math.min(15,n.retryCount++));p.warn("Sync Manager Server Unavailable; retry count "+n.retryCount+"; retrying in "+i+" seconds"),setTimeout(this._processNextRequest.bind(this),1e3*i)}},{key:"_xhrHandleServerError",value:function(e,t,n){e.request.callback&&e.request.callback(e),n?p.error(t+"\nREQUEST: "+JSON.stringify(e.request.toObject(),null,4)+"\nRESPONSE: "+JSON.stringify(e.data,null,4)):p.error(t,e),this.trigger("sync:error",{target:e.request.target,request:e.request,error:e.data}),e.request.success=!1,"POST"===e.request.operation&&this._purgeDependentRequests(e.request),this._removeRequest(e.request,!0),this._processNextRequest()}},{key:"_xhrHandleConnectionError",value:function(){}},{key:"_xhrValidateIsOnline",value:function(e){var t=this;p.debug("Sync Manager verifying online state"),this.onlineManager.checkOnlineStatus(function(n){return t._xhrValidateIsOnlineCallback(n,e)})}},{key:"_xhrValidateIsOnlineCallback",value:function(e,t){p.debug("Sync Manager online check result is "+e),e?(t.retryCount++,this._processNextRequest()):this._xhrHandleConnectionError()}},{key:"_xhrSuccess",value:function(e){var t=e.request;p.debug("Sync Manager "+(t instanceof u?"Websocket":"XHR")+" "+t.operation+" Request on target "+t.target+" has Succeeded",t.toObject()),e.data&&p.debug(e.data),t.success=!0,this._removeRequest(t,!0),t.callback&&t.callback(e),this._processNextRequest(),this.trigger("sync:success",{target:t.target,request:t,response:e.data})}},{key:"_removeRequest",value:function(e,t){var n="RECEIPT"===e.operation?this.receiptQueue:this.queue,r=n.indexOf(e);-1!==r&&n.splice(r,1),t&&this.client.dbManager.deleteObjects("syncQueue",[e])}},{key:"_purgeDependentRequests",value:function(e){this.queue=this.queue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e}),this.receiptQueue=this.receiptQueue.filter(function(t){return-1===t.depends.indexOf(e.target)||t===e})}},{key:"_purgeOnDelete",value:function(e){var t=this;this.queue.filter(function(t){return-1!==t.depends.indexOf(e.target)&&e!==t}).forEach(function(e){t.trigger("sync:abort",{target:e.target,request:e}),t._removeRequest(e,!0)})}},{key:"destroy",value:function(){this.queue.forEach(function(e){return e.destroy()}),this.queue=null,this.receiptQueue.forEach(function(e){return e.destroy()}),this.receiptQueue=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_loadPersistedQueue",value:function(){var e=this;this.client.dbManager.loadSyncQueue(function(t){t.length&&(e.queue=e.queue.concat(t),e._processNextRequest())})}}]),t}(c);f.prototype.socketManager=null,f.prototype.requestManager=null,f.prototype.onlineManager=null,f.prototype.queue=null,f.prototype.receiptQueue=null,f.prototype.client=null,f.MAX_UNAVAILABLE_RETRY_WAIT=60,f.MAX_RETRIES_BEFORE_CORS_ERROR=3,f.MAX_RETRIES=20,f._supportedEvents=["sync:error","sync:error-will-retry","sync:success","sync:add","sync:abort"].concat(c._supportedEvents),c.initClass(f),e.exports=f},UVf0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=n("4JXe"),a=r(i),o=n("U8at"),s=r(o),c=n("tW2u"),l=r(c),u=n("TAxY"),d=r(u);e.exports={Transition:d.default,TransitionGroup:l.default,ReplaceTransition:s.default,CSSTransition:a.default}},Uk6N:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1],n=t.payload;switch(t.type){case s:return a({},e,{activeConversationId:c.activeConversationId,isDrawerLoaded:c.isDrawerLoaded});case i.d:return a({},e,{composerMessage:n.value});case i.m:return a({},e,{composerMessage:"",selectedAttachment:null,selectedLiveJob:null});case i.h:return a({},e,{messagePagination:e.messagePagination+10});case i.c:return a({},e,{activeConversationId:n.id,windowSource:n.windowSource});case i.n:return a({},e,{conversationData:n.data});case i.b:return a({},e,{blockedUsers:n.data});case i.o:return a({},e,{isDrawerLoaded:n.data});case i.l:return a({},e,{selectedLiveJob:n.data});case i.k:return a({},e,{selectedAttachment:n.data});default:return e}}t.a=r;var i=n("uNDA"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=window.interfaces.actionTypes,s=o.reduxPersist.REHYDRATE,c={editingTitle:!1,activeConversationId:null,title:"",composerMessage:"",messagePagination:10,blockedUsers:null,isDrawerLoaded:{value:!1,unreadConversations:0},selectedLiveJob:null,selectedAttachment:!1,conversationData:{jobSeekerId:null,recruiterId:null,openBlockLightbox:!1,openAttachLightBox:!1,jobSeeker:{user:{displayName:""}}},windowSource:""}},VRIa:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("AX2D"),c=n("KSGD"),l=function(e){return e&&e.__esModule?e:{default:e}}(c),u=function(e){function t(e,n){r(this,t);var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return a.client=e.client,a}return a(t,e),o(t,[{key:"getChildContext",value:function(){return{client:this.client}}},{key:"render",value:function(){var e=this.props.children;return"function"==typeof e&&(e=e()),s.Children.only(e)}}]),t}(s.Component);u.propTypes={client:l.default.object.isRequired,children:l.default.element},u.childContextTypes={client:l.default.object.isRequired},t.default=u},VdYS:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("zTev"),u=n("XsJf"),d=n("PT5i"),p=n("pLky"),h=n("yUvy"),f=n("jPMo"),y=n("kesd"),m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.membership||(e.membership={});var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._members=n.getClient()._fixIdentities(e.members||[]).map(function(e){return e.id}),n._register(),n}return a(t,e),o(t,[{key:"destroy",value:function(){this.lastMessage=null,this.getClient()._removeChannel(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this.membership=null}},{key:"createMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="string"==typeof e?{parts:[{body:e,mimeType:"text/plain"}]}:e;return t.clientId=this.clientId,t.conversationId=this.id,new d(t)}},{key:"_setupMessage",value:function(e){e.position=t.nextPosition,t.nextPosition+=8192}},{key:"_getSendData",value:function(e){var t=f.isEmpty(this.metadata),n=this._members||[];return-1===n.indexOf(this.getClient().user.id)&&n.push(this.getClient().user.id),{method:"Channel.create",data:{name:this.name,metadata:t?null:this.metadata,id:this.id,members:n}}}},{key:"_populateFromServer",value:function(e){this._inPopulateFromServer=!0,this._disableEvents=this.syncState===y.SYNC_STATE.NEW,this.name=e.name,this.isCurrentParticipant=Boolean(e.membership),this.membership=e.membership&&e.membership.id?this.getClient()._createObject(e.membership):null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_populateFromServer",this).call(this,e),this._register(),this._disableEvents=!1}},{key:"_createResultConflict",value:function(e){var t=e.data;t?this._createSuccess(t):(this.syncState=y.SYNC_STATE.NEW,this._syncCounter=0,this.trigger("channels:sent-error",{error:e})),this._inPopulateFromServer=!1}},{key:"__adjustName",value:function(e){if(!(this._inPopulateFromServer||this._inLayerParser||this.isNew()||this.isLoading))throw new Error(p.dictionary.permissionDenied)}},{key:"__updateName",value:function(e,t){this._triggerAsync("channels:change",{property:"name",oldValue:t,newValue:e})}},{key:"addMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===y.SYNC_STATE.NEW?(this._members=this._members.concat(e),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"PUT"})}),this)}},{key:"removeMembers",value:function(e){var t=this;return e=this.getClient()._fixIdentities(e).map(function(e){return e.id}),this.syncState===y.SYNC_STATE.NEW?(e.forEach(function(e){var n=t._members.indexOf(e);-1!==n&&t._members.splice(n,1)}),this):(e.forEach(function(e){t._xhr({url:"/members/"+e.replace(/^layer:\/\/\/identities\//,""),method:"DELETE"})}),this)}},{key:"join",value:function(){return this.addMembers([this.getClient().user.id])}},{key:"leave",value:function(){return this.removeMembers([this.getClient().user.id])}},{key:"getMember",value:function(e){e=this.getClient()._fixIdentities([e])[0].id;var t=this.id+"/members/"+e.replace(/layer:\/\/\/identities\//,"");return this.getClient().getMember(t,!0)}},{key:"delete",value:function(){this._delete("")}},{key:"_handlePatchEvent",value:function(e,n,r){this._inLayerParser=!1;try{var i=this._disableEvents;this._disableEvents=!1,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handlePatchEvent",this).call(this,e,n,r),this._disableEvents=i}catch(e){}this._inLayerParser=!0}},{key:"_register",value:function(){this.getClient()._addChannel(this)}},{key:"_deleteResult",value:function(e,n){var r=this.getClient();e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||t.load(n,r)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.membership=f.clone(this.membership)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}},{key:"create",value:function(e){if(!e.client)throw new Error(p.dictionary.clientMissing);e.name||(e.name="channel-"+String(Math.random()).replace(/\./,""));var n={name:e.name,private:e.private,members:e.members?e.client._fixIdentities(e.members).map(function(e){return e.id}):[],metadata:e.metadata,client:e.client},r=e.client.findCachedChannel(function(e){return e.name===n.name});return r&&(r._sendDistinctEvent=new h({target:r,result:!e.metadata||f.doesObjectMatch(e.metadata,r.metadata)?t.FOUND:t.FOUND_WITHOUT_REQUESTED_METADATA},"channels:sent")),r||new t(n)}}]),t}(u);m.prototype.name="",m.prototype.membership=null,m.prototype._members=null,m.eventPrefix="channels",m.nextPosition=0x10000000000000000,m.prefixUUID="layer:///channels/",m._supportedEvents=["channels:sent","channels:sent-error","channels:loaded","channels:loaded-error","channels:delete","channels:change"].concat(l._supportedEvents),c.initClass.apply(m,[m,"Channel"]),l.subclasses.push(m),e.exports=m},"W/ob":function(e,t,n){"use strict";n.d(t,"f",function(){return m}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return k}),n.d(t,"d",function(){return C}),n.d(t,"e",function(){return w}),n.d(t,"g",function(){return T}),n.d(t,"b",function(){return O}),n.d(t,"c",function(){return S}),n.d(t,"l",function(){return D}),n.d(t,"a",function(){return x}),n.d(t,"k",function(){return I}),n.d(t,"j",function(){return j});var r=n("ZnEx"),i=n("T8XN"),a=n("Kd6K"),o=n("A+05"),s=n("N1N5"),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=window.interfaces.batchActions,u=window.interfaces.Redux.bindActionCreators,d=function(e){return{type:r.d,payload:c({},i.g,{id:e.id,dueDate:e.dueDate.split(" ").join("T"),description:e.description,creatorId:e.creatorId,creatorName:e.type==o.d.SIMPLE?"You":e.creatorName,landingUrl:e.landingUrl+"?id="+e.id+"&contextId="+e.context,context:e.context,contextSource:e.contextSource,completed:"complete"==e.status,deleted:"delete"==e.status,type:e.type})}},p=function(e){return{type:r.h,payload:{id:e.id,dueDate:e.dueDate,description:e.description}}},h=function(e){return{type:r.g,payload:{id:e}}},f=function(e,t){return{type:r.f,payload:{id:e}}},y=function(e){return{type:r.c,payload:c({},i.e,{id:e.id,dueDate:e.dueDate.split(" ").join("T"),referenceId:e.taskReferenceId,timerId:e.timerId?e.timerId:""})}},m=function(e){return{type:r.m,payload:{id:e}}},v=function(e){return{type:r.x,payload:{id:e}}},g=function(e){return{type:r.C,payload:e}},b=function(e,t){return{type:r.e,payload:{id:e.id,dueDate:e.dueDate||t}}},_=function(e){return{type:r.b,payload:{id:e.id,dueDate:e.taskData.dueDate,notifData:c({},i.c,{viewed:"unread"!=e.status,referenceId:e.taskData.id,type:e.taskData.type,jobSeekerNames:e.taskData.displayText})}}},E=function(){return{type:r.r}},k=function(e){return{type:r.A,payload:{count:e}}},C=function(e){var t=e.page,n=e.limit;return function(e){return 1==t&&e(E()),$.ajaxPromise({url:a.a+"/recruiterGnb/getAllNotifications?offset="+(t-1)*n+"&limit="+n}).then(function(t){var n=t.data,r=[];return n.notifications.length&&n.notifications.forEach(function(e){r.push(d(e.taskData)),r.push(_(e))}),n.status&&n.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),e(l(r)),n})}},w=function(e,t){return function(t){return $.ajaxPromise({url:a.a+"/recruiterGnb/getTask",method:"GET",data:e}).then(function(e){var n=e.data,r=[];return void 0!=n.tasks&&n.tasks.length&&n.tasks.forEach(function(e){var n=e.reminderData;n.taskReferenceId=e.taskData.id;var i=u(N,t)(n,e.taskData.status);i&&(n.timerId=i),r.push(d(e.taskData)),r.push(b(e.taskData)),r.push(y(n)),t(l(r))}),n})}},T=function(){return $.ajaxPromise({url:a.a+"/recruiterGnb/markAllNotificationsAsRead",method:"POST",contentType:"application/json"}),k(0)},O=function(e,t){return function(n){var r={id:e,fields:{status:"complete"}};return $.ajaxPromise({url:a.a+"/recruiterGnb/updateTaskStatus",method:"POST",data:JSON.stringify(r),contentType:"application/json"}).then(function(e){if(e.data.taskData){n(f(e.data.taskData.id));try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:"Completed",taskSource:t,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},S=function(e,t){return function(n){var r={id:e,fields:{status:"delete"}};return $.ajaxPromise({url:a.a+"/recruiterGnb/updateTaskStatus",method:"POST",data:JSON.stringify(r),contentType:"application/json"}).then(function(e){if(e.data.taskData){n(h(e.data.taskData.id));try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:"Deleted",taskSource:t,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},D=function(e){try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:!0,dismissSource:"reminderPopUp",taskType:null,status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}return function(t){var n=e;return $.ajaxPromise({url:a.a+"/recruiterGnb/updateReminderStatus",method:"POST",data:JSON.stringify(n),contentType:"application/json"}).then(function(e){e.data.reminderData&&(t(g(e.data.reminderData)),t(m(e.data.reminderData.id))),e.data.status&&e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()})}},x=function(e){return function(t){var n=[];void 0!=e&&e.length&&e.forEach(function(e){var r=e.reminderData;r.taskReferenceId=e.taskData.id;var i=u(N,t)(r,e.taskData.status);i&&(r.timerId=i),n.push(d(e.taskData)),n.push(b(e.taskData)),n.push(y(r)),t(l(n))})}},I=function(e){var t="";return new Date,t=e.dateStr==o.a.now||e.dateStr==o.a.later?"now":Object(s.i)(new Date(e.dateStr)),{type:r.z,payload:c({},i.a,e,{dateStr:t})}},j=function(e){return function(t){var n=new Date(e.dateStr.replace(/[^\x00-\x7F]/g,"")),r=Object(s.b)(-15,e.dateStr.replace(/[^\x00-\x7F]/g,"")),i=Object(s.h)(n),o=i.yyyy,c=i.mm,l=i.dd,h=i.HH,f=i.MM,v=i.SS,g=e.type,_=e.desc,E=e.context,k=e.contextSource,C=e.searchableEntities,w=e.id,T=e.checked,O=e.reminderId,S=e.hfFlowName,D=e.snooze,x=e.triggerSource,I=null!==w,j={taskData:{type:g,description:_.trim(),context:E,contextSource:k,searchableEntities:C,id:w,dueDate:o+"-"+c+"-"+l+" "+h+":"+f+":"+v,checked:T},reminderData:{dueDate:r},hfFlowName:S},P={taskData:{id:w,fields:{description:_.trim(),dueDate:o+"-"+c+"-"+l+" "+h+":"+f+":"+v}},reminderData:{id:O,fields:{dueDate:r,status:D?"snoozed":"unread"}}},A=I?P:j,M=I?a.a+"/recruiterGnb/editTask":a.a+"/recruiterGnb/addTask";if(I&&!D)try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"edit",status:"save",taskSource:x,taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}return $.ajaxPromise({url:M,data:JSON.stringify(A),type:"POST",contentType:"application/json"}).then(function(e){if(e.data.taskData){var n=e.data.reminderData;n.taskReferenceId=e.data.taskData.id;var r=u(N,t)(n,e.data.taskData.status);r&&(n.timerId=r),t(y(n)),I?(t(p(e.data.taskData)),t(m(n.id))):(t(d(e.data.taskData)),t(b(e.data.taskData)))}return e})}},N=function(e,t){return function(n){var r=Object(s.j)(e.dueDate);return!(!r||"completed"==t||"closed"==e.status)&&setTimeout(function(){n(v(e.id))},r)}}},"X/1R":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,n){var r;return function(){var i=this,a=arguments,o=function(){r=null,n||e.apply(i,a)},s=n&&!r;clearTimeout(r),r=setTimeout(o,t),s&&e.apply(i,a)}}var s=(n("lplE"),n("N1N5")),c=n("Oo8N"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces,d=u.Virtual,p=(u.VirtualDom,{maxHeight:300}),h=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.lazyRender=function(e){var t=(e.scrollable,n.props),r=t.taskDataMap,i=t.calenderDataMap,a=t.reminderDataMap,o=(i.dataMap,"1"==gnb_variables.isSuperuser?"Tasks can currently be added on Naukri Resume Database profiles by sub user(s).":"You can add reminders, tasks on selected candidate profiles."),c=Object(s.g)(n.callDateStr(n.props.date)),l=i.dateMap[c],u=!!(l&&l.length>0),p="collection with-header "+(u?"show task-available":"hide"),h="collection with-header no-task "+(u?"hide":"show");if(u){var f=[];return l.map(function(e){f.push(r[e])}),f.sort(function(e,t){var n=new Date(e.dueDate).valueOf(),r=new Date(t.dueDate).valueOf();return"todo"==e.type?86400001:n-r}),d.createElement("div",{className:p},f.map(function(e,t){var r=e.description,i=(e.creatorId,e.searchableEntities),o=e.context,c=e.dueDate,l=e.contextSource,u=e.landingUrl,p=e.deleted,h=e.completed,y=e.creatorName,m=e.id,v=e.type,g="row section collection-item "+(p?"hide ":""),b=Object(s.e)(new Date(c));"todo"==v&&(b="to do"),g+=h?"completed":"";var _=Object(s.d)(a,"referenceId",m),E=h?"show completed-task":"hide",k="line";0==t&&(k+=" first"),t==f.length-1&&(k+=" last");var C=r+"|"+c+"|"+i+"|"+o+"|"+l+"|OTHER_TASK|"+m+"|"+_+"|"+v+"|gnbTaskList";return d.createElement("a",{href:u,onClick:n.sendToLandingUrl,className:g,key:m},d.createElement("div",{className:"col l11 left task-details"},d.createElement("div",{className:"col l2 fl"},d.createElement("div",{className:k}),d.createElement("div",{className:"col 112 center-align circle"},b)),d.createElement("div",{className:"col l10 fl"},d.createElement("span",{className:"col l12 desc",title:r},r),d.createElement("span",{className:"col l12 creator",title:y},"From : Self ",d.createElement("span",{className:E},d.createElement("span",{className:"fontIcon wf-check completed-check"}),d.createElement("span",null,"Completed"))))),d.createElement("div",{className:"col l1 left updateTask"},d.createElement("span",{title:"Mark as Complete",onClick:function(e){return n.props.completeTask(m,"gnbTaskList")},className:"fontIcon wf-check"}),d.createElement("span",{title:"Edit Reminder","data-tnr-addtask":C,className:"fontIcon wf-Edit"}),d.createElement("span",{title:"Delete Reminder",onClick:function(e){return n.props.deleteTask(m,"gnbTaskList")},className:"fontIcon wf-close"})),d.createElement("div",{className:"clearfix"}))}))}return d.createElement("div",{className:h},d.createElement("div",{className:"no-task-icon"}),d.createElement("div",{className:"no-task-text"},o))},n.state={lastRenderedTime:(new Date).getTime(),dayTaskData:{},collapse:{}},n.initializeCalender=n.initializeCalender.bind(n),n.openCalender=n.openCalender.bind(n),n.calenderOpenState=!1,n.$calenderNode=null,n.scrollable=null,n.calenderInstance=null,n.scrollableContent=null,n.customScrollbar=null,n.setScrollable=n.setScrollable.bind(n),n.todayFormated=Object(s.g)(Object(s.i)(new Date)),n.callDateStr=n.callDateStr.bind(n),n.calenderData=n.props.calenderData,n.sendToLandingUrl=n.sendToLandingUrl.bind(n),n}return a(t,e),t.prototype.attributeChangedCallback=function(e){e.visibility!=this.props.visibility&&(this.props.visibility||this.resetTask())},t.prototype.resetTask=function(){this.$calenderNode.remove(),this.calenderOpenState=!1,$("#calender-container").hide(),this.calenderData={month:(new Date).getMonth(),year:(new Date).getFullYear(),busyDates:[]}},t.prototype.formatDueDate=function(e){var t=this.state.lastRenderedTime-e;return t>864e5?parseInt(t/864e5)+" day ago":t>36e5?parseInt(t/36e5)+" hour ago":parseInt(t/6e4)+" min ago"},t.prototype.callDateStr=function(e){var t=Object(s.h)(e),n=t.yyyy,r=t.mm,i=t.dd;return t.HH,t.MM,t.SS,n+"-"+r+"-"+i},t.prototype.formatHeaderValue=function(e){var t=e;return e==this.todayFormated?t="TODAY":e==this.yesterdayFormated&&(t="YESTERDAY"),t},t.prototype.onScroll=function(e){e.target.scrollHeight-(e.target.scrollTop+e.target.innerHeight)<=100&&this.props.onScrollToBottom()},t.prototype.setScrollable=function(e){var t=e.scrollable,n=e.scrollableContent;this.scrollable=t,this.scrollableContent=n,setTimeout(function(){},100)},t.prototype.initializeCalender=function(e){$("#calender-container").find(".datepicker").remove(),this.$calenderNode=$(e);var t=new Date,n=this;!function(e){setTimeout(function(e){n.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return n.calenderInstance=this,e.valueOf()==new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).valueOf()?"today":"disabled"},container:"#calender-container"}).on("changeDate",function(e){n.props.loadTask(e.date),n.calenderData.month==e.date.getMonth()&&n.calenderData.year==e.date.getFullYear()&&n.calenderInstance.fill(n.calenderData.busyDates)}).on("click",function(){$(n).tnr_datepicker("show")}).on("changeMonth",function(e){"days"==e.viewMode&&(n.calenderData.month=e.newDate.getMonth(),n.calenderData.year=e.newDate.getFullYear(),n.props.getTask({day:"",month:e.newDate.getMonth()+1,year:e.newDate.getFullYear()}).then(function(e){e.taskDates.length>0&&(n.calenderData.busyDates=e.taskDates,n.calenderInstance.fill(e.taskDates))}))})})}()},t.prototype.openCalender=function(){var e=this;this.calenderOpenState?(this.calenderOpenState=!1,$("#calender-container").hide()):this.props.getTask({day:"",month:this.calenderData.month+1,year:this.calenderData.year}).then(function(t){t.taskDates.length>0&&(e.calenderData.busyDates=t.taskDates,e.calenderInstance.fill(t.taskDates)),e.calenderOpenState=!0,$("#calender-container").show().find(".datepicker").show()})},t.prototype.sendToLandingUrl=function(e,t){if(-1!=e.target.className.indexOf("fontIcon"))e.preventDefault();else try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:null,status:null,taskSource:"gnbTaskList",taskViewed:!0,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName}),ub.track("taskSrpClick",{actionType:click,taskSource:"gnbTaskList"})}catch(e){}},t.prototype.render=function(){var e="calender-task-List "+(this.props.visibility?"":" hide");return d.createElement("div",{className:e},d.createElement("div",{className:"collection with-header"},d.createElement("div",{className:"collection-header"},d.createElement("span",{onClick:this.openCalender,className:"fontIcon wf-calendar calenderIcon"}),d.createElement("h6",{className:"center"},this.formatHeaderValue(Object(s.g)(this.props.date)))),d.createElement(c.a,{contentHash:this.props.key_customScroll,style:p,onInit:this.setScrollable},this.lazyRender),d.createElement("div",{id:"calender-container"},d.createElement("div",{className:"datepicker"})),d.createElement("input",{type:"hidden",id:"calender-list",name:"calender-list",ref:this.initializeCalender,value:this.state.day})))},t}(d.PureComponent);h.propTypes={taskDataMap:d.PropTypes.object,calenderDataMap:d.PropTypes.object,completeTask:d.PropTypes.func,deleteTask:d.PropTypes.func,loadTask:d.PropTypes.func,showLoader:d.PropTypes.bool,visibility:d.PropTypes.bool,calenderData:d.PropTypes.object,reminderDataMap:d.PropTypes.object,onScrollToBottom:d.PropTypes.func,key_customScroll:d.PropTypes.any};var f=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={taskList_visible:!1,showLoader:!1,key_customScroll:n.props.key_customScroll,date:new Date,no_task:!1},n.totalPages=1,n.page=0,n.limit=10,n.showTaskList=n.showTaskList.bind(n),n.hideTaskList=n.hideTaskList.bind(n),n.debounceFocusBlur=o(n.debounceFocusBlur.bind(n),100),n.toggleTaskList=n.toggleTaskList.bind(n),n.toggleLoader=n.toggleLoader.bind(n),n.popup=null,n.isBellClicked=!1,n.onClockIconCLick=n.onClockIconCLick.bind(n),n.loadDayWiseTasks=n.loadDayWiseTasks.bind(n),n.calenderData={month:(new Date).getMonth(),year:(new Date).getFullYear(),busyDates:[]},n}return a(t,e),t.prototype.attachedCallback=function(){var e=this;$(this.popup).on("focusin",function(){e.debounceFocusBlur(e.showTaskList)}).on("focusout",function(){e.debounceFocusBlur(e.hideTaskList)})},t.prototype.attributeChangedCallback=function(e){if(e.calenderDataMap!=this.props.calenderDataMap||e.taskDataMap!=this.props.taskDataMap){var t=Object(s.g)(this.callDateStr(this.state.date)),n=e.calenderDataMap.dateMap[t];n&&n.length>3?(p.maxHeight=300,$(".calender-task-List .matchParent").css(p)):(p.maxHeight=348,$(".calender-task-List .matchParent").css(p)),this.setState({key_customScroll:{}})}},t.prototype.detachedCallback=function(){},t.prototype.resetIsBellClicked=function(){this.popup.removeAttribute("tabIndex"),this.isBellClicked=!1},t.prototype.callDateStr=function(e){var t=Object(s.h)(e),n=t.yyyy,r=t.mm,i=t.dd;return t.HH,t.MM,t.SS,n+"-"+r+"-"+i},t.prototype.onClockIconCLick=function(e){if(e.preventDefault(),this.isBellClicked=!this.isBellClicked,this.isBellClicked){var t=new Date;this.loadDayWiseTasks(t),this.popup.setAttribute("tabIndex",-1),this.popup.focus()}},t.prototype.toggleTaskList=function(e){e.preventDefault();var t=!this.state.taskList_visible;t&&(this.loadDayWiseTasks(),this.popup.focus()),this.setState({taskList_visible:t})},t.prototype.hideTaskList=function(){this.resetIsBellClicked(),this.setState({taskList_visible:!1})},t.prototype.showTaskList=function(e){this.setState({taskList_visible:!0})},t.prototype.debounceFocusBlur=function(e){e()},t.prototype.setTotalPages=function(e){this.totalPages=Math.ceil(e/this.limit)},t.prototype.setDate=function(e){this.setState({date:e})},t.prototype.loadDayWiseTasks=function(e){var t=this;this.setDate(e);var n={day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()};this.props.getTask(n,e).then(function(e){t.setState({key_customScroll:{}})})},t.prototype.toggleLoader=function(){this.setState({showLoader:!this.state.showLoader,key_customScroll:{}})},t.prototype.render=function(){var e=this;return d.createElement("div",{className:"right taskListContainer",tabIndex:"-1"},d.createElement("a",{href:"#!",className:"fontIcon wf-tasks right "+(this.state.taskList_visible?"active":""),onClick:this.onClockIconCLick}),d.createElement("div",{className:"clearfix"}),d.createElement("div",{className:"dropLayer",ref:function(t){return e.popup=t},tabIndex:"-1"},d.createElement(h,l({},this.props,{showLoader:this.state.showLoader,key_customScroll:this.state.key_customScroll,visibility:this.state.taskList_visible,loadTask:this.loadDayWiseTasks,setDate:this.setDate,date:this.state.date,calenderData:this.calenderData}))))},t}(d.PureComponent);f.propTypes={taskDataMap:d.PropTypes.object,calenderDataMap:d.PropTypes.object,reminderDataMap:d.PropTypes.object,getTask:d.PropTypes.func,addTasks:d.PropTypes.func},t.a=f},X9RD:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("AX2D"),s=n("nN6X"),c=n("zzN7"),l=n("xyQn"),u=n("m0wR"),d=window.interfaces.Virtual,p=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.renderMessageItem=function(e,t,n){var r=a.props.onMarkMessageRead,i=void 0;if(0===t||a.isMsgDateChanged(e.sentAt,n[t-1].sentAt)){var o=e.sentAt;i=a.renderDatePartition(o)}return d.createElement("div",null,i,d.createElement(s.a,{key:e.id,message:e,onMarkMessageRead:r}))},a.state={stickBottom:!0},a}return a(t,e),t.prototype.componentDidMount=function(){var e=this;this.removeScrollListener=Object(c.a)(Object(o.findDOMNode)(this),"scroll",this.handleScroll,this),this.removeResizeListener=Object(c.a)(window,"resize",this.handleScroll,this),setTimeout(function(){e.scrollBottom()})},t.prototype.componentDidUpdate=function(){this.state.stickBottom&&this.scrollBottom()},t.prototype.scrollBottom=function(){if(!this.state.isScrolling){var e=Object(o.findDOMNode)(this);e.scrollTop=e.scrollHeight}},t.prototype.handleScroll=function(){var e=Object(o.findDOMNode)(this);0===e.scrollTop&&this.props.onLoadMoreMessages();var t=e.scrollHeight-1<=e.clientHeight+e.scrollTop;t!==this.state.stickBottom&&this.setState({stickBottom:t})},t.prototype.isMsgDateChanged=function(e,t){return!(!e instanceof Date||!t instanceof Date)&&e.toDateString()!==t.toDateString()},t.prototype.renderDatePartition=function(e){if(!e instanceof Date)return"";switch(l.c(e)){case"today":return d.createElement("div",{className:"message-date-partiton"},d.createElement("p",null,u.a.TODAY_LABEL," "));case"yesterday":return d.createElement("div",{className:"message-date-partiton"},d.createElement("p",null,u.a.YESTERDAY_LABEL," "));case"before":return d.createElement("div",{className:"message-date-partiton"},d.createElement("p",null,l.f(e)));default:return""}},t.prototype.render=function(){var e=this.props.messages.concat().reverse();return d.createElement("div",{className:"message-list",style:{height:this.props.getHeight()}},e.map(this.renderMessageItem))},t.prototype.componentWillUnmount=function(){this.removeResizeListener(),this.removeScrollListener()},t}(d.PureComponent);t.a=p},XKdv:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"routeChange",function(){return a}),n.d(t,"routeChangeEnd",function(){return o}),n.d(t,"fetchRequest",function(){return s}),n.d(t,"fetchComplete",function(){return c}),n.d(t,"fetchSuccess",function(){return l}),n.d(t,"fetchFailure",function(){return u});var r=n("ZnEx"),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(e){var t=e.query;return{type:r.t,route:i({},e,{query:t})}},o=function(e,t,n){return{type:r.u,route:{path:e,routeName:t,actionName:n}}},s=function(e){return{type:r.k,payload:e}},c=function(e){return{type:r.i,payload:e}},l=function(e){return{type:r.l,payload:e}},u=function(e){return{type:r.j,payload:e}}},XLZg:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return o});var i=n("NWsp"),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(t){r(this,e),this.trackingObj=a({},t)}return e.getInstance=function(){if(!e.trackingInstance){var t=new e(i.a.getDefaultObj());e.trackingInstance=t}return e.trackingInstance},e.prototype.track=function(e,t){var n=a({},this.trackingObj[e],t);"undefined"!=typeof ub&&ub.track(e,n)},e}();o.trackingInstance=null},XoSQ:function(e,t,n){"use strict";var r=n("4wNg"),i=n("E7xV"),a=n("B+kz"),o=n("NoJc"),s=n("Tqr5"),c=n("dGzY"),l=n("iZkC"),u=n("pLky").dictionary;e.exports={events:[],lifecycle:{constructor:function(e){this._models.queries={}},cleanup:function(){var e=this;Object.keys(this._models.queries).forEach(function(t){var n=e._models.queries[t];n&&!n.isDestroyed&&n.destroy()}),this._models.queries=null},reset:function(){this._models.queries={}}},methods:{getQuery:function(e){if("string"!=typeof e)throw new Error(u.idParamRequired);return this._models.queries[e]||null},createQuery:function(e){var t=void 0;switch("function"==typeof e.build&&(e=e.build()),e.client=this,e.model){case r.Identity:t=new i(e);break;case r.Conversation:t=new a(e);break;case r.Channel:t=new o(e);break;case r.Membership:t=new s(e);break;case r.Message:t=new c(e);break;case r.Announcement:t=new l(e);break;default:t=new r(e)}return this._addQuery(t),t},_addQuery:function(e){this._models.queries[e.id]=e},_removeQuery:function(e){var t=this;if(e){if(delete this._models.queries[e.id],!this._inCleanup){var n=e.data.map(function(e){return t.getObject(e.id)}).filter(function(e){return e});this._checkAndPurgeCache(n)}this.off(null,null,e)}}}}},XsJf:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=n("zTev"),u=n("pLky"),d=n("jPMo"),p=n("kesd"),h=n("zi+W"),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),e.fromServer&&(e.id=e.fromServer.id),e.client&&(e.clientId=e.client.appId),e.metadata||(e.metadata={});var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));if(!n.clientId)throw new Error(u.dictionary.clientMissing);return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),n.metadata||(n.metadata={}),n.createdAt||(n.createdAt=new Date),n.isInitializing=!1,n}return a(t,e),s(t,[{key:"send",value:function(e){var t=this;return this.isNew()&&(this.createdAt=new Date,this._setSyncing(),this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+d.typeFromID(this.id),telemetryId:"send_"+d.typeFromID(this.id)+"_time",id:this.id}),this.getClient().sendSocketRequest({method:"POST",body:{},sync:{depends:this.id,target:this.id}},function(e){return t._createResult(e)})),e&&this._setupMessage(e),this}},{key:"_populateFromServer",value:function(e){var t=this.getClient();this._setSynced();var n=this.id;this.id=e.id,n!==this.id&&(t._updateContainerId(this,n),this._triggerAsync(this.constructor.eventPrefix+":change",{oldValue:n,newValue:this.id,property:"id"})),this.url=e.url,this.createdAt=new Date(e.created_at),this.metadata=e.metadata}},{key:"_createResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+d.typeFromID(this.id),telemetryId:"send_"+d.typeFromID(this.id)+"_time",id:this.id}),this.isDestroyed||(t?this._createSuccess(n):"conflict"===n.id?this._createResultConflict(n):(this.trigger(this.constructor.eventPrefix+":sent-error",{error:n}),this.destroy()))}},{key:"_createSuccess",value:function(e){var n=this.id;this._populateFromServer(e),this._triggerAsync(this.constructor.eventPrefix+":sent",{result:n===this.id?t.CREATED:t.FOUND})}},{key:"setMetadataProperties",value:function(e){var t=this,n=[];return Object.keys(e).forEach(function(t){var r=t;t&&("metadata"!==t&&0!==t.indexOf("metadata.")&&(r="metadata."+t),n.push({operation:"set",property:r,value:e[t]}))}),this._inLayerParser=!0,d.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||t.isDestroyed||"authentication_required"===e.data.id||t._load()}),this}},{key:"deleteMetadataProperties",value:function(e){var t=this,n=[];return e.forEach(function(e){"metadata"!==e&&0!==e.indexOf("metadata.")&&(e="metadata."+e),n.push({operation:"delete",property:e})},this),this._inLayerParser=!0,d.layerParse({object:this,type:"Conversation",operations:n,client:this.getClient()}),this._inLayerParser=!1,this._xhr({url:"",method:"PATCH",data:JSON.stringify(n),headers:{"content-type":"application/vnd.layer-patch+json"}},function(e){e.success||"authentication_required"===e.data.id||t._load()}),this}},{key:"_delete",value:function(e){var t=this,n=this.id;this._xhr({method:"DELETE",url:"?"+e},function(e){return t._deleteResult(e,n)}),this._deleted(),this.destroy()}},{key:"_handleWebsocketDelete",value:function(e){e.mode===p.DELETION_MODE.MY_DEVICES&&e.from_position?this.getClient()._purgeMessagesByPosition(this.id,e.from_position):c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_handleWebsocketDelete",this).call(this)}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_loaded",value:function(e){this._register(this)}},{key:"on",value:function(e,n,r){var i=this.constructor.eventPrefix+":loaded";if((e===i||e&&"object"===(void 0===e?"undefined":o(e))&&e[i])&&!this.isLoading){var a=e===i?n:e[i];d.defer(function(){return a.apply(r)})}return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"__updateMetadata",value:function(e,t,n){this._inLayerParser||JSON.stringify(e)!==JSON.stringify(t)&&this._triggerAsync(this.constructor.eventPrefix+":change",{property:"metadata",newValue:e,oldValue:t,paths:n})}},{key:"_handlePatchEvent",value:function(e,t,n){0===n[0].indexOf("metadata")&&this.__updateMetadata(e,t,n)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.metadata=d.clone(this.metadata)),this._toObject}}],[{key:"_loadResourceForPatch",value:function(e){return!0}}]),t}(l);f.prototype.createdAt=null,f.prototype.metadata=null,f.prototype.isCurrentParticipant=!0,f.prototype._sendDistinctEvent=null,f.prototype._toObject=null,f.bubbleEventParent="getClient",f.CREATED="Created",f.FOUND="Found",f.FOUND_WITHOUT_REQUESTED_METADATA="FoundMismatch",h.initClass.apply(f,[f,"Container"]),l.subclasses.push(f),e.exports=f},XynH:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("A+05"),s=n("N1N5"),c=n("sin9"),l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=window.interfaces.Virtual,d=[{label:"30 Mins",timeOffset:18e5},{label:"1 Hour",timeOffset:36e5},{label:"2 Hours",timeOffset:72e5}],p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={flow:o.b.callLaterInDropLayer,formData:n.props.formData},n.onSetSuggestedTime=n.onSetSuggestedTime.bind(n),n.onCallLater=n.onCallLater.bind(n),n.onCalled=n.onCalled.bind(n),n.onWrongNumber=n.onWrongNumber.bind(n),n.onSetCustomTime=n.onSetCustomTime.bind(n),n.onCallFromMobileApp=n.onCallFromMobileApp.bind(n),n.selectedHFCommentNode=null,n}return a(t,e),t.prototype.attributeChangedCallback=function(e){e.formData!=this.props.formData&&this.setState({flow:o.b.callLaterInDropLayer,formData:e.formData}),this.props.setAddTaskFlow(o.b.callLaterInDropLayer)},t.prototype.attachedCallback=function(){Object(s.a)(this.props.triggerElm,".dropLayer-addTask")},t.prototype.onSetCustomTime=function(){this.setState({flow:o.b.inDropLayer}),this.props.setAddTaskFlow(o.b.inDropLayer)},t.prototype.addHFComments=function(e){window.api_hf_commentAdd&&window.api_hf_commentAdd(e,this.props.tupleKey)},t.prototype.onSetSuggestedTime=function(e){var t=Object(s.i)(new Date(Date.now()+e));this.props.submitFormData(l({},this.props.formData,{dateStr:t})).then(function(e){e.data.taskData?"preview"==pageName?msgBarCv("green","Your task has been added successfully"):msgBar("green","Your task has been added successfully"):e.data.validationErrors?"preview"==pageName?msgBarCv("red",e.data.validationErrors[0].message):msgBar("red",e.data.validationErrors[0].message):e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload()}),this.props.setAddTaskFlow(o.b.inDropLayer)},t.prototype.onCalled=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.onWrongNumber=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.onCallLater=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode),this.setState({flow:o.b.dueDateInDropLayer});try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"add",status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:!0,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}this.props.setAddTaskFlow(o.b.dueDateInDropLayer)},t.prototype.onCallFromMobileApp=function(e){this.selectedHFCommentNode=e.currentTarget,this.addHFComments(this.selectedHFCommentNode)},t.prototype.renderDueDateSuggestions=function(){var e=this;return u.createElement("div",{className:""},u.createElement("div",{className:"section center"},u.createElement("span",null,"Call later")),u.createElement("div",{className:"row dueDateSuggestion"},d.map(function(t,n){return u.createElement("button",{className:"col l4 btn-flat closeDropLayer "+(0==n?"hideLeftBorder":""),onClick:function(){e.onSetSuggestedTime(t.timeOffset)}},t.label)}),u.createElement("div",{className:"clearfix"})),u.createElement("div",{className:"section center "},u.createElement("a",{href:"javascript:;",className:"focusDropLayer",onClick:this.onSetCustomTime},"Set Custom Time")))},t.prototype.render=function(){var e=this.state.formData,t=(e.desc,e.searchableEntities,e.context,e.contextSource,null);return this.state.flow==o.b.dueDateInDropLayer?t=this.renderDueDateSuggestions():this.state.flow==o.b.inDropLayer?t=u.createElement(c.a,{formData:this.state.formData,submitFormData:this.props.submitFormData,triggerElm:this.props.triggerElm}):this.state.flow==o.b.callLaterInDropLayer&&(t=u.createElement("div",{className:"collection callLater"},u.createElement("a",{href:"javascript:void(0);",id:"chatOptionDrpdwn",className:"collection-item row focusDropLayer","data-val":"#Chat","data-chat-option":""},u.createElement("i",{className:"col l2 fontIcon wf-chat-message"}),u.createElement("span",{className:"col l10 left-align chatWithCd"},"Chat with candidate")),"undefined"!=typeof isCallOnAppEnabled&&isCallOnAppEnabled?u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer border-drop-menu","data-val":"#Call_From_Mobile_App",onClick:this.onCallFromMobileApp},u.createElement("i",{className:"col l2 fontIcon wf-phone"}),u.createElement("span",{className:"col l10 left-align"},"Call from Mobile App")):"",u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer","data-val":"#Called",onClick:this.onCalled},u.createElement("i",{className:"col l2 fontIcon wf-called"}),u.createElement("span",{className:"col l10 left-align"},"Called")),u.createElement("a",{href:"javascript:;",className:"collection-item row closeDropLayer","data-val":"#Wrong_Number",onClick:this.onWrongNumber},u.createElement("i",{className:"col l2 fontIcon wf-wrong"}),u.createElement("span",{className:"col l10 left-align"},"Wrong Number")),u.createElement("a",{href:"javascript:;",className:"collection-item row focusDropLayer","data-val":"#Call_Later",onClick:this.onCallLater},u.createElement("i",{className:"col l2 fontIcon wf-tasks"}),u.createElement("span",{className:"col l10 left-align"},"Call Later")))),t},t}(u.PureComponent);p.protoTypes={submitFormData:u.PropTypes.func,formData:u.PropTypes.object,tupleKey:u.PropTypes.string,remove:u.PropTypes.boolean,setAddTaskFlow:u.PropTypes.func,triggerElm:u.PropTypes.object},p.defaultProps={remove:!1},t.a=p},Y6jE:function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments[1],n=[o.f,o.g,o.A],r=l.configureStore(a,e,[u.autoRehydrate()],[Object(s.b)(n)]);if(window.isCrawler)t(r);else{var c=["app"];l.hydrateStore({persistConfig:i.d,appVersion:i.b,whiteListedKeys:c,storageConfig:i.e},t),window.addEventListener("storage",Object(s.a)(r))}}t.a=r;var i=n("Kd6K"),a=n("KGxs"),o=n("ZnEx"),s=n("DnhF"),c=window.interfaces,l=c.storeUtil,u=c.reduxPersist},"Z/oI":function(e,t,n){"use strict";function r(e){var t=e.appId;l[t]&&!l[t].isDestroyed&&l[t].destroy(),l[t]=e,p(function(){return u.forEach(function(t){return t(e)})})}function i(e){l[e.appId]&&delete l[e.appId]}function a(e){return l[e]||null}function o(){return Object.keys(l).map(function(e){return l[e]})}function s(e){u.push(e)}function c(e){if(e){var t=u.indexOf(e);t>=0&&u.splice(t,1)}else u.splice(0,u.length)}var l={},u=[],d=n("jPMo"),p=d.defer;e.exports={get:a,getAll:o,register:r,unregister:i,addListener:s,removeListener:c}},ZJRM:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("m0wR"),s=(n("/cJY"),window.interfaces.Virtual),c=function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return a(t,e),t.prototype.render=function(){var e=this;return s.createElement("div",{className:"chat-block-wrapper"},s.createElement("p",null,o.a.USER_BLOCKED),s.createElement("p",null,o.a.USER_UNBLOCK_MESSAGE),s.createElement("span",{onClick:function(){e.props.UnBlockUser()}},o.a.USER_UNBLOCK))},t}(s.Component);t.a=c},ZXrB:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/no-conversation-yet.png"},ZnEx:function(e,t,n){"use strict";n.d(t,"w",function(){return r}),n.d(t,"q",function(){return i}),n.d(t,"k",function(){return a}),n.d(t,"j",function(){return o}),n.d(t,"l",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"n",function(){return l}),n.d(t,"o",function(){return u}),n.d(t,"p",function(){return d}),n.d(t,"t",function(){return p}),n.d(t,"u",function(){return h}),n.d(t,"s",function(){return f}),n.d(t,"v",function(){return y}),n.d(t,"y",function(){return m}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return g}),n.d(t,"g",function(){return b}),n.d(t,"f",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"b",function(){return k}),n.d(t,"r",function(){return C}),n.d(t,"A",function(){return w}),n.d(t,"B",function(){return T}),n.d(t,"z",function(){return O}),n.d(t,"e",function(){return S}),n.d(t,"c",function(){return D}),n.d(t,"C",function(){return x}),n.d(t,"x",function(){return I}),n.d(t,"m",function(){return j});var r="SET_APP_VERSION",i="RESET_APP_PURGE",a="FETCH_REQUEST",o="FETCH_FAILURE",s="FETCH_SUCCESS",c="FETCH_COMPLETE",l="REQUEST_ABORT_ALL",u="REQUEST_ADD",d="REQUEST_REMOVE",p="ROUTE_CHANGE",h="ROUTE_CHANGE_END",f="ROUTE_BEFORE_UNLOAD",y="ROUTE_UPDATE_TITLE",m="SHOW_TOAST",v="ADD_COMMENT",g="ADD_TASK",b="DELETE_TASK",_="COMPLETE_TASK",E="EDIT_TASK",k="ADD_NOTIF",C="RESET_NOTIF",w="UPDATE_NOTIF_COUNT",T="UPDATE_NOTIF_VIEWED",O="UPDATE_ADDTASKFORM",S="ADD_TO_CALENDAR",D="ADD_REMINDER",x="UPDATE_REMINDER",I="SHOW_REMINDER",j="HIDE_REMINDER"},aAY6:function(e,t,n){"use strict";function r(e){e.client.once("destroy",function(){return a=null}),a=new i({camelCase:!0,getObjectCallback:function(t){return e.client.getObject(t)},createObjectCallback:function(t,n){return e.client._createObject(n)},propertyNameMap:{Conversation:{unreadMessageCount:"unreadCount"},Identity:{presence:"_presence"}},changeCallbacks:{Message:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Conversation:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Channel:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}},Identity:{all:function(e,t,n,r){e._handlePatchEvent(t,n,r)}}}})}var i=n("LM/i"),a=void 0;e.exports=function(e){a||r(e),a.parse(e)}},b6EZ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("S/PF"),u=n("EvUg"),d=n("Z/oI"),p=n("pLky"),h=n("jPMo"),f=n("P+Qc"),y=function(e){function t(e){r(this,t);var n=e;if("string"==typeof e)n={body:e},(arguments.length<=1?0:arguments.length-1)>0?n.mimeType=arguments.length<=1?void 0:arguments[1]:n.mimeType="text/plain";else if(h.isBlob(e)||h.isBlob(e.body)){var a=e instanceof Blob?e:e.body,o=h.isBlob(e.body)?e.mimeType:a.type;n={mimeType:o,body:a,size:a.size,hasContent:!0}}var s=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));!s.size&&s.body&&(s.size=s.body.length),"base64"===e.encoding&&(s.body=h.base64ToBlob(s.body));var c=h.isBlob(s.body);return s.isTextualMimeType()||(!c&&s.body&&(s.body=new Blob([s.body],{type:s.mimeType})),s.body&&(s.url=URL.createObjectURL(s.body))),s}return a(t,e),o(t,[{key:"destroy",value:function(){this.__url&&(URL.revokeObjectURL(this.__url),this.__url=null),this.body=null,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_getClient",value:function(){return d.get(this.clientId)}},{key:"_getMessage",value:function(){return this._getClient().getMessage(this.id.replace(/\/parts.*$/,""))}},{key:"fetchContent",value:function(e){var t=this;if(this._content&&!this.isFiring){this.isFiring=!0;var n="image/jpeg+preview"===this.mimeType?"image/jpeg":this.mimeType;this._content.loadContent(n,function(n,r){t.isDestroyed||t._fetchContentCallback(n,r,e)})}return this}},{key:"_fetchContentCallback",value:function(e,t,n){var r=this;e?this.trigger("content-loaded-error",e):(this.isFiring=!1,this.isTextualMimeType()?h.fetchTextFromFile(t,function(e){return r._fetchContentComplete(e,n)}):(this.url=URL.createObjectURL(t),this._fetchContentComplete(t,n)))}},{key:"_fetchContentComplete",value:function(e,t){var n=this._getMessage();n&&(this.body=e,this.trigger("content-loaded"),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(this.body))}},{key:"fetchStream",value:function(e){var t=this;if(!this._content)throw new Error(p.dictionary.contentRequired);return this._content.isExpired()?this._content.refreshContent(this._getClient(),function(n){return t._fetchStreamComplete(n,e)}):this._fetchStreamComplete(this._content.downloadUrl,e),this}},{key:"_fetchStreamComplete",value:function(e,t){var n=this._getMessage();this.trigger("url-loaded"),this._triggerAsync("messageparts:change",{oldValue:"",newValue:e,property:"url"}),n._triggerAsync("messages:change",{oldValue:n.parts,newValue:n.parts,property:"parts"}),t&&t(e)}},{key:"_send",value:function(e){this._content?this._sendWithContent():this.size>2048?this._generateContentAndSend(e):h.isBlob(this.body)?this._sendBlob(e):this._sendBody()}},{key:"_sendBody",value:function(){if("string"!=typeof this.body){var e="MessagePart.body must be a string in order to send it";throw f.error(e,{mimeType:this.mimeType,body:this.body}),new Error(e)}var t={mime_type:this.mimeType,body:this.body};this.trigger("parts:send",t)}},{key:"_sendWithContent",value:function(){this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}})}},{key:"_sendBlob",value:function(e){var t=this;h.blobToBase64(this.body,function(n){if(n.length<2048){var r=n.substring(n.indexOf(",")+1),i={body:r,mime_type:t.mimeType};i.encoding="base64",t.trigger("parts:send",i)}else t._generateContentAndSend(e)})}},{key:"_generateContentAndSend",value:function(e){var t=this;this.hasContent=!0;var n=void 0;n=h.isBlob(this.body)?this.body:h.base64ToBlob(h.utoa(this.body),this.mimeType),e.xhr({url:"/content",method:"POST",headers:{"Upload-Content-Type":this.mimeType,"Upload-Content-Length":n.size,"Upload-Origin":"undefined"!=typeof location?location.origin:""},sync:{}},function(r){return t._processContentResponse(r.data,n,e)})}},{key:"_processContentResponse",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this._content=new l(e.id),this.hasContent=!0,u({url:e.upload_url,method:"PUT",data:t,headers:{"Upload-Content-Length":this.size,"Upload-Content-Type":this.mimeType}},function(a){return r._processContentUploadResponse(a,e,n,t,i)})}},{key:"_processContentUploadResponse",value:function(e,n,r,i,a){e.success?this.trigger("parts:send",{mime_type:this.mimeType,content:{size:this.size,id:this._content.id}}):r.onlineManager.isOnline?a<t.MaxRichContentRetryCount?this._processContentResponse(n,i,r,a+1):(f.error("Failed to upload rich content; triggering message:sent-error event; status of ",e.status,this),this._getMessage().trigger("messages:sent-error",{error:new p({message:"Upload of rich content failed",httpStatus:e.status,code:0,data:e.xhr}),part:this})):r.onlineManager.once("connected",this._processContentResponse.bind(this,n,r),this)}},{key:"getText",value:function(){return this.isTextualMimeType()?this.body:""}},{key:"_populateFromServer",value:function(e){var t=this;e.content&&this._content?(this._content.downloadUrl=e.content.download_url,this._content.expiration=new Date(e.content.expiration)):this.isTextualMimeType()?this.body=e.body:e.body?h.blobToBase64(this.body,function(n){n!==h.btoa(e.body)&&(t.body=new Blob([e.body],{type:t.mimeType}),t.body&&(t.url=URL.createObjectURL(t.body)))}):(this.body=null,this.url="")}},{key:"isTextualMimeType",value:function(){var e=0;for(e=0;e<t.TextualMimeTypes.length;e++){var n=t.TextualMimeTypes[e];if("string"==typeof n){if(n===this.mimeType)return!0}else if(n instanceof RegExp&&this.mimeType.match(n))return!0}return!1}},{key:"__updateBody",value:function(e,t){this._triggerAsync("messageparts:change",{property:"body",newValue:e,oldValue:t})}},{key:"__updateMimeType",value:function(e,t){this._triggerAsync("messageparts:change",{property:"mimeType",newValue:e,oldValue:t})}},{key:"_updateUrl",value:function(e,t){t&&URL.revokeObjectURL(t)}}],[{key:"_createFromServer",value:function(e){var n=e.content?l._createFromServer(e.content):null;return"base64"===e.encoding&&(e.body=h.base64ToBlob(e.body,e.mimeType)),new t({id:e.id,mimeType:e.mime_type,body:e.body||"",_content:n,hasContent:Boolean(n),size:e.size||0})}}]),t}(c);y.prototype.clientId="",y.prototype.id="",y.prototype.body=null,y.prototype._content=null,y.prototype.hasContent=!1,Object.defineProperty(y.prototype,"url",{enumerable:!0,get:function(){return this.__url?this.__url:this._content?this._content.isExpired()?"":this._content.downloadUrl:""},set:function(e){this.__url=e}}),y.prototype.mimeType="text/plain",y.prototype.size=0,y.TextualMimeTypes=[/^text\/.+$/,/^application\/json(\+.+)?$/],y.MaxRichContentRetryCount=3,y._supportedEvents=["parts:send","content-loaded","url-loaded","content-loaded-error","messageparts:change"].concat(c._supportedEvents),c.initClass.apply(y,[y,"MessagePart"]),e.exports=y},bD8U:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zTev"),l=n("zi+W"),u=n("kesd"),d=u.SYNC_STATE,p=n("pLky"),h=n("jPMo"),f=h.strictEncodeURI,y=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id||"-":!e.id&&e.userId?e.id=t.prefixUUID+f(e.userId):e.id&&!e.userId&&(e.userId=decodeURIComponent(e.id.substring(t.prefixUUID.length))),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(p.dictionary.clientMissing);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.metadata||(n.metadata={}),"-"===n.id&&(n.id=""),n.isInitializing=!0,n._presence||(n._presence={status:null,lastSeenAt:null}),e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addIdentity(n),n.getClient().on("online",function(e){e.isOnline||n._updateValue(["_presence","status"],t.STATUS.OFFLINE)},n),n.isInitializing=!1,n}return a(t,e),o(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeIdentity(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===d.NEW,this._setSynced(),this.userId=e.user_id||"",this._updateValue(["avatarUrl"],e.avatar_url),this._updateValue(["displayName"],e.display_name),"metadata"in e&&(this.url=e.url,this.type=e.type,this._updateValue(["emailAddress"],e.email_address),this._updateValue(["lastName"],e.last_name),this._updateValue(["firstName"],e.first_name),this._updateValue(["metadata"],e.metadata||{}),this._updateValue(["publicKey"],e.public_key),this._updateValue(["phoneNumber"],e.phone_number),this.isFullIdentity=!0),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1,!this.isFullIdentity&&n.isAuthenticated&&n.dbManager.getObjects("identities",[this.id],function(e){e.length&&t._populateFromServer(e[0])})}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t="");for(var n=this,r=0;r<e.length-1;r++)n=n[e[r]];var i=e[e.length-1];n[i]!==t&&(this.isInitializing||("_presence"===e[0]&&(e=[e[1]]),this._triggerAsync("identities:change",{property:e.join("."),oldValue:n[i],newValue:t})),n[i]=t)}},{key:"_handlePatchEvent",value:function(e,t,n){var r=this,i=[];n.forEach(function(n){var a=e,o=t;if("presence.last_seen_at"===n)r._presence.lastSeenAt=new Date(a.last_seen_at),a=r._presence.lastSeenAt,o=o.lastSeenAt,delete r._presence.last_seen_at;else if("presence.status"===n&&(a=r._presence.status,o=o.status,a===o))return;var s=n.replace(/_(.)/g,function(e,t){return t.toUpperCase()}).replace(/^presence\./,"");i.push({property:s,oldValue:o,newValue:a})}),1===i.length&&"lastSeenAt"===i[0].property||i.forEach(function(e){return r._triggerAsync("identities:change",e)})}},{key:"follow",value:function(){var e=this;this.isFullIdentity||(this._xhr({method:"PUT",url:this.url.replace(/identities/,"following/users"),syncable:{}},function(t){t.success&&e._load()}),this.syncState=d.LOADING)}},{key:"unfollow",value:function(){this._xhr({url:this.url.replace(/identities/,"following/users"),method:"DELETE",syncable:{}})}},{key:"setStatus",value:function(e){var n=this;if(e=(e||"").toLowerCase(),!t.STATUS[e.toUpperCase()])throw new Error(p.dictionary.valueNotSupported);if(this!==this.getClient().user)throw new Error(p.dictionary.permissionDenied);e===t.STATUS.INVISIBLE&&(e=t.STATUS.OFFLINE);var r=this._presence.status;this.getClient().sendSocketRequest({method:"PATCH",body:{method:"Presence.update",data:[{operation:"set",property:"status",value:e}]},sync:{depends:[this.id],target:this.id}},function(e){e.success||"authentication_required"===e.data.id||n._updateValue(["_presence","status"],r)}),e===t.STATUS.OFFLINE&&(e=t.STATUS.INVISIBLE),this._updateValue(["_presence","status"],e)}},{key:"_setUserId",value:function(e){var n=this.getClient();n._removeIdentity(this),this.__userId=e;var r=f(e);this.id=t.prefixUUID+r,this.url=this.getClient().url+"/identities/"+r,n._addIdentity(this)}},{key:"__adjustUserId",value:function(e){if(this.__userId)throw new Error(p.dictionary.cantChangeUserId)}},{key:"_handleWebsocketDelete",value:function(e){var t=this;this.getClient().dbManager.deleteObjects("identities",[this]),["firstName","lastName","emailAddress","phoneNumber","metadata","publicKey","isFullIdentity","type"].forEach(function(e){return delete t[e]}),this._triggerAsync("identities:unfollow")}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}(c);y.prototype.displayName="",y.prototype.sessionOwner=!1,y.prototype.clientId="",y.prototype.isFullIdentity=!1,y.prototype.userId="",y.prototype.avatarUrl="",y.prototype.firstName="",y.prototype.lastName="",y.prototype.emailAddress="",y.prototype.phoneNumber="",y.prototype.metadata=null,y.prototype.publicKey="",y.UserType="user",y.BotType="bot",y.prototype.type=y.UserType,y.prototype._presence=null,Object.defineProperty(y.prototype,"status",{enumerable:!0,get:function(){return this._presence&&this._presence.status||y.STATUS.OFFLINE}}),Object.defineProperty(y.prototype,"lastSeenAt",{enumerable:!0,get:function(){return this._presence&&this._presence.lastSeenAt}}),Object.defineProperty(y.prototype,"isBot",{enumerable:!0,get:function(){return this.type===y.BotType}}),y.STATUS={AVAILABLE:"available",AWAY:"away",OFFLINE:"offline",BUSY:"busy",INVISIBLE:"invisible"},y.inObjectIgnore=l.inObjectIgnore,y.bubbleEventParent="getClient",y._supportedEvents=["identities:change","identities:loaded","identities:loaded-error","identities:unfollow"].concat(c._supportedEvents),y.eventPrefix="identities",y.prefixUUID="layer:///identities/",y.enableOpsIfNew=!0,l.initClass.apply(y,[y,"Identity"]),c.subclasses.push(y),e.exports=y},bONa:function(e,t,n){"use strict";var r=n("zTev"),i=(n("ogE9"),n("pLky").dictionary);e.exports={events:["members:loaded","members:change","members:add","members:remove"],lifecycle:{constructor:function(e){this._models.members={}},cleanup:function(){var e=this;Object.keys(this._models.members).forEach(function(t){var n=e._models.members[t];n&&!n.isDestroyed&&n.destroy()}),this._models.members=null},reset:function(){this._models.members={}}},methods:{getMember:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return this._models.members[e]?this._models.members[e]:t?r.load(e,this):null},_addMembership:function(e){this._models.members[e.id]||(this._models.members[e.id]=e,this._triggerAsync("members:add",{members:[e]}),this._scheduleCheckAndPurgeCache(e))},_removeMembership:function(e){var t="string"==typeof e?e:e.id;(e=this._models.members[t])&&(delete this._models.members[t],this._inCleanup||(e.off(null,null,this),this._triggerAsync("members:remove",{members:[e]})))}}}},cPnc:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=(n("Kd6K"),n("MC/S")),s=n.n(o),c=window.interfaces,l=c.Virtual,u=(c.PropTypes,function(e){function t(){var n,a,o;r(this,t);for(var c=arguments.length,u=Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=a=i(this,e.call.apply(e,[this].concat(u))),a.renderUserItem=function(e){return e.avatarUrl?l.createElement("span",{key:"avatar-"+e.id},l.createElement("img",{src:e.avatarUrl,className:"circle"})):l.createElement("img",{src:s.a,key:"avatar-"+e.id,className:" circle"})},o=n,i(a,o)}return a(t,e),t.prototype.render=function(){var e=this.props,t=e.user,n=e.users,r=t?[t]:n.slice(-2);return l.createElement("div",null,r.filter(function(e){return e.id}).map(this.renderUserItem))},t}(l.PureComponent));t.a=u},dGmK:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={drawer:"drawerOpen"}},dGzY:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("pLky"),u=n("jPMo"),d=n("P+Qc"),p=n("4wNg"),h=new RegExp(/^conversation.id\s*=\s*['"]((layer:\/\/\/conversations\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),f=new RegExp(/^channel.id\s*=\s*['"]((layer:\/\/\/channels\/)?.{8}-.{4}-.{4}-.{4}-.{12})['"]$/),y=function(e){function t(){return i(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),s(t,[{key:"_fixPredicate",value:function(e){if(""===e)return"";if(-1!==e.indexOf("conversation.id")){var t=e.match(h)?e.replace(h,"$1"):null;if(!t)throw new Error(l.dictionary.invalidPredicate);return 0!==t.indexOf("layer:///conversations/")&&(t="layer:///conversations/"+t),"conversation.id = '"+t+"'"}if(-1!==e.indexOf("channel.id")){var n=e.match(f)?e.replace(f,"$1"):null;if(!n)throw new Error(l.dictionary.invalidPredicate);return 0!==n.indexOf("layer:///channels/")&&(n="layer:///channels/"+n),"channel.id = '"+n+"'"}throw new Error(l.dictionary.invalidPredicate)}},{key:"_fetchData",value:function(e){var t=this._getConversationPredicateIds();if(!t)return void(this.predicate&&!this.predicate.match(/['"]/)&&d.error("This query may need to quote its value"));switch(t.type){case p.Conversation:this._fetchConversationMessages(e,t);break;case p.Channel:this._fetchChannelMessages(e,t)}}},{key:"_getSortField",value:function(){return"position"}},{key:"_getConversationPredicateIds",value:function(){if(-1!==this.predicate.indexOf("conversation.id")){if(this.predicate.match(h)){var e=this.predicate.replace(h,"$1"),t=(this._predicate||e).replace(/^layer:\/\/\/conversations\//,"");if(t)return{uuid:t,id:e,type:p.Conversation}}}else if(-1!==this.predicate.indexOf("channel.id")&&this.predicate.match(f)){var n=this.predicate.replace(f,"$1"),r=(this._predicate||n).replace(/^layer:\/\/\/channels\//,"");if(r)return{uuid:r,id:n,type:p.Channel}}}},{key:"_fetchConversationMessages",value:function(e,t){var n=this,r="layer:///conversations/"+t.uuid;this._predicate||(this._predicate=t.id);var i=this.client.getConversation(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var a="conversations/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||a===this._firingRequest||(this.isFiring=!0,this._firingRequest=a,this.client.xhr({telemetry:{name:"message_query_time"},url:a,method:"GET",sync:!1},function(t){return n._processRunResults(t,a,e)})),i&&!i.isSaved()&&(this.pagedToEnd=!0),0===this.data.length&&i&&i.lastMessage&&(this.data=[this._getData(i.lastMessage)],this._triggerChange({type:"data",data:[this._getData(i.lastMessage)],query:this,target:this.client}))}},{key:"_fetchChannelMessages",value:function(e,t){var n=this,r="layer:///channels/"+t.uuid;this._predicate||(this._predicate=t.id);var i=this.client.getChannel(r);this.client.dbManager.loadMessages(r,this._nextDBFromId,e,function(e){e.length&&n._appendResults({data:e},!0)});var a="channels/"+t.uuid+"/messages?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");i&&!i.isSaved()||a===this._firingRequest||(this.isFiring=!0,this._firingRequest=a,this.client.xhr({url:a,method:"GET",sync:!1},function(t){return n._processRunResults(t,a,e)})),i&&!i.isSaved()&&(this.pagedToEnd=!0)}},{key:"_appendResultsSplice",value:function(e){var t=this.data,n=this._getInsertIndex(e,t);t.splice(n,0,this._getData(e))}},{key:"_getInsertIndex",value:function(e,t){var n=void 0;for(n=0;n<t.length&&!(e.position>t[n].position);n++);return n}},{key:"_handleEvents",value:function(e,t){switch(e){case"conversations:change":this._handleConvIdChangeEvent(t);break;case"messages:change":case"messages:read":this._handleChangeEvent("messages",t);break;case"messages:add":this._handleAddEvent("messages",t);break;case"messages:remove":this._handleRemoveEvent("messages",t)}}},{key:"_handleConvIdChangeEvent",value:function(e){var t=e.getChangesFor("id");t.length&&this._predicate===t[0].oldValue&&(this._predicate=t[0].newValue,this.predicate="conversation.id = '"+this._predicate+"'",this._run())}},{key:"_handlePositionChange",value:function(e,t){if(-1===t)return!1;var n=[].concat(r(this.data.slice(0,t)),r(this.data.slice(t+1))),i=this._getInsertIndex(e.target,n);return i!==t&&(n.splice(i,0,this._getData(e.target)),this.data=n,this._triggerChange({type:"property",target:this._getData(e.target),query:this,isChange:!0,changes:e.changes}),!0)}},{key:"_handleChangeEvent",value:function(e,t){var n=this._getIndex(t.target.id),i=t.getChangesFor("position");if(i.length&&this._handlePositionChange(t,n)){if(i.length===t.changes.length)return;n=this._getIndex(t.target.id)}-1!==n&&(this.dataType===p.ObjectDataType&&(this.data=[].concat(r(this.data.slice(0,n)),[t.target.toObject()],r(this.data.slice(n+1)))),this._triggerChange({type:"property",target:this._getData(t.target),query:this,isChange:!0,changes:t.changes}))}},{key:"_handleAddEvent",value:function(e,t){var n=this,r=t[e].filter(function(e){var t=u.typeFromID(e.id);return"messages"===t&&n.model===p.Message||"announcements"===t&&n.model===p.Announcement}).filter(function(e){return"announcements"===u.typeFromID(e.id)||e.conversationId===n._predicate}).filter(function(e){return-1===n._getIndex(e.id)}).map(function(e){return n._getData(e)});if(r.length){var i=this.data=this.dataType===p.ObjectDataType?[].concat(this.data):this.data;r.forEach(function(e){var t=n._getInsertIndex(e,i);i.splice(t,0,e),0!==t&&d.warn("Index of "+e.id+" is "+t+"; position is "+e.position+"; compared to "+i[0].position),n.totalSize+=1,n._triggerChange({type:"insert",target:e,query:n,index:t})})}}},{key:"_handleRemoveEvent",value:function(e,t){var n=this,i=[];t[e].forEach(function(e){var t=n._getIndex(e.id);-1!==t&&(e.id===n._nextDBFromId&&(n._nextDBFromId=n._updateNextFromId(t)),e.id===n._nextServerFromId&&(n._nextServerFromId=n._updateNextFromId(t)),i.push({data:e,index:t}),n.dataType===p.ObjectDataType?n.data=[].concat(r(n.data.slice(0,t)),r(n.data.slice(t+1))):n.data.splice(t,1))}),this.totalSize-=i.length,i.forEach(function(e){n._triggerChange({type:"remove",target:n._getData(e.data),index:e.index,query:n})})}}]),t}(p);y._supportedEvents=[].concat(p._supportedEvents),y.MaxPageSize=100,y.prototype.model=p.Message,c.initClass.apply(y,[y,"MessagesQuery"]),e.exports=y},eFX6:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("N1N5"),s=n("A+05"),c=(n("T8XN"),window.interfaces.Virtual),l=function(e){if(!e.taskData)return null;var t=e.taskData,n=t.id,r=t.dueDate,i=t.description,a=t.creatorName,l=(t.completed,t.context),u=t.contextSource,d=(t.deleted,t.checked),p=t.searchableEntities,h=(t.type,t.landingUrl),f=e.reminderData,y=f.remId,m=(f.remDueDate,s.d.SIMPLE,new Date(r)),v={30:"30 Min",45:"45 Min",60:"1 hour",reschedule:"Reschedule"},g=i+"|"+r+"|"+p+"|"+l+"|"+u+"|OTHER_TASK|"+n+"|"+y+"|''|reminderPopUp",b={desc:i,dateStr:r,searchableEntities:p,context:l,contextSource:u,id:n,checked:d,reminderId:y,snooze:!0},_={id:y,fields:{status:"closed"}},E=Object(o.l)(r,!0),k=E.time,C=E.txt,w=(new Date,function(t){$(t).tnr_ddMenu({data:v,width:"80px",extendPaddingTop:0,attribute:{reschedule:{"data-tnr-addtask":g}},callBack:function(t){if("reschedule"!=t){try{ub.track("notificationEvent",{snooze:!0,snoozeSource:"reminderPopUp",snoozeTime:v[t],dismiss:null,dismissSource:null,taskType:"edit",status:"save",taskSource:"reminderPopUp",taskViewed:null,actionType:"click",lightboxOpen:null,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}b.dateStr=Object(o.b)(t),e.editTask(b,y)}}})});return c.createElement("a",{href:h,className:"collection-item row",onClick:function(e){return-1==e.target.className.indexOf("action")||e.preventDefault()}},c.createElement("div",{className:"col l3 center-align dueDate left-section"},c.createElement("span",{className:"col l12 day"},k),c.createElement("span",{className:"col l12 Mins"},C)),c.createElement("div",{className:"col l9 right-section"},c.createElement("div",{className:"col l12 left-align"},c.createElement("span",{className:"col l12 desc truncate",title:i},i),c.createElement("span",{className:"col l3 creator"},"Start time:"),c.createElement("span",{className:"col l9 creator truncate title={creatorName}"},Object(o.g)(m)," at ",Object(o.e)(m)," by ",a)),c.createElement("div",{className:"col l12 actions"},c.createElement("li",{className:"addTo col l4 action ddMenu",id:"productsMenu"},c.createElement("span",{class:"arw DDarwDwn"}),c.createElement("span",{className:"ulTxt active",ref:w},"Snooze")),c.createElement("span",{className:"col l4 action",onClick:function(t){e.updateReminder(_)},title:"Dismiss this notification"},"Dismiss"),c.createElement("span",{className:"col l4 action",onClick:function(t){e.completeTask(n,"reminderPopUp")},title:"Mark this task as Completed"},"Complete"))))};l.propTypes={taskData:c.PropTypes.object,reminderData:c.PropTypes.object,index:c.PropTypes.number,editTask:c.PropTypes.func,completeTask:c.PropTypes.func,hideReminder:c.PropTypes.func,updateReminder:c.PropTypes.func};var u=function(e){var t=e.secondTaskData,n=t.dueDate,r=t.description,i=e.reminderData,a=(i.remId,i.remDueDate,Object(o.l)(n,!0)),s=a.time,l=a.txt;return c.createElement("div",{href:"#!",className:"collection-item row collapsed",onClick:function(){e.setOpenIndex(e.index)}},c.createElement("div",{className:"col l3 center-align dueDate left-section"},s+" "+l),c.createElement("div",{className:"col l9 right-section"},c.createElement("div",{className:"col l12 left-align"},c.createElement("span",{className:"col l4 truncate desc"},r))))};u.propTypes={setOpenIndex:c.PropTypes.func,moreTaskCount:c.PropTypes.number,index:c.PropTypes.number,secondTaskData:c.PropTypes.object,reminderData:c.PropTypes.object};var d=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.setOpenIndex=function(e){n.setState({uncollapsedIndex:e})},n.setReminder=function(){},n.state={uncollapsedIndex:0,visibility:!0,reminderList:[],reminderData:[]},n.$snoozeNode=null,n.data={1:"by 30 Min",2:"by 45 Min",3:"by 1 hour"},n.remData=[],n.remList=[],n}return a(t,e),t.prototype.attachedCallback=function(){var e=this,t=new Date;t.getDate(),t.getMonth(),t.getFullYear(),window.taskDetails.length>0&&this.props.addTasks(window.taskDetails),this.setState({reminderList:this.props.reminderDataMap.activeReminders}),$(document).on("click","body",function(t){0==$(t.target).closest(".reminder-list").length&&e.setState({visibility:!1}),t.currentTarget})},t.prototype.attributeChangedCallback=function(e){var t=this;e.reminderDataMap!=this.props.reminderDataMap&&e.reminderDataMap.activeReminders.join()!=this.remList&&(this.setState({reminderList:e.reminderDataMap.activeReminders}),this.setState({visibility:!0}),this.remData=[],this.remList=e.reminderDataMap.activeReminders.join(),this.state.reminderList.forEach(function(e){t.remData.push(t.props.reminderDataMap[e])}),this.setState({reminderData:this.remData}))},t.prototype.render=function(){var e=this,t=this.props,n=t.taskDataMap,r=t.editTask,i=t.completeTask,a=(t.reminderDataMap,t.hideReminder),o=t.updateReminder,s=this.state,d=(s.reminderList,s.reminderData),p=null;return d.sort(function(e,t){return new Date(e.dueDate).valueOf()-new Date(t.dueDate).valueOf()}),p=d.reverse().map(function(t,s){var d=t.referenceId,p={remId:t.id,remDueDate:t.dueDate};return s==e.state.uncollapsedIndex?c.createElement(l,{key:d,taskData:n[d],setOpenIndex:e.setOpenIndex,editTask:r,completeTask:i,hideReminder:a,updateReminder:o,reminderData:p,index:s}):c.createElement(u,{setOpenIndex:e.setOpenIndex,secondTaskData:n[d],reminderData:p,index:s})}),p.length>0?c.createElement("div",{className:this.state.visibility?"reminder-list":"dspN","reminder-tuples":!0},c.createElement("div",{className:"collection"},p,null)):null},t}(c.Component);d.propTypes={taskDataMap:c.PropTypes.object,calenderDataMap:c.PropTypes.object,reminderDataMap:c.PropTypes.object,tasks:c.PropTypes.array,addTasks:c.PropTypes.func,editTask:c.PropTypes.func,completeTask:c.PropTypes.func,hideReminder:c.PropTypes.func,updateReminder:c.PropTypes.func},d.defaultProps={taskDataMap:{},tasks:[]},t.a=d},evzl:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("xqO5"),i=n("kOOH"),a=(n.n(i),window.interfaces),o=a.VirtualDom,s=a.Virtual;o.render(s.createElement(r.a,null),document.getElementById("gnb_root"))},fYnd:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n("jPMo"),o=n("P+Qc"),s=n("pLky"),c=function(){function e(t){r(this,e),this.client=t.client,this.socketManager=t.socketManager,this.socketManager.on({message:this._handleResponse,disconnected:this._reset},this),this._requestCallbacks={}}return i(e,[{key:"_reset",value:function(){this._requestCallbacks={}}},{key:"cancelOperation",value:function(e){var t=this;Object.keys(this._requestCallbacks).forEach(function(n){t._requestCallbacks[n].method===e&&delete t._requestCallbacks[n]})}},{key:"_handleResponse",value:function(e){if("response"===e.data.type){var t=e.data.body,n=t.request_id;o.debug("Websocket response "+n+" "+(t.success?"Successful":"Failed")),n&&this._requestCallbacks[n]&&this._processResponse(n,e)}}},{key:"_processResponse",value:function(e,t){var n=this._requestCallbacks[e],r=t.data.body,i=(r.success?r.data:new s(r.data))||{};r.success&&(n.isChangesArray&&this._handleChangesArray(i.changes),"batch"in i&&(n.batchTotal=i.batch.count,n.batchIndex=i.batch.index,n.isChangesArray?n.results=n.results.concat(i.changes):"results"in i&&Array.isArray(i.results)&&(n.results=n.results.concat(i.results)),i.batch.index<i.batch.count-1))||(n.callback({success:r.success,fullData:"batch"in i?n.results:t.data,data:i}),delete this._requestCallbacks[e])}},{key:"_handleChangesArray",value:function(e){var t=this;e.forEach(function(e){return t.client.socketChangeManager._processChange(e)})}},{key:"sendRequest",value:function(e){var t=e.data,n=e.callback,r=e.isChangesArray,i=void 0!==r&&r;if(!this._isOpen())return n?n(new s({success:!1,data:{id:"not_connected",code:0,message:"WebSocket not connected"}})):void 0;var c=a.clone(t);return c.request_id="r"+this._nextRequestId++,o.debug("Request "+c.request_id+" is sending"),n&&(this._requestCallbacks[c.request_id]={request_id:c.request_id,date:Date.now(),callback:n,isChangesArray:i,method:t.method,batchIndex:-1,batchTotal:-1,results:[]}),this.socketManager.send({type:"request",body:c}),this._scheduleCallbackCleanup(),c.request_id?this._requestCallbacks[c.request_id]:void 0}},{key:"_scheduleCallbackCleanup",value:function(){this._callbackCleanupId||(this._callbackCleanupId=setTimeout(this._runCallbackCleanup.bind(this),15050))}},{key:"_runCallbackCleanup",value:function(){var e=this;if(this._callbackCleanupId=0,!this.isDestroyed&&this._isOpen()){var t=0,n=!1,r=Date.now();Object.keys(this._requestCallbacks).forEach(function(i){var a=e._requestCallbacks[i];n||(a&&r<a.date+15e3?t++:r>e.socketManager._lastDataFromServerTimestamp+15e3?(n=!0,e._failAll(),e.socketManager._reconnect(!1)):e._timeoutRequest(i))}),t&&this._scheduleCallbackCleanup()}}},{key:"_failAll",value:function(){var e=this;Object.keys(this._requestCallbacks).forEach(function(t){try{o.warn("Websocket request aborted due to reconnect"),e._requestCallbacks[t].callback({success:!1,status:503,data:new s({id:"socket_dead",message:"Websocket appears to be dead. Reconnecting.",url:"https:/developer.layer.com/docs/websdk",code:0,status:503,httpStatus:503})})}catch(e){}delete e._requestCallbacks[t]})}},{key:"_timeoutRequest",value:function(e){try{o.warn("Websocket request timeout"),this._requestCallbacks[e].callback({success:!1,data:new s({id:"request_timeout",message:"The server is not responding. We know how much that sucks.",url:"https:/developer.layer.com/docs/websdk",code:0,status:408,httpStatus:408})})}catch(e){}delete this._requestCallbacks[e]}},{key:"_isOpen",value:function(){return this.socketManager._isOpen()}},{key:"destroy",value:function(){this.isDestroyed=!0,this._callbackCleanupId&&clearTimeout(this._callbackCleanupId),this._requestCallbacks=null}}]),e}();c.prototype._nextRequestId=1,c.prototype.client=null,c.prototype._requestCallbacks=null,c.prototype._callbackCleanupId=0,c.prototype.socketManager=null,e.exports=c},g5D4:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("EvUg"),u=n("jPMo"),d=function(e){function n(e){r(this,n);var a=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(a.client=e.client,a.state={id:a.id,records:[]},a.tempState={},a.storageKey="layer-telemetry-"+a.client.appId,t.localStorage)try{var o=localStorage[a.storageKey];o?a.state=JSON.parse(o):localStorage.setItem(a.storageKey,JSON.stringify(a.state))}catch(e){a.enabled=!1}else a.enabled=!1;return a.client.on("state-change",a.trackEvent,a),l.addConnectionListener(a.trackRestPerformance.bind(a)),a.setupReportingInterval(),a}return a(n,e),s(n,[{key:"trackEvent",value:function(e){if(this.enabled){var t=e.telemetryId+"-"+(e.id||"noid");if(e.started)this.tempState[t]=Date.now();else if(e.ended){var n=this.tempState[t];if(n){delete this.tempState[t];var r=Date.now()-n;this.writePerformance(e.telemetryId,r)}}}}},{key:"clearEvents",value:function(){var e=this,t=Date.now();Object.keys(this.tempState).forEach(function(n){e.tempState[n]+e.reportingInterval<t&&delete e.tempState[n]})}},{key:"trackRestPerformance",value:function(e){this.enabled&&e.request.telemetry&&this.writePerformance(e.request.telemetry.name,e.duration)}},{key:"writePerformance",value:function(e,t){var n=this.getCurrentStateObject().performance;n[e]||(n[e]={count:0,time:0,max:0}),n[e].count++,n[e].time+=t,t>n[e].max&&(n[e].max=t),this.writeState()}},{key:"writeUsage",value:function(e){var t=this.getCurrentStateObject().usage;t[e]||(t[e]=0),t[e]++,this.writeState()}},{key:"getEnvironment",value:function(){var e={platform:"web",locale:(navigator.language||"").replace(/-/g,"_"),layer_sdk_version:this.client.constructor.version,domain:location.hostname};return this.trigger("telemetry-environment",{environment:e}),e}},{key:"getDevice",value:function(){return{user_agent:navigator.userAgent,screen:{width:void 0===("undefined"==typeof screen?"undefined":o(screen))?0:screen.width,height:void 0===("undefined"==typeof screen?"undefined":o(screen))?0:screen.height},window:{width:window.innerWidth,height:window.innerHeight}}}},{key:"getCurrentStateObject",value:function(e){var t=new Date;t.setUTCHours(0,0,0,0);var n=new Date(t),r=Date.now();if(this.reportingInterval<864e5)for(;n.getTime()<r;)n.setMilliseconds(n.getMilliseconds()+this.reportingInterval);var i=n.toISOString(),a=new Date(n);a.setMilliseconds(a.getMilliseconds()+this.reportingInterval);var o=this.state.records.filter(function(e){return e.period.start===i})[0];return o||e||(o={period:{start:i,end:a.toISOString()},environment:this.getEnvironment(),device:this.getDevice(),usage:{},performance:{},errors:{}},this.state.records.push(o)),o}},{key:"writeState",value:function(){var e=this;this.enabled&&!this._writeTimeoutId&&(this._writeTimeoutId=setTimeout(function(){localStorage.setItem(e.storageKey,JSON.stringify(e.state)),e._writeTimeoutId=0},1e3))}},{key:"convertRecord",value:function(e){var t={period:e.period,device:e.device,environment:e.environment,usage:e.usage,performance:{}};return Object.keys(e.performance).forEach(function(n){var r=e.performance[n];t.performance[n]={max:Math.round(r.max),count:r.count,mean:Math.round(r.time/r.count)}}),t}},{key:"sendData",value:function(){var e=this,t=this.getCurrentStateObject(!0),n=this.state.records.filter(function(e){return e!==t});n.length&&l({sync:!1,method:"POST",url:this.telemetryUrl,headers:{"content-type":"application/json"},data:{id:u.uuid(this.state.id),layer_app_id:this.client.appId,records:n.map(function(t){return e.convertRecord(t)})}},function(t){t.success&&(e.state.records=e.state.records.filter(function(e){return-1===n.indexOf(e)}),e.writeState())}),this.clearEvents()}},{key:"setupReportingInterval",value:function(){this.enabled&&(this.sendData(),this._intervalId=setInterval(this.sendData.bind(this),this.reportingInterval))}},{key:"__updateEnabled",value:function(){this._intervalId&&(clearInterval(this._intervalId),this._intervalId=0),this.enabled&&this.setupReportingInterval()}}]),n}(c);d.prototype.telemetryUrl="https://telemetry.layer.com",d.prototype._intervalId=0,d.prototype.reportingInterval=36e5,d.prototype._writeTimeoutId=0,d.prototype.storageKey="",d.prototype.state=null,d.prototype.tempState=null,d.prototype.enabled=!0,d.prototype.client=null,d.prefixUUID="layer:///telemetry/",d._supportedEvents=c._supportedEvents.concat(["telemetry-environment"]),c.initClass.apply(d,[d,"TelemetryMonitor"]),e.exports=d}).call(t,n("DuR2"))},iZkC:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("zi+W"),c=n("4wNg"),l=n("dGzY"),u=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),o(t,[{key:"_fixPredicate",value:function(e){return c.prototype._fixPredicate.apply(this,[e])}},{key:"_fetchData",value:function(e){var t=this;this.client.dbManager.loadAnnouncements(this._nextDBFromId,e,function(e){e.length&&t._appendResults({data:e},!0)});var n="announcements?page_size="+e+(this._nextServerFromId?"&from_id="+this._nextServerFromId:"");n!==this._firingRequest&&(this.isFiring=!0,this._firingRequest=n,this.client.xhr({telemetry:{name:"announcement_query_time"},url:n,method:"GET",sync:!1},function(r){return t._processRunResults(r,n,e)}))}}]),t}(l);u._supportedEvents=[].concat(l._supportedEvents),u.MaxPageSize=100,u.prototype.model=c.Announcement,s.initClass.apply(u,[u,"AnnouncementsQuery"]),e.exports=u},iqth:function(e,t,n){"use strict";var r=n("bD8U"),i=n("pLky").dictionary,a=(n("jPMo"),n("jTMd")),o=a.WebsocketSyncEvent;e.exports={events:["identities:loaded","identities:loaded-error","identities:change","identities:add","identities:remove","identities:unfollow"],lifecycle:{constructor:function(e){this._models.identities={},this._loadPresenceIds=[]},cleanup:function(){var e=this;Object.keys(this._models.identities).forEach(function(t){var n=e._models.identities[t];n&&!n.isDestroyed&&n.destroy()}),this._models.identities=null},reset:function(){this._models.identities={}}},methods:{getIdentity:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e)),this._models.identities[e]?this._models.identities[e]:t?r.load(e,this):null},_addIdentity:function(e){var t=this,n=e.id;n&&!this._models.identities[n]&&(this._models.identities[n]=e,this._triggerAsync("identities:add",{identities:[e]}),e.id&&null===e._presence.status&&!e.sessionOwner&&(this._loadPresenceIds.push(n),1===this._loadPresenceIds.length&&setTimeout(function(){t.isDestroyed||t._loadPresence()},150)))},_removeIdentity:function(e){e.off(null,null,this);var t=e.id;this._models.identities[t]&&(delete this._models.identities[t],this._triggerAsync("identities:remove",{identities:[e]}))},followIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.follow(),t},unfollowIdentity:function(e){r.isValidId(e)||(e=r.prefixUUID+encodeURIComponent(e));var t=this.getIdentity(e);return t||(t=new r({id:e,clientId:this.appId,userId:e.substring(20)})),t.unfollow(),t},_loadPresence:function(){var e=this._loadPresenceIds;this._loadPresenceIds=[],this.syncManager.request(new o({data:{method:"Presence.sync",data:{ids:e}},returnChangesArray:!0,operation:"READ",target:null,depends:[]}))}}}},j0sQ:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(t,n,i){r(this,e),this.success=this.success.bind(this),this.error=this.error.bind(this),this.ajaxStoreActions=t,this.rootActions=n}return e.prototype.onStoreUpdate=function(e,t){},e.prototype.success=function(e,t,n,r){this.remove({request:n,method:r})},e.prototype.error=function(e,t,n,r){e.status,this.remove({request:e,method:r})},e.prototype.add=function(e,t){var n=this;setTimeout(function(){n.ajaxStoreActions.addRequest({request:e,method:t})},0),e.then(function(e,r,i){n.success(e,r,i,t)},function(e,r,i){n.error(e,r,i,t)})},e.prototype.remove=function(e){var t=this;setTimeout(function(){t.ajaxStoreActions.removeRequest(e)},0)},e}();t.a=i},jLUq:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return o.createElement("div",{style:{height:this.props.isBlocked&&"267px"},className:"message-list"},o.createElement("div",{className:"chat-loading-screen"},o.createElement("span",{class:"chat-loading"})))},t}(o.Component);t.a=s},jPMo:function(e,t,n){"use strict";(function(e){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n("pqqx");t.atob="undefined"==typeof atob?e.getNativeSupport("atob"):atob.bind(window),t.btoa="undefined"==typeof btoa?e.getNativeSupport("btoa"):btoa.bind(window);var a="undefined"==typeof FileReader?e.getNativeSupport("FileReader"):FileReader;t.generateUUID=i.v4,t.typeFromID=function(e){var t=e.match(/([^\/]*)(\/[^\/]*)$/);return t?t[1]:""},t.uuid=function(e){return(e||"").replace(/^.*\//,"")},t.isEmpty=function(e){return"[object Object]"===Object.prototype.toString.apply(e)&&0===Object.keys(e).length},t.sortBy=function(e,t,n){return n=n?-1:1,e.sort(function(e,r){var i=t(e),a=t(r);return void 0===i&&void 0===a?0:void 0===i&&void 0!==a?1:void 0!==i&&void 0===a?-1:i>a?1*n:i<a?-1*n:0})},t.clone=function(e){return JSON.parse(JSON.stringify(e))},t.strictEncodeURI=function(e){return encodeURIComponent(e).replace(/[!~'()]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},t.decode=function(e){var n=new RegExp("_","g"),r=new RegExp("-","g"),i=e.replace(r,"+").replace(n,"/");switch(i.length%4){case 0:break;case 2:i+="==";break;case 3:i+="=";break;default:throw new Error("Illegal base64url string!")}return t.atob(i)},t.getExponentialBackoffSeconds=function(e,t){var n=Math.pow(2,t)/10,r=Math.random();return n>=e&&(n=e),t<2?r/=4:t<6?r/=2:r*=.5*n,n+r},t.isBlob=function(e){return"undefined"!=typeof Blob&&e instanceof Blob},t.blobToBase64=function(e,t){var n=new a;n.readAsDataURL(e),n.onloadend=function(){return t(n.result.replace(/^.*?,/,""))}},t.base64ToBlob=function(e,n){try{var r=t.atob(e),i=[],a=void 0;for(a=0;a<r.length;a+=512){var o=void 0,s=r.slice(a,a+512),c=new Array(s.length);for(o=0;o<s.length;o++)c[o]=s.charCodeAt(o);var l=new Uint8Array(c);i.push(l)}return new Blob(i,{type:n})}catch(e){}return null},t.utoa=function(e){return t.btoa(unescape(encodeURIComponent(e)))},t.atou=function(e){return decodeURIComponent(escape(t.atob(e)))},t.fetchTextFromFile=function(e,t){if("string"==typeof e)return t(e);var n=new a;n.addEventListener("loadend",function(){t(n.result)}),n.readAsText(e)},t.defer=n("Er7U"),t.layerParse=n("aAY6"),t.doesObjectMatch=function(e,n){if(!e&&n||e&&!n)return!1;var i=Object.keys(e).sort(),a=Object.keys(n).sort();if(i.length!==a.length)return!1;for(var o=0;o<i.length;o++){var s=i[o],c=a[o],l=e[s],u=n[c];if(s!==c)return!1;if(l&&"object"===(void 0===l?"undefined":r(l))){if(Array.isArray(l))throw new Error("Array comparison not handled yet");if(!t.doesObjectMatch(l,u))return!1}else if(l!==u)return!1}return!0},t.includes=function(e,t){return-1!==e.indexOf(t)},t.asciiInit=function(e){if(!e)return"Missing version";var t=e.split("-"),n=t[0]||"",r=t[1]||"";return n+=new Array(13-n.length).join(" "),r+=new Array(14-r.length).join(" "),"\n    /hNMMMMMMMMMMMMMMMMMMMms.\n  hMMy+/////////////////omMN-\n  MMN                    oMMo\n  MMN        Layer       oMMo\n  MMN       Web SDK      oMMo\n  MMM-                   oMMo\n  MMMy      v"+n+"oMMo\n  MMMMo     "+r+"oMMo\n  MMMMMy.                oMMo\n  MMMMMMNy:'             oMMo\n  NMMMMMMMMmy+:-.'      'yMM/\n  :dMMMMMMMMMMMMNNNNNNNNNMNs\n   -/+++++++++++++++++++:'"}}).call(t,n("DuR2"))},jTMd:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n("jPMo"),c=function(){function e(t){a(this,e);var n=void 0;for(n in t)n in this&&(this[n]=t[n]);this.depends||(this.depends=[]),this.id||(this.id="layer:///syncevents/"+s.generateUUID()),this.createdAt||(this.createdAt=Date.now())}return o(e,[{key:"destroy",value:function(){this.target=null,this.depends=null,this.callback=null,this.data=null}},{key:"_updateData",value:function(e){if(this.target){var t=e.getObject(this.target);t&&"POST"===this.operation&&t._getSendData&&(this.data=t._getSendData(this.data))}}},{key:"toObject",value:function(){return{data:this.data}}}]),e}();c.prototype.operation="",c.prototype.fromDB=!1,c.prototype.createdAt=0,Object.defineProperty(c.prototype,"isFiring",{enumerable:!0,set:function(e){this.__isFiring=e,e&&(this.__firedAt=Date.now())},get:function(){return Boolean(this.__isFiring&&Date.now()-this.__firedAt<c.FIRING_EXPIRATION)}}),Object.defineProperty(c.prototype,"_isValidating",{enumerable:!0,set:function(e){this.__isValidating=e,e&&(this.__validatedAt=Date.now())},get:function(){return Boolean(this.__isValidating&&Date.now()-this.__validatedAt<c.VALIDATION_EXPIRATION)}}),c.prototype.id="",c.prototype.success=null,c.prototype.callback=null,c.prototype.retryCount=0,c.prototype.target=null,c.prototype.depends=null,c.prototype.data=null,c.FIRING_EXPIRATION=15e3,c.VALIDATION_EXPIRATION=500;var l=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"_getRequestData",value:function(e){return this._updateUrl(e),this._updateData(e),{url:this.url,method:this.method,headers:this.headers,data:this.data,telemetry:this.telemetry}}},{key:"_updateUrl",value:function(e){if(this.target){var t=e.getObject(this.target);t&&!this.url.match(/^https?:\/\//)&&(this.url=t._getUrl(this.url))}}},{key:"toObject",value:function(){return{data:this.data,url:this.url,method:this.method}}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data?this.data.id:""}}]),t}(c);l.prototype.timeout=15e3,l.prototype.url="",l.prototype.returnToOnlineCount=0,l.prototype.headers=null,l.prototype.method="GET",l.prototype.telemetry=null;var u=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),o(t,[{key:"_getRequestData",value:function(e){return this._updateData(e),this.data}},{key:"toObject",value:function(){return this.data}},{key:"_getCreateId",value:function(){return"POST"===this.operation&&this.data.data?this.data.data.id:""}}]),t}(c);u.prototype.returnChangesArray=!1,e.exports={SyncEvent:c,XHRSyncEvent:l,WebsocketSyncEvent:u}},jkNz:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("EvUg"),u=n("P+Qc"),d=n("jPMo"),p=n("kesd"),h=p.ACCEPT,f=function(e){function n(e){r(this,n);var a=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));if(l.addConnectionListener(function(e){return a._connectionListener(e)}),a.socketManager.on("message",function(){return a._connectionListener({status:"connection:success"})},a),"undefined"!=typeof window&&window.addEventListener)window.addEventListener("online",a._handleOnlineEvent.bind(a)),window.addEventListener("offline",a._handleOnlineEvent.bind(a));else{var o=t.getNativeSupport("OnlineEvents");o&&o.addEventListener("change",a._handleOnlineEvent.bind(a))}return a}return a(n,e),o(n,[{key:"start",value:function(){u.info("OnlineStateManager: start"),this.isClientReady=!0,this.isOnline=!0,this.checkOnlineStatus()}},{key:"stop",value:function(){u.info("OnlineStateManager: stop"),this.isClientReady=!1,this._clearCheck(),this._changeToOffline()}},{key:"_scheduleNextOnlineCheck",value:function(){if(!this.isDestroyed&&this.isClientReady&&!this.isOnline){this._clearCheck();var e=Math.min(10,this.offlineCounter+3);this.offlineCounter++;var t=d.getExponentialBackoffSeconds(this.maxOfflineWait,e);u.info("OnlineStateManager: Scheduled checkOnlineStatus "+t+" seconds"),this.onlineCheckId=setTimeout(this.checkOnlineStatus.bind(this),Math.floor(1e3*t))}}},{key:"_clearCheck",value:function(){this.onlineCheckId&&(clearTimeout(this.onlineCheckId),this.onlineCheckId=0)}},{key:"_handleOnlineEvent",value:function(e){this.offlineCounter=0,this.checkOnlineStatus()}},{key:"_onlineExpiring",value:function(){var e=this;u.info("OnlineStateManager: Online State Expiring; pinging to verify"),this._isOnlineExpiring=!0,this.checkOnlineStatus(function(t){!t&&e._isOnlineExpiring&&e._onlineExpired(),e._isOnlineExpiring=!1})}},{key:"_onlineExpired",value:function(){u.info("OnlineStateManager: Online State Expired"),this._clearCheck(),this._changeToOffline(),this._scheduleNextOnlineCheck()}},{key:"checkOnlineStatus",value:function(e){if(!this.isDestroyed){this._clearCheck();var t=this.socketManager.client;u.info("OnlineStateManager: Firing XHR for online check"),this._lastCheckOnlineStatus=new Date,l({url:t.url+"/ping?client="+t.constructor.version,method:"HEAD",headers:{accept:h}},function(t){var n=t.status;e&&e(408!==n)})}}},{key:"_changeToOffline",value:function(){this.isOnline&&(u.info("OnlineStateManager: Connection lost"),this.isOnline=!1,this.trigger("disconnected"))}},{key:"_connectionListener",value:function(e){if("connection:success"===e.status){this._isOnlineExpiring=!1;var t=this.lastMessageTime;this.lastMessageTime=new Date,this.isOnline||(this.isOnline=!0,this.offlineCounter=0,this.trigger("connected",{offlineDuration:t?Date.now()-t:0}),void 0===this.connectedCounter&&(this.connectedCounter=0),this.connectedCounter++,u.info("OnlineStateManager: Connected restored")),this._clearCheck(),this.onlineCheckId=setTimeout(this._onlineExpiring.bind(this),this.pingFrequency)}else this.isOnline?this._onlineExpiring():this._scheduleNextOnlineCheck()}},{key:"destroy",value:function(){this._clearCheck(),this.socketManager=null,s(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"destroy",this).call(this)}}]),n}(c);f.prototype.isClientReady=!1,f.prototype.socketManager=null,f.prototype.offlineCounter=0,f.prototype.maxOfflineWait=60,f.prototype.minBackoffWait=100,f.prototype.lastMessageTime=null,f.prototype._lastCheckOnlineStatus=null,f.prototype.isOnline=!1,f.prototype.onlineCheckId=0,f.prototype._isOnlineExpiring=!1,f.prototype.pingFrequency=1e5,f._supportedEvents=["connected","disconnected"].concat(c._supportedEvents),c.initClass.apply(f,[f,"OnlineStateManager"]),e.exports=f}).call(t,n("DuR2"))},kesd:function(e,t,n){"use strict";e.exports={SYNC_STATE:{NEW:"NEW",SAVING:"SAVING",SYNCING:"SYNCING",SYNCED:"SYNCED",LOADING:"LOADING"},RECIPIENT_STATE:{NONE:"NONE",SOME:"SOME",ALL:"ALL"},RECEIPT_STATE:{SENT:"sent",DELIVERED:"delivered",READ:"read",PENDING:"pending"},LOCALSTORAGE_KEYS:{SESSIONDATA:"layer-session-data-"},ACCEPT:"application/vnd.layer+json; version=2.0",WEBSOCKET_PROTOCOL:"layer-2.0",LOG:{DEBUG:4,INFO:3,WARN:2,ERROR:1,NONE:0},DELETION_MODE:{ALL:"all_participants",MY_DEVICES:"my_devices"}}},lplE:function(e,t,n){"use strict";var r=window.interfaces.Virtual,i=function(e){return r.createElement("div",{className:"preloader-wrapper "+e.size+" active"},r.createElement("div",{className:e.spinnerClassName},r.createElement("div",{className:"circle-clipper left"},r.createElement("div",{className:"circle"})),r.createElement("div",{className:"gap-patch"},r.createElement("div",{className:"circle"})),r.createElement("div",{className:"circle-clipper right"},r.createElement("div",{className:"circle"}))))};i.propTypes={size:r.PropTypes.string,spinnerClassName:r.PropTypes.string},i.defaultProps={size:"",spinnerClassName:"spinner-layer spinner-blue-only"},t.a=i},m0wR:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={LAST_SEEN_LABEL:"Last seen ",AT_LABEL:"at ",AGO_LABEL:"ago",YESTERDAY_LABEL:"Yesterday",ON_LABEL:"on ",TODAY_LABEL:"Today",MESSAGE_LIMIT:3,ACTIVE_NOW_LABEL:"Active Now",MESSAGE_BLOCK_LABEL_1:"You have sent 3 messages",MESSAGE_BLOCK_LABEL_2:"Jobseeker must reply before you can send further messages",BLOCK_USER_LABEL:"Sure about blocking ",QUESTION_MARK_LABEL:"?",BLOCK_USER_WARNING_LABEL_1:"Further messages from ",BLOCK_USER_WARNING_LABEL_2:"will not be delivered.",BLOCK_LABEL:"Block",CANCEL_BLOCK_LABEL:"Cancel",DONT_BLOCK_LABEL:"Don't Block",USER_BLOCKED:"Candidate Blocked",USER_UNBLOCK_MESSAGE:"To reinitiate messaging, first unblock the jobseeker",USER_UNBLOCK:"UNBLOCK",USER_UNBLOCK_TEXT:"Unblock",ATTACH_JOB_LABEL:"Add Posted Job",ATTACH_DOC_LABEL:"Attach Documents",ATTACH_JOB_TITLE:"Select Job to send Mails",POSTED_JOBS_LABEL:"Posted Jobs",POSTED_ON_LABEL:"Posted on",POSTED_BY_LABEL:"Posted by",REMOVE_LABEL:"Remove",FILE_ATTACHED_MESSAGE:"File Attached",FIRST_FILE_MESSAGE:"Recruiter has shared an attachment with you.",FIRST_JOB_MESSAGE:"Recruiter has shared a Job with you.",AVATAR_DEFAULT_URL:"https://p.naukimg.com/jphoto/s3",AVATAR_FALLBACK_URL:"https://static.naukimg.com/s/4/112/i/noImg_v1.png"}},nFsS:function(e,t,n){"use strict";var r=(n("bD8U"),n("pLky").dictionary,n("jPMo")),i=n("kesd"),a=i.RECEIPT_STATE;n("jTMd").WebsocketSyncEvent,e.exports={lifecycle:{constructor:function(e){this.on("websocket:operation",this._handleWebsocketOperation,this)}},methods:{_handleWebsocketOperation:function(e){switch(e.data.method){case"Conversation.mark_all_read":return this._handleMarkAllReadOperation(e.data)}},_handleMarkAllReadOperation:function(e){var t=e.data.position,n=this.getObject(e.object.id);if(n){var i=e.data.identity.id,o=this.user.id===i;n._inMarkAllAsRead=!0,this.forEachMessage(function(e){if(e.conversationId===n.id&&e.position<=t)if(o)e.recipientStatus[i]=a.READ,e.isRead=!0;else if(e.recipientStatus[i]!==a.READ){var s=r.clone(e.recipientStatus);s[i]=a.READ,e.recipientStatus=s}}),n._inMarkAllAsRead=!1}}}}},nN6X:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("oRf9"),s=n("xyQn"),c=window.interfaces.Virtual,l=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){this.markMessageRead()},t.prototype.componentWillReceiveProps=function(){this.markMessageRead()},t.prototype.markMessageRead=function(){var e=this.props,t=e.onMarkMessageRead,n=e.message;n.isUnread&&t(n.id,this.context.client)},t.prototype.getMessageStatus=function(e,t){var n=e.recipientStatus,r=void 0;for(var i in n)i!=t&&(r=i);switch(n[r]){case layer.Constants.RECEIPT_STATE.SENT:return c.createElement("span",{className:"tick-font-wrapper"},c.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-single-tick"}));case layer.Constants.RECEIPT_STATE.DELIVERED:return c.createElement("span",{className:"tick-font-wrapper"},c.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-double-tick"}));case layer.Constants.RECEIPT_STATE.READ:return c.createElement("span",{className:"tick-font-wrapper"},c.createElement("i",{className:"fontIcon chatwindow-tick wf-chat-double-tick read-tick"}));case layer.Constants.RECEIPT_STATE.PENDING:return c.createElement("span",{className:"tick-font-wrapper chatwindow-not-send"},c.createElement("i",{className:"fontIcon chatwindow-not-send wf-chat-msg-not-send"}))}},t.prototype.renderPart=function(e){switch(e.mimeType){case"text/plain":return c.createElement(o.a,{key:e.id,messagePart:e});default:return c.createElement("div",{key:e.id})}},t.prototype.renderPartAttachment=function(e){var t={},n=void 0;e.parts.map(function(e){if("application/json+imageSize"===e.mimeType){t=JSON.parse(e.body);var r=t.fileName||"",i=t.size&&Math.floor(t.size/1024)+" KB"||"";t.type=r.substring(r.lastIndexOf(".")+1),t.size=i}else n=e.content&&e.content.download_url||e.url||""});var r=e.sender,i=e.recipientStatus,a=void 0;for(var o in i)o!=r.id&&(a=o);return c.createElement("div",{className:"msg-with-attachment"},c.createElement("div",{className:"msg-part-icon"},i[a]===layer.Constants.RECEIPT_STATE.PENDING?c.createElement("div",{className:"simpleLoader"}):c.createElement("div",{className:"fontIcon wf-chat-attach-doc"})),c.createElement("div",{className:"msg-attach-val"},c.createElement("p",null,t.fileName),c.createElement("p",null,t.size),c.createElement("p",{className:"preview-attach"},c.createElement("a",{href:n,target:"_blank"},"View File"))))},t.prototype.renderMessage=function(e){switch(e.parts.length){case 2:return this.renderPartAttachment(e);default:return this.renderPart(e.parts[0])}},t.prototype.render=function(){var e=this.props.message,t=e.sender,n=!t.sessionOwner;return c.createElement("div",{className:n?"message-item receiver":"message-item sender"},c.createElement("div",{className:n?"main reciever-block":"main sender-block"},c.createElement("div",{className:"message-parts"},this.renderMessage(e),c.createElement("span",{className:"timestamp right-align"},c.createElement("span",null,s.b(e.sentAt)),!n&&this.getMessageStatus(e,t.id)))))},t}(c.PureComponent);t.a=l},oRf9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("xyQn"),s=window.interfaces.Virtual,c=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.checkForLinks=function(e){for(var t=e.split(" "),n=0;n<t.length;n++)if(Object(o.j)(t[n])){var r=-1!==t[n].indexOf("http")||-1!==t[n].indexOf("https");t[n]=s.createElement("a",{target:"_blank",href:r?t[n]:"//"+t[n]},t[n]+" ")}else t[n]+=" ";return t},t.prototype.render=function(){var e=this,t=this.props.messagePart.body||"",n=t.split("\n").map(function(t){if(Object(o.j)(t)){var n=-1!==t.indexOf("http")||-1!==t.indexOf("https");return s.createElement("a",{target:"_blank",href:n?t:"//"+t},t)}return s.createElement("p",null," ",e.checkForLinks(t))});return s.createElement("p",{className:"bubble text"},n)},t}(s.Component);t.a=c},oXlP:function(e,t,n){"use strict";var r=n("H8F6"),i=n("pLky").dictionary;e.exports={events:["conversations:add","conversations:remove","conversations:sent","conversations:sent-error","conversations:change","conversations:loaded","conversations:delete"],lifecycle:{constructor:function(e){this._models.conversations={}},cleanup:function(){var e=this;Object.keys(this._models.conversations).forEach(function(t){var n=e._models.conversations[t];n&&!n.isDestroyed&&n.destroy()}),this._models.conversations=null},reset:function(){this._models.conversations={}}},methods:{getConversation:function(e,t){if("string"!=typeof e)throw new Error(i.idParamRequired);return r.isValidId(e)||(e=r.prefixUUID+e),this._models.conversations[e]?this._models.conversations[e]:t?r.load(e,this):null},_addConversation:function(e){var t=e.id;this._models.conversations[t]||(this._models.conversations[t]=e,e.clientId!==this.appId&&(e.clientId=this.appId),this._triggerAsync("conversations:add",{conversations:[e]}))},_removeConversation:function(e){var t=this;e.off(null,null,this),this._models.conversations[e.id]&&(delete this._models.conversations[e.id],this._triggerAsync("conversations:remove",{conversations:[e]})),Object.keys(this._models.messages).forEach(function(n){t._models.messages[n].conversationId===e.id&&t._models.messages[n].destroy()})},_updateConversationId:function(e,t){var n=this;this._models.conversations[t]&&(this._models.conversations[e.id]=e,delete this._models.conversations[t],Object.keys(this._models.messages).filter(function(e){return n._models.messages[e].conversationId===t}).forEach(function(t){return n._models.messages[t].conversationId=e.id}))},findCachedConversation:function(e,t){for(var n=t?e.bind(t):e,r=Object.keys(this._models.conversations),i=r.length,a=0;a<i;a++){var o=r[a],s=this._models.conversations[o];if(n(s,a))return s}return null},createConversation:function(e){if(!this.isAuthenticated)throw new Error(i.clientMustBeReady);return"distinct"in e||(e.distinct=!0),e.client=this,r.create(e)}}}},ogE9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zTev"),l=n("zi+W"),u=n("kesd"),d=n("pLky"),p=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id:e.id&&!e.userId&&(e.userId=e.id.replace(/^.*\//,"")),e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(d.dictionary.clientMissing);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isInitializing=!0,e&&e.fromServer&&n._populateFromServer(e.fromServer),!n.url&&n.id?n.url=n.getClient().url+"/"+n.id.substring(9):n.url||(n.url=""),n.getClient()._addMembership(n),n.isInitializing=!1,n}return a(t,e),o(t,[{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMembership(this),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_populateFromServer",value:function(e){var t=this,n=this.getClient();this._disableEvents=this.syncState===u.SYNC_STATE.NEW,this._setSynced(),this.userId=e.identity?e.identity.user_id||"":n.user.userId,this.channelId=e.channel.id,this.identity=e.identity?n._createObject(e.identity):n.user,this.identity.on("identities:change",function(e){t.trigger("members:change",{property:"identity"})},this),!this.url&&this.id&&(this.url=this.getClient().url+this.id.substring(8)),this._disableEvents=!1}},{key:"_updateValue",value:function(e,t){null!==t&&void 0!==t||(t=""),this[e]!==t&&(this.isInitializing||this._triggerAsync("members:change",{property:e,oldValue:this[e],newValue:t}),this[e]=t)}},{key:"__getUserId",value:function(){return this.identity?this.identity.userId:""}},{key:"__updateIdentity",value:function(e,t){t&&t.off(null,null,this)}}],[{key:"_createFromServer",value:function(e,n){return new t({client:n,fromServer:e,_fromDB:e._fromDB})}}]),t}(c);p.prototype.userId="",p.prototype.channelId="",p.prototype.role=null,p.prototype.identity="",p.inObjectIgnore=l.inObjectIgnore,p.bubbleEventParent="getClient",p._supportedEvents=["members:change","members:loaded","members:loaded-error"].concat(c._supportedEvents),p.eventPrefix="members",p.prefixUUID="/members/",l.initClass.apply(p,[p,"Membership"]),c.subclasses.push(p),e.exports=p},oqnR:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("3v6L"),s=n("HrXv"),c=n.n(s),l=(n("Kd6K"),n("yvWW")),u=n("7Uc5"),d=n("ZXrB"),p=n.n(d),h=n("Cehq"),f=n.n(h),y=n("SyvT"),m=n.n(y),v=n("Sbnt"),g=n("yt7V"),b=n("/cJY"),_=n("NMAg"),E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k=window.interfaces,C=k.Virtual,w=(k.VirtualDom,function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.searchInputChanged=function(e){a.setState({searchData:e})},a.renderConversationListItem=function(e){var t=a.props,n=t.activeConversationId,r=t.onDeleteConversation,i=t.changeActiveConversationId;return C.createElement(o.a,E({key:e.id,conversation:e,active:n===e.id,activeConversationId:n,onDeleteConversation:r,changeActiveConversationId:i},a.props))},a.loadMore=function(){a.props.query.setQueryParams({paginationWindow:a.props.query.queryParams.paginationWindow+10})},n.owner&&n.owner.userId,a.state={searchData:null,showFeedbackSection:Object(_.a)("lyrchat-feedback-dismiss-timestamp")||!0},a.removeSearchFilter=a.removeSearchFilter.bind(a),a.dismissFeedback=a.dismissFeedback.bind(a),a.blockPrms=null,a}return a(t,e),t.prototype.attachedCallback=function(){this.props.updateUnreadConversationCount({value:!0,unreadConversations:0})},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.conversations!==e.conversations){var n=e.conversations.filter(function(e){return e.unreadCount>0}).length;n!==e.isDrawerLoaded.unreadConversations&&e.updateUnreadConversationCount({value:!0,unreadConversations:n})}0===this.props.conversations.length&&e.conversations.length&&this.props.chatList_visible&&null===this.props.blockedUsers&&(this.blockPrms||(this.blockPrms=Object(b.b)(this.props.owner.userId).then(function(e){t.props.saveBlockedUsers(e),t.blockPrms=null},function(e){t.props.saveBlockedUsers([]),t.blockPrms=null})))},t.prototype.removeSearchFilter=function(){this.setState({searchData:""})},t.prototype.dismissFeedback=function(){this.props.owner&&this.props.owner.userId,Object(_.b)("lyrchat-feedback-dismiss-timestamp",(new Date).toString(),30,"/",".naukri.com"),this.setState({showFeedbackSection:!1})},t.prototype.shouldFeedbackDisplay=function(){var e=this.state.showFeedbackSection;if(!e)return!1;if(this.state.searchData)return!1;if("string"==typeof e){var t=new Date(e);return(new Date-t)/864e5>=30}return!0},t.prototype.renderFeedackSection=function(){var e="undefined"!=typeof gnb_variables&&gnb_variables.recruiterUsername||"";return C.createElement(v.a,{convCount:this.props.conversations.length,dismissFeedback:this.dismissFeedback,owner:this.props.owner,userEmail:e})},t.prototype.render=function(){var e=this;if("undefined"!=typeof pageName&&("preview"===pageName||"SRP"===pageName)&&!this.props.isLayerLoaded)return C.createElement("div",{class:"chatDrawer"},C.createElement(g.a,null));var t=this.props.conversations,n=t;return this.state.searchData&&(n=t.filter(function(t){var n=t.participants.filter(function(e){return!e.sessionOwner}),r=e.state.searchData.toLowerCase();return n[0].displayName&&n[0].displayName.toLowerCase().indexOf(r)>-1||n[0].metadata.designation&&n[0].metadata.designation.toLowerCase().indexOf(r)>-1||n[0].metadata.employerName&&n[0].metadata.employerName.toLowerCase().indexOf(r)>-1})),t&&0!==t.length?C.createElement("div",null,C.createElement("div",{className:"chatDrawer"},C.createElement("div",{className:"materialize chatMessenger"},C.createElement(u.a,{searchInputChanged:this.searchInputChanged,owner:this.props.owner,conversations:t,removeSearchFilter:this.removeSearchFilter}),this.shouldFeedbackDisplay()&&t&&t.length>=2&&this.renderFeedackSection(),0===n.length?C.createElement(l.a,{icon:f.a,class:"no-result-img"},C.createElement("div",{class:"no-result"},C.createElement("span",null,"No search result found."))):C.createElement(c.a,{next:this.loadMore,hasMore:!0,height:490},C.createElement("ul",{className:"collection chat-list"},n.map(this.renderConversationListItem)))))):C.createElement("div",{className:"chatDrawer"},C.createElement(l.a,{icon:p.a,class:"noConversationIcon"},C.createElement("div",{className:"no-result noconversations"},C.createElement("p",null,"You have no conversations yet."),C.createElement("p",{className:"no-conv-message"},"To start talking with candidates, go to their CV detail page and click the 'Chat' button."),C.createElement("img",{src:m.a,alt:""})),C.createElement("div",{className:"chat-help"},C.createElement("div",null,C.createElement("p",null,"Recruiter chat is still in early release."),C.createElement("p",null,C.createElement("a",{href:"http://www.naukri.com/tieups/tieups.php?othersrcp=30007",target:"_black"},"Learn more on Naukri Recruiter blog"))))))},t}(C.PureComponent));t.a=w},ozQU:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=n("zi+W"),u=n("zTev"),d=n("b6EZ"),p=n("pLky"),h=n("kesd"),f=n("jPMo"),y=n("bD8U"),m=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r(this,t),e.fromServer?e.id=e.fromServer.id:"isUnread"in e?(e.isRead=!e.isUnread&&!e.is_unread,delete e.isUnread):e.isRead=!0,e.client&&(e.clientId=e.client.appId),!e.clientId)throw new Error(p.dictionary.clientMissing);var n=e.parts;e.parts=null;var a=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.parts=n;var o=a.getClient();return a.isInitializing=!0,e&&e.fromServer?a._populateFromServer(e.fromServer):(o&&(a.sender=o.user),a.sentAt=new Date),a.parts||(a.parts=[]),a}return a(t,e),s(t,[{key:"__adjustParts",value:function(e){var t=this,n=void 0;return"string"==typeof e?n=[new d({body:e,mimeType:"text/plain",clientId:this.clientId})]:Array.isArray(e)?n=e.map(function(e){var n=void 0;return n=e instanceof d?e:new d(e),n.clientId=t.clientId,n}):e&&"object"===(void 0===e?"undefined":o(e))&&(e.clientId=this.clientId,n=[new d(e)]),this._setupPartIds(n),n&&n.forEach(function(e){e.off("messageparts:change",t._onMessagePartChange,t),e.on("messageparts:change",t._onMessagePartChange,t)}),n}},{key:"addPart",value:function(e){if(e){e.clientId=this.clientId,e instanceof d?this.parts.push(e):"object"===(void 0===e?"undefined":o(e))&&this.parts.push(new d(e));var t=this.parts.length-1,n=this.parts[t];n.off("messageparts:change",this._onMessagePartChange,this),n.on("messageparts:change",this._onMessagePartChange,this),e.id||(e.id=this.id+"/parts/"+t)}return this}},{key:"_onMessagePartChange",value:function(e){var t=this;e.changes.forEach(function(n){t._triggerAsync("messages:change",{property:"parts."+n.property,oldValue:n.oldValue,newValue:n.newValue,part:e.target})})}},{key:"presend",value:function(){var e=this,t=this.getClient();if(!t)throw new Error(p.dictionary.clientMissing);var n=this.getConversation(!1);if(!n)throw new Error(p.dictionary.conversationMissing);if(this.syncState!==h.SYNC_STATE.NEW)throw new Error(p.dictionary.alreadySent);return n._setupMessage(this),this._readAllBlobs(function(){t._addMessage(e)}),this}},{key:"send",value:function(e){var t=this,n=this.getClient();if(!n)throw new Error(p.dictionary.clientMissing);var r=this.getConversation(!0);if(!r)throw new Error(p.dictionary.conversationMissing);if(this.syncState!==h.SYNC_STATE.NEW)throw new Error(p.dictionary.alreadySent);if(r.isLoading)return r.once(r.constructor.eventPrefix+":loaded",function(){return t.send(e)}),r._setupMessage(this),this;if(!this.parts||!this.parts.length)throw new Error(p.dictionary.partsMissing);return this._setSyncing(),r.send(this),this._readAllBlobs(function(){n._addMessage(t),t.trigger("messages:sending");var r={parts:new Array(t.parts.length),id:t.id};e&&t.conversationId&&(r.notification=e),t._preparePartsForSending(r)}),this}},{key:"_readAllBlobs",value:function(e){var t=0,n=this.parts.filter(function(e){return f.isBlob(e.body)&&e.isTextualMimeType()});n.forEach(function(r){f.fetchTextFromFile(r.body,function(i){r.body=i,++t===n.length&&e()})}),n.length||e()}},{key:"_preparePartsForSending",value:function(e){var t=this,n=this.getClient(),r=0;this.parts.forEach(function(i,a){i.once("parts:send",function(n){e.parts[a]={mime_type:n.mime_type},n.content&&(e.parts[a].content=n.content),n.body&&(e.parts[a].body=n.body),n.encoding&&(e.parts[a].encoding=n.encoding),++r===t.parts.length&&t._send(e)},t),i._send(n)})}},{key:"_send",value:function(e){var t=this,n=this.getClient(),r=this.getConversation(!1);this.getClient()._triggerAsync("state-change",{started:!0,type:"send_"+f.typeFromID(this.id),telemetryId:"send_"+f.typeFromID(this.id)+"_time",id:this.id}),this.sentAt=new Date,n.sendSocketRequest({method:"POST",body:{method:"Message.create",object_id:r.id,data:e},sync:{depends:[this.conversationId,this.id],target:this.id}},function(e,n){return t._sendResult(e,n)})}},{key:"_getSendData",value:function(e){return e.object_id=this.conversationId,e}},{key:"_sendResult",value:function(e){var t=e.success,n=e.data;this.getClient()._triggerAsync("state-change",{ended:!0,type:"send_"+f.typeFromID(this.id),telemetryId:"send_"+f.typeFromID(this.id)+"_time",result:t,id:this.id}),this.isDestroyed||(t?(this._populateFromServer(n),this._triggerAsync("messages:sent"),this._triggerAsync("messages:change",{property:"syncState",oldValue:h.SYNC_STATE.SAVING,newValue:h.SYNC_STATE.SYNCED})):(this.trigger("messages:sent-error",{error:n}),this.destroy()),this._setSynced())}},{key:"on",value:function(e,n,r){if(("messages:loaded"===e||e&&"object"===(void 0===e?"undefined":o(e))&&e["messages:loaded"])&&!this.isLoading){var i="messages:loaded"===e?n:e["messages:loaded"];f.defer(function(){return i.apply(r)})}return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,n,r),this}},{key:"destroy",value:function(){var e=this.getClient();e&&e._removeMessage(this),this.parts.forEach(function(e){return e.destroy()}),this.__parts=null,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this)}},{key:"_setupPartIds",value:function(e){var t=this;e&&e.forEach(function(e,n){e.id||(e.id=t.id+"/parts/"+n)})}},{key:"_populateFromServer",value:function(e){var t=this;this._inPopulateFromServer=!0;var n=this.getClient();this.id=e.id,this.url=e.url;var r=this.position;this.position=e.position,this._setupPartIds(e.parts),this.parts=e.parts.map(function(e){var n=t.getPartById(e.id);return n?(n._populateFromServer(e),n):d._createFromServer(e)}),this.recipientStatus=e.recipient_status||{},this.isRead=!("is_unread"in e&&e.is_unread),this.sentAt=new Date(e.sent_at),this.receivedAt=e.received_at?new Date(e.received_at):void 0;var i=void 0;e.sender.id&&(i=n.getIdentity(e.sender.id)),i||(i=y._createFromServer(e.sender,n)),this.sender=i,this._setSynced(),r&&r!==this.position&&this._triggerAsync("messages:change",{oldValue:r,newValue:this.position,property:"position"}),this._inPopulateFromServer=!1}},{key:"getPartById",value:function(e){return(this.parts?this.parts.filter(function(t){return t.id===e})[0]:null)||null}},{key:"_handlePatchEvent",value:function(e,t,n){this._inLayerParser=!1,0===n[0].indexOf("recipient_status")&&this.__updateRecipientStatus(this.recipientStatus,t),this._inLayerParser=!0}},{key:"_getUrl",value:function(e){return this.url+(e||"")}},{key:"_setupSyncObject",value:function(e){return!1!==e&&(e=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_setupSyncObject",this).call(this,e),e.depends?-1===e.depends.indexOf(this.id)&&e.depends.push(this.conversationId):e.depends=[this.conversationId]),e}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:". ",t=this.parts.filter(function(e){return"text/plain"===e.mimeType}).map(function(e){return e.body});return t=t.filter(function(e){return e}),t.join(e)}},{key:"toObject",value:function(){return this._toObject||(this._toObject=c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this)),this._toObject}},{key:"_triggerAsync",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_triggerAsync",this).call(this,e,n)}},{key:"trigger",value:function(e,n){this._clearObject(),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}}],[{key:"_loadResourceForPatch",value:function(e){return!1}}]),t}(u);m.prototype.clientId="",m.prototype.conversationId="",m.prototype.parts=null,m.prototype.sentAt=null,m.prototype.receivedAt=null,m.prototype.sender=null,m.prototype.position=0,m.prototype._notify=!1,Object.defineProperty(m.prototype,"isUnread",{enumerable:!0,get:function(){return!this.isRead}}),m.prototype._toObject=null,m.prototype._inPopulateFromServer=!1,m.eventPrefix="messages",m.eventPrefix="messages",m.prefixUUID="layer:///messages/",m.inObjectIgnore=u.inObjectIgnore,m.bubbleEventParent="getClient",m.imageTypes=["image/gif","image/png","image/jpeg","image/jpg"],m._supportedEvents=["messages:loaded","messages:loaded-error","messages:delete","messages:sending","messages:sent","messages:sent-error","messages:change"].concat(u._supportedEvents),l.initClass.apply(m,[m,"Message"]),u.subclasses.push(m),e.exports=m},pFEf:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n("AX2D"),d=r(u),p=n("KSGD"),h=r(p);t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return function(n){var r,p,f;return p=r=function(r){function u(n,r){a(this,u);var s=o(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,n,r));f.call(s),s.client=n.client||r.client,s.queries={},s.callbacks={};var l="function"==typeof e?e(n):e,d=t(n,l),p=Object.keys(d).reduce(function(e,t){return c({},e,i({},t,[]))},{});return s.state={queryResults:p,queryParams:l},s}return s(u,r),l(u,[{key:"componentWillMount",value:function(){this.client.on("ready",this._onClientReady),this.client.isReady&&this._updateQueries(this.props,this.state.queryParams)}},{key:"componentWillReceiveProps",value:function(e){this._updateQueries(e,this.state.queryParams)}},{key:"render",value:function(){var e=this,t=this.state,r=t.queryParams,i=t.queryResults,a={};Object.keys(this.queries).forEach(function(t){a[t]=e.queries[t].id});var o=c({},i,{query:{queryParams:r,setQueryParams:this.setQueryParams,queryIds:a}});return d.default.createElement(n,c({},this.props,o))}},{key:"componentWillUnmount",value:function(){var e=this;Object.keys(this.queries).forEach(function(t){var n=e.queries[t];n.off("change",e.callbacks[n.internalId]),e.client.off("ready",e._onClientReady,e)})}}]),u}(u.Component),r.propTypes={client:h.default.object},r.contextTypes={client:h.default.object},f=function(){var e=this;this._onClientReady=function(){e._updateQueries(e.props,e.state.queryParams)},this.setQueryParams=function(t,n){e._updateQueries(e.props,t,n)},this._updateQueries=function(n,r,i){var a=t(n,r);Object.keys(e.queries).forEach(function(t){if(!a[t]){var n=e.queries[t];n.off("change",e.callbacks[n.internalId]),delete e.queries[t],delete e.callbacks[n.internalId]}}),Object.keys(a).forEach(function(t){var n=e.queries[t],r=a[t];if(n)n.update(r.build());else{var i=e.client.createQuery(r);e.queries[t]=i,e.callbacks[i.internalId]=function(){e._onQueryChange(t,i.data)},i.on("change",e.callbacks[i.internalId])}}),e.setState({queryParams:r},i)},this._onQueryChange=function(t,n){e.setState({queryResults:c({},e.state.queryResults,i({},t,n))})}},p}}},pLky:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("P+Qc"),s=function(){function e(t){var n=this;r(this,e),t instanceof e?t={errType:t.errType,httpStatus:t.httpStatus,message:t.message,code:t.code,url:t.url,data:t.data}:t&&"object"===(void 0===t?"undefined":i(t))?t.errType=t.id:t={message:t},Object.keys(t).forEach(function(e){return n[e]=t[e]}),this.data||(this.data={})}return a(e,[{key:"getNonce",value:function(){return this.data&&this.data.nonce?this.data.nonce:""}},{key:"toString",value:function(){return this.code+" ("+this.id+"): "+this.message+"; (see "+this.url+")"}},{key:"log",value:function(){o.error("Layer-Error: "+this.toString())}}]),e}();s.prototype.errType="",s.prototype.code=0,s.prototype.url="",s.prototype.message="",s.prototype.httpStatus=0,s.prototype.request=null,s.prototype.data=null,s.prototype.xhr=null,s.dictionary={appIdMissing:"Property missing: appId is required",identityTokenMissing:"Identity Token missing: answerAuthenticationChallenge requires an identity token",sessionTokenMissing:"Session Token missing: _authComplete requires a {session_token: value} input",clientMissing:"Property missing: client is required",conversationMissing:"Property missing: conversation is required",partsMissing:"Property missing: parts is required",moreParticipantsRequired:"Conversation needs participants other than the current user",isDestroyed:"Object is destroyed",urlRequired:"Object needs a url property",invalidUrl:"URL is invalid",invalidId:"Identifier is invalid",idParamRequired:"The ID Parameter is required",wrongClass:"Parameter class error; should be: ",inProgress:"Operation already in progress",cantChangeIfConnected:"You can not change value after connecting",cantChangeUserId:"You can not change the userId property",alreadySent:"Already sent or sending",contentRequired:"MessagePart requires rich content for this call",alreadyDestroyed:"This object has already been destroyed",deletionModeUnsupported:"Call to deletion was made with an unsupported deletion mode",sessionAndUserRequired:"connectWithSession requires both a userId and a sessionToken",invalidUserIdChange:"The prn field in the Identity Token must match the requested UserID",predicateNotSupported:"The predicate is not supported for this value of model",invalidPredicate:"The predicate does not match the expected format",appIdImmutable:"The appId property cannot be changed",clientMustBeReady:'The Client must have triggered its "ready" event before you can call this',modelImmutable:"The model property cannot be changed",valueNotSupported:"The value provided is not a supported value",permissionDenied:"Operation not allowed on that object"},e.exports=s},pop0:function(e,t,n){"use strict";(function(t){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("EvUg"),l=n("zi+W"),u=n("IIOl"),d=n("6hGd"),p=n("fYnd"),h=n("pLky"),f=n("jkNz"),y=n("UD6+"),m=n("2Jz9"),v=n("bD8U"),g=n("jTMd"),b=g.XHRSyncEvent,_=g.WebsocketSyncEvent,E=n("kesd"),k=E.ACCEPT,C=E.LOCALSTORAGE_KEYS,w=n("P+Qc"),T=n("jPMo"),O=function(e){function n(e){if(r(this,n),!e.appId)throw new Error(h.dictionary.appIdMissing);return i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return a(n,e),s(n,[{key:"_initComponents",value:function(){var e=this;this.socketManager=new u({client:this}),this.socketManager.on("connecting",function(t){return e.trigger("websocket:connecting")}),this.socketManager.on("disconnecting",function(t){return e.trigger("websocket:disconnecting",{from:t.from,why:t.why})}),this.socketManager.on("replaying-events",function(t){return e.trigger("websocket:replaying-events",{from:t.from,why:t.why})}),this.socketManager.on("schedule-reconnect",function(t){return e.trigger("websocket:schedule-reconnect",{from:t.from,why:t.why})}),this.socketManager.on("scheduling-reconnect",function(t){return e.trigger("websocket:scheduling-reconnect",{counter:t.counter,delay:t.delay})}),this.socketManager.on("ignore-skipped-counter",function(t){return e.trigger("websocket:ignore-skipped-counter",{from:t.from,why:t.why})}),this.socketChangeManager=new d({client:this,socketManager:this.socketManager}),this.socketRequestManager=new p({client:this,socketManager:this.socketManager}),this.onlineManager=new f({socketManager:this.socketManager}),this.onlineManager.on("connected",this._handleOnlineChange,this),this.onlineManager.on("disconnected",this._handleOnlineChange,this),this.syncManager=new y({onlineManager:this.onlineManager,socketManager:this.socketManager,requestManager:this.socketRequestManager,client:this})}},{key:"_destroyComponents",value:function(){this.syncManager.destroy(),this.onlineManager.destroy(),this.socketManager.destroy(),this.socketChangeManager.destroy(),this.socketRequestManager.destroy(),this.dbManager&&this.dbManager.destroy()}},{key:"_isPersistedSessionsDisabled",value:function(){return!t.localStorage||this.persistenceFeatures&&!this.persistenceFeatures.sessionToken}},{key:"_restoreLastSession",value:function(){if(!this._isPersistedSessionsDisabled())try{var e=t.localStorage[C.SESSIONDATA+this.appId];if(!e)return;var n=JSON.parse(e);n.expires<Date.now()?t.localStorage.removeItem(C.SESSIONDATA+this.appId):this.sessionToken=n.sessionToken}catch(e){}}},{key:"_restoreLastUser",value:function(){try{var e=t.localStorage[C.SESSIONDATA+this.appId];if(!e)return null;var n=JSON.parse(e).user;return new v({clientId:this.appId,sessionOwner:!0,fromServer:n})}catch(e){return null}}},{key:"_hasUserIdChanged",value:function(e){try{var n=t.localStorage[C.SESSIONDATA+this.appId];return!n||JSON.parse(n).user.user_id!==e}catch(e){return!0}}},{key:"_connect",value:function(){var e=this;this._triggerAsync("state-change",{started:!0,type:"authentication",telemetryId:"auth_time",id:null}),this.xhr({url:"/nonces",method:"POST",sync:!1},function(t){return e._connectionResponse(t)})}},{key:"connect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.isAuthenticated)return this;var t=void 0;return this.isConnected=!1,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,this.user=null,this.onlineManager.start(),this.isTrustedDevice&&e&&!this._isPersistedSessionsDisabled()&&!this._hasUserIdChanged(e)||this._clearStoredData(),this.isTrustedDevice&&e&&(this._restoreLastSession(e),(t=this._restoreLastUser())&&(this.user=t)),this.user||(this.user=new v({userId:e,sessionOwner:!0,clientId:this.appId,id:e?v.prefixUUID+encodeURIComponent(e):""})),this.sessionToken&&this.user.userId?this._sessionTokenRestored():this._connect(),this}},{key:"connectWithSession",value:function(e,t){var n=this;if(this.isAuthenticated)return this;var r=void 0;if(this.isConnected=!1,this.user=null,this._lastChallengeTime=0,this._wantsToBeAuthenticated=!0,this._wantsToBeConnected=!0,!e||!t)throw new Error(h.dictionary.sessionAndUserRequired);return(!this.isTrustedDevice||this._isPersistedSessionsDisabled()||this._hasUserIdChanged(e))&&this._clearStoredData(),this.isTrustedDevice&&(r=this._restoreLastUser())&&(this.user=r),this.onlineManager.start(),this.user||(this.user=new v({userId:e,sessionOwner:!0,clientId:this.appId})),this.isConnected=!0,setTimeout(function(){n.isAuthenticated||n._authComplete({session_token:t},!1)},1),this}},{key:"reconnect",value:function(){if(!this.isAuthenticated)return void(this.sessionToken&&this.user&&this.user.userId?this.connectWithSession(this.user.userId,this.sessionToken):this.connect());this._wantsToBeConnected=!0,this._clientReady(),this.onlineManager.start(),this.socketManager.connect()}},{key:"disconnect",value:function(){this.isReady=!1,this._wantsToBeConnected=!1,this.socketManager.close(),this.onlineManager.stop()}},{key:"_connectionResponse",value:function(e){e.success?this._connectionComplete(e.data):this._connectionError(e.data)}},{key:"_connectionComplete",value:function(e){this.isConnected=!0,this.trigger("connected"),this._authenticate(e.nonce)}},{key:"_connectionError",value:function(e){this.trigger("connected-error",{error:e})}},{key:"_authenticate",value:function(e){this._lastChallengeTime=Date.now(),e&&this.trigger("challenge",{nonce:e,callback:this.answerAuthenticationChallenge.bind(this)})}},{key:"answerAuthenticationChallenge",value:function(e){var t=this;if(!e)throw new Error(h.dictionary.identityTokenMissing);var n=T.decode(e.split(".")[1]),r=JSON.parse(n);if(!r.prn)throw new Error("Your identity token prn (user id) is empty");if(this.user.userId&&this.user.userId!==r.prn)throw new Error(h.dictionary.invalidUserIdChange);this.user._setUserId(r.prn),r.display_name&&(this.user.displayName=r.display_name),r.avatar_url&&(this.user.avatarUrl=r.avatar_url),this.xhr({url:"/sessions",method:"POST",sync:!1,data:{identity_token:e,app_id:this.appId}},function(n){return t._authResponse(n,e)})}},{key:"_authResponse",value:function(e,t){this._triggerAsync("state-change",{ended:!0,type:"authentication",telemetryId:"auth_time",result:e.success}),e.success?this._authComplete(e.data,!1):this._authError(e.data,t)}},{key:"_authComplete",value:function(e,n){if(!e||!e.session_token)throw new Error(h.dictionary.sessionTokenMissing);if(this.sessionToken=e.session_token,!this._isPersistedSessionsDisabled()&&!n)try{t.localStorage[C.SESSIONDATA+this.appId]=JSON.stringify({sessionToken:this.sessionToken||"",user:m.prototype._getIdentityData([this.user],!0)[0],expires:Date.now()+2592e6})}catch(e){}this._clientAuthenticated()}},{key:"_authError",value:function(e,t){this.trigger("authenticated-error",{error:e})}},{key:"_sessionTokenRestored",value:function(){this.isConnected=!0,this.trigger("connected"),this._clientAuthenticated()}},{key:"_clientAuthenticated",value:function(){var e=this;if(this.isAuthenticated=!0,this.trigger("authenticated"),this.isTrustedDevice||(this.isPersistenceEnabled=!1),!this.persistenceFeatures||!this.isPersistenceEnabled){var t=void 0;t=this.persistenceFeatures&&"sessionToken"in this.persistenceFeatures?Boolean(this.persistenceFeatures.sessionToken):this.isTrustedDevice,this.persistenceFeatures={conversations:this.isPersistenceEnabled,channels:this.isPersistenceEnabled,messages:this.isPersistenceEnabled,identities:this.isPersistenceEnabled,syncQueue:this.isPersistenceEnabled,sessionToken:t}}this.dbManager||(this.dbManager=new m({client:this,tables:this.persistenceFeatures,enabled:this.isPersistenceEnabled})),this.isPersistenceEnabled?this.dbManager.onOpen(function(){return e._loadUser()}):this._loadUser()}},{key:"_loadUser",value:function(){var e=this;this.user.isFullIdentity?this._clientReady():(this.user._load(),this.user.once("identities:loaded",function(){e._isPersistedSessionsDisabled()||(e._writeSessionOwner(),e.user.on("identities:change",e._writeSessionOwner,e)),e._clientReady()}).once("identities:loaded-error",function(){e.user.displayName||(e.user.displayName=e.defaultOwnerDisplayName),e._clientReady()}))}},{key:"_writeSessionOwner",value:function(){try{var e=JSON.parse(t.localStorage[C.SESSIONDATA+this.appId]);e.user=m.prototype._getIdentityData([this.user])[0],t.localStorage[C.SESSIONDATA+this.appId]=JSON.stringify(e)}catch(e){}}},{key:"_clientReady",value:function(){this.isReady||(this._wantsToBeConnected=!0,this._wantsToBeAuthenticated=!0,this.isReady=!0,this.trigger("ready"))}},{key:"logout",value:function(e){this._wantsToBeAuthenticated=!1,this._wantsToBeConnected=!0;var t=1,n=0;return this.isAuthenticated&&(t++,this.xhr({method:"DELETE",url:"/sessions/"+escape(this.sessionToken),sync:!1},function(){++n===t&&e&&e()})),this._clearStoredData(function(){++n===t&&e&&e()}),this._resetSession(),this}},{key:"_clearStoredData",value:function(e){t.localStorage&&localStorage.removeItem(C.SESSIONDATA+this.appId),this.dbManager?this.dbManager.deleteTables(e):e&&e()}},{key:"_resetSession",value:function(){this.isReady=!1,this.isConnected=!1,this.isAuthenticated=!1,this.sessionToken&&(this.sessionToken="",t.localStorage&&localStorage.removeItem(C.SESSIONDATA+this.appId)),this.trigger("deauthenticated"),this.onlineManager.stop()}},{key:"registerIOSPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"apns",device_id:e.deviceId,ios_version:e.iosVersion,apns_bundle_id:e.bundleId}},function(e){return t(e.data)})}},{key:"registerAndroidPushToken",value:function(e,t){this.xhr({url:"push_tokens",method:"POST",sync:!1,data:{token:e.token,type:"gcm",device_id:e.deviceId,gcm_sender_id:e.senderId}},function(e){return t(e.data)})}},{key:"unregisterPushToken",value:function(e,t){this.xhr({url:"push_tokens/"+e,method:"DELETE"},function(e){return t(e.data)})}},{key:"__adjustAppId",value:function(){if(this.isConnected)throw new Error(h.dictionary.cantChangeIfConnected)}},{key:"__adjustUser",value:function(e){if(this.isConnected)throw new Error(h.dictionary.cantChangeIfConnected)}},{key:"_addIdentity",value:function(e){}},{key:"_removeIdentity",value:function(e){}},{key:"sendSocketRequest",value:function(e,t){var n=Boolean(e.isChangesArray);if(this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect(),e.sync){var r=e.sync.target,i=e.sync.depends;r&&!i&&(i=[r]),this.syncManager.request(new _({data:e.body,operation:e.method,returnChangesArray:n,target:r,depends:i,callback:t}))}else"function"==typeof e.data&&(e.data=e.data()),this.socketRequestManager.sendRequest({data:e,isChangesArray:n,callback:t})}},{key:"_handleOnlineChange",value:function(e){if(this._wantsToBeAuthenticated&&this._wantsToBeConnected){var t=e.offlineDuration,r="connected"===e.eventName,i={isOnline:r};r&&(i.reset=t>n.ResetAfterOfflineDuration,this.isAuthenticated||this._connect()),this.trigger("online",i)}}},{key:"xhr",value:function(e,t){return e.sync&&e.sync.target||(e.url=this._xhrFixRelativeUrls(e.url||"")),e.withCredentials=!0,e.method||(e.method="GET"),e.headers||(e.headers={}),this._xhrFixHeaders(e.headers),this._xhrFixAuth(e.headers),!1===e.sync?this._nonsyncXhr(e,t,0):this._syncXhr(e,t),this}},{key:"_syncXhr",value:function(e,t){var n=this;e.sync||(e.sync={}),this._wantsToBeAuthenticated&&!this.isAuthenticated&&this._connect();var r=function(e){n._xhrResult(e,t)},i=e.sync.target,a=e.sync.depends;i&&!a&&(a=[i]),this.syncManager.request(new b({url:e.url,data:e.data,telemetry:e.telemetry,method:e.method,operation:e.sync.operation||e.method,headers:e.headers,callback:r,target:i,depends:a}))}},{key:"_nonsyncXhr",value:function(e,t,n){var r=this;c(e,function(i){-1!==[502,503,504].indexOf(i.status)&&n<3?setTimeout(function(){return r._nonsyncXhr(e,t,n+1)},1e3):r._xhrResult(i,t)})}},{key:"_xhrFixAuth",value:function(e){this.sessionToken&&!e.Authorization&&(e.authorization='Layer session-token="'+this.sessionToken+'"')}},{key:"_xhrFixRelativeUrls",value:function(e){var t=e;return-1===e.indexOf("https://")&&-1===e.indexOf("http://")&&(t="/"===e[0]?this.url+e:this.url+"/"+e),t}},{key:"_xhrFixHeaders",value:function(e){Object.keys(e).forEach(function(t){t!==t.toLowerCase()&&(e[t.toLowerCase()]=e[t],delete e[t])}),e.accept||(e.accept=k),e["content-type"]||(e["content-type"]="application/json"),e["layer-xdk-version"]||(e["layer-xdk-version"]=this.constructor.version),e["client-id"]||(e["client-id"]=this._tabId)}},{key:"_xhrResult",value:function(e,r){this.isDestroyed||(e.success||(e.data&&"object"===o(e.data)&&this._generateError(e),401===e.status&&this._wantsToBeAuthenticated&&(this.isAuthenticated?(w.warn("SESSION EXPIRED!"),this.isAuthenticated=!1,this.isReady=!1,t.localStorage&&localStorage.removeItem(C.SESSIONDATA+this.appId),this.trigger("deauthenticated"),this._authenticate(e.data.getNonce())):this._lastChallengeTime>Date.now()+n.TimeBetweenReauths&&this._authenticate(e.data.getNonce()))),r&&r(e))}},{key:"_generateError",value:function(e){e.data=new h(e.data),e.data.httpStatus||(e.data.httpStatus=e.status),e.data.log()}}]),n}(l);O.prototype.isAuthenticated=!1,O.prototype.isConnected=!1,O.prototype.isReady=!1,O.prototype._wantsToBeAuthenticated=!1,O.prototype._wantsToBeConnected=!1,O.prototype.isPresenceEnabled=!0,O.prototype.appId="",O.prototype.user=null,O.prototype.sessionToken="",O.prototype._lastChallengeTime=0,O.prototype.url="https://api.layer.com",O.prototype.websocketUrl="wss://websockets.layer.com",O.prototype.socketManager=null,O.prototype.socketRequestManager=null,O.prototype.socketChangeManager=null,O.prototype.syncManager=null,O.prototype.onlineManager=null,O.prototype.isTrustedDevice=!1,O.prototype.isPersistenceEnabled=!1,O.prototype.persistenceFeatures=null,O.prototype.dbManager=null,O.prototype.defaultOwnerDisplayName="You",Object.defineProperty(O.prototype,"isOnline",{enumerable:!0,get:function(){return this.onlineManager&&this.onlineManager.isOnline}}),Object.defineProperty(O.prototype,"logLevel",{enumerable:!1,get:function(){return w.level},set:function(e){w.level=e}}),Object.defineProperty(O.prototype,"userId",{enumerable:!0,get:function(){return this.user?this.user.userId:""},set:function(){}}),O.ResetAfterOfflineDuration=108e6,O.TimeBetweenReauths=3e4,O._supportedEvents=["ready","connected","connected-error","authenticated","authenticated-error","deauthenticated","challenge","session-terminated","online","state-change","websocket:operation","websocket:connecting","websocket:disconnecting","websocket:replaying-events","websocket:scheduling-reconnect","websocket:schedule-reconnect","websocket:ignore-skipped-counter"].concat(l._supportedEvents),l.initClass.apply(O,[O,"ClientAuthenticator"]),e.exports=O}).call(t,n("DuR2"))},pqqx:function(e,t,n){function r(e,t,n){var r=t&&n||0,i=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){i<16&&(t[r+i++]=l[e])});i<16;)t[r+i++]=0;return t}function i(e,t){var n=t||0,r=c;return r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+"-"+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]+r[e[n++]]}function a(e,t,n){var r=t&&n||0,a=t||[];e=e||{};var o=void 0!==e.clockseq?e.clockseq:h,s=void 0!==e.msecs?e.msecs:(new Date).getTime(),c=void 0!==e.nsecs?e.nsecs:y+1,l=s-f+(c-y)/1e4;if(l<0&&void 0===e.clockseq&&(o=o+1&16383),(l<0||s>f)&&void 0===e.nsecs&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");f=s,y=c,h=o,s+=122192928e5;var u=(1e4*(268435455&s)+c)%4294967296;a[r++]=u>>>24&255,a[r++]=u>>>16&255,a[r++]=u>>>8&255,a[r++]=255&u;var d=s/4294967296*1e4&268435455;a[r++]=d>>>8&255,a[r++]=255&d,a[r++]=d>>>24&15|16,a[r++]=d>>>16&255,a[r++]=o>>>8|128,a[r++]=255&o;for(var m=e.node||p,v=0;v<6;v++)a[r+v]=m[v];return t||i(a)}function o(e,t,n){var r=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null),e=e||{};var a=e.random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var o=0;o<16;o++)t[r+o]=a[o];return t||i(a)}for(var s=n("59JX"),c=[],l={},u=0;u<256;u++)c[u]=(u+256).toString(16).substr(1),l[c[u]]=u;var d=s(),p=[1|d[0],d[1],d[2],d[3],d[4],d[5]],h=16383&(d[6]<<8|d[7]),f=0,y=0,m=o;m.v1=a,m.v4=o,m.parse=r,m.unparse=i,e.exports=m},quVU:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("JcSM"),s=n("m0wR"),c=window.interfaces,l=c.Virtual,u=(c.VirtualDom,function(e){function t(n){return r(this,t),i(this,e.call(this,n))}return a(t,e),t.prototype.removeAction=function(){this.props.sendOrRemoveAttachment(null)},t.prototype.render=function(){var e=this;return l.createElement("div",{className:"chat-attachment-preview"},l.createElement("div",{className:"attachment-preview-wrapper"},l.createElement("div",{className:"attachment-preview-icon"},l.createElement("span",null,l.createElement("i",{className:"fontIcon "+this.props.iconClass}))),l.createElement("div",{className:"attachment-preview-text"},l.createElement("p",{className:"ellipses",title:this.props.title},this.props.title),l.createElement("p",{className:"ellipses attachment-preview-postedby",title:this.props.description},this.props.description),l.createElement("p",{className:"ellipses attachment-preview-remove",onClick:function(){return e.removeAction()}},s.a.REMOVE_LABEL))),l.createElement(o.a,{sendMessage:function(){return e.props.onSubmit()}}))},t}(l.Component));t.a=u},sDhs:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("ozQU"),u=n("Z/oI"),d=n("pLky"),p=n("kesd"),h=n("jPMo"),f=function(e){function t(e){r(this,t),e.conversation&&(e.conversationId=e.conversation.id);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n._disableEvents=!0,e.fromServer?n.__updateRecipientStatus(n.recipientStatus):n.recipientStatus={},n._disableEvents=!1;var a=n.getClient();if(n.isInitializing=!1,e&&e.fromServer){a._addMessage(n);var o=n.recipientStatus[a.user.id];o&&o!==p.RECEIPT_STATE.READ&&o!==p.RECEIPT_STATE.DELIVERED&&h.defer(function(){return n._sendReceipt("delivery")})}return n}return a(t,e),o(t,[{key:"getConversation",value:function(e){return this.conversationId?u.get(this.clientId).getConversation(this.conversationId,e):null}},{key:"_loaded",value:function(e){this.conversationId=e.conversation.id,this.getClient()._addMessage(this)}},{key:"__getRecipientStatus",value:function(e){var t=this[e]||{},n=this.getClient();if(n){var r=n.user.id,i=this.getConversation(!1);i&&i.participants.forEach(function(e){t[e.id]||(t[e.id]=e.id===r?p.RECEIPT_STATE.READ:p.RECEIPT_STATE.PENDING)})}return t}},{key:"__updateRecipientStatus",value:function(e,t){var n=this.getConversation(!1),r=this.getClient();if(n&&!h.doesObjectMatch(e,t)){var i=r.user.id,a=this.sender.sessionOwner,o=e[i]===p.RECEIPT_STATE.READ;try{var s=n.participants.length-1;this.__isRead||!a&&!o||(this.__isRead=!0);var c=this._getReceiptStatus(e,i),l=c.readCount,u=c.deliveredCount;this._setReceiptStatus(l,u,s)}catch(e){}!this.isInitializing&&t&&(o&&t[i]!==p.RECEIPT_STATE.READ||a)&&this._triggerAsync("messages:change",{oldValue:t,newValue:e,property:"recipientStatus"})}}},{key:"_getReceiptStatus",value:function(e,t){var n=0,r=0;return Object.keys(e).filter(function(e){return e!==t}).forEach(function(t){e[t]===p.RECEIPT_STATE.READ?(n++,r++):e[t]===p.RECEIPT_STATE.DELIVERED&&r++}),{readCount:n,deliveredCount:r}}},{key:"_setReceiptStatus",value:function(e,t,n){this.readStatus=e===n?p.RECIPIENT_STATE.ALL:e>0?p.RECIPIENT_STATE.SOME:p.RECIPIENT_STATE.NONE,this.deliveryStatus=t===n?p.RECIPIENT_STATE.ALL:t>0?p.RECIPIENT_STATE.SOME:p.RECIPIENT_STATE.NONE}},{key:"__updateIsRead",value:function(e){if(e){this._inPopulateFromServer||this.getConversation()._inMarkAllAsRead||this._sendReceipt(p.RECEIPT_STATE.READ),this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}}},{key:"_triggerMessageRead",value:function(){var e=this.isRead;this._triggerAsync("messages:change",{property:"isRead",oldValue:!e,newValue:e}),this._triggerAsync("messages:change",{property:"isUnread",oldValue:e,newValue:!e})}},{key:"sendReceipt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.RECEIPT_STATE.READ;if(e===p.RECEIPT_STATE.READ){if(this.isRead)return this;this.__isRead=!0,this._triggerMessageRead();var t=this.getConversation(!1);t&&t.unreadCount--}return this._sendReceipt(e),this}},{key:"_sendReceipt",value:function(e){var t=this,n=this.getConversation(!1);n&&0===n.participants.length||(this._setSyncing(),this._xhr({url:"/receipts",method:"POST",data:{type:e},sync:{operation:"RECEIPT"}},function(){return t._setSynced()}))}},{key:"delete",value:function(e){if(this.isDestroyed)throw new Error(d.dictionary.isDestroyed);var t=void 0;switch(e){case p.DELETION_MODE.ALL:case!0:t="mode=all_participants";break;case p.DELETION_MODE.MY_DEVICES:t="mode=my_devices";break;default:throw new Error(d.dictionary.deletionModeUnsupported)}var n=this.id,r=this.getClient();this._xhr({url:"?"+t,method:"DELETE"},function(e){e.success||e.data&&("not_found"===e.data.id||"authentication_required"===e.data.id)||l.load(n,r)}),this._deleted(),this.destroy()}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.recipientStatus=h.clone(this.recipientStatus)),this._toObject}}],[{key:"_createFromServer",value:function(e,n){var r=e.fromWebsocket,i=void 0;return i=e.conversation?e.conversation.id:e.conversationId,new t({conversationId:i,fromServer:e,clientId:n.appId,_fromDB:e._fromDB,_notify:r&&e.is_unread&&e.sender.user_id!==n.user.userId})}}]),t}(l);f.prototype.isRead=!1,f.prototype.recipientStatus=null,f.prototype.readStatus=p.RECIPIENT_STATE.NONE,f.prototype.deliveryStatus=p.RECIPIENT_STATE.NONE,f.inObjectIgnore=l.inObjectIgnore,f._supportedEvents=[].concat(l._supportedEvents),c.initClass.apply(f,[f,"ConversationMessage"]),e.exports=f},sh6c:function(e,t,n){!function(){var n,r=Array.prototype.forEach,i=Object.prototype.hasOwnProperty,a=Array.prototype.slice,o=0,s=function(){return{keys:Object.keys||function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("keys() called on a non-object");var t,n=[];for(t in e)e.hasOwnProperty(t)&&(n[n.length]=t);return n},uniqueId:function(e){var t=++o+"";return e?e+t:t},has:function(e,t){return i.call(e,t)},each:function(e,t,n){if(null!=e)if(r&&e.forEach===r)e.forEach(t,n);else if(e.length===+e.length)for(var i=0,a=e.length;i<a;i++)t.call(n,e[i],i,e);else for(var o in e)this.has(e,o)&&t.call(n,e[o],o,e)},once:function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}}}();n={on:function(e,t,n){return l(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=s.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,a,o,c,u,d,p;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(o=e?[e]:s.keys(this._events),c=0,u=o.length;c<u;c++)if(e=o[c],a=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,p=a.length;d<p;d++)i=a[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&u(n,t),r&&u(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e);for(var a in r)r[a].off(t,n,this),i&&delete this._listeners[a];return this}};var c=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var a=n.split(c),o=0,s=a.length;o<s;o++)e[t].apply(e,[a[o]].concat(r));return!1}return!0},u=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},d={listenTo:"on",listenToOnce:"once"};s.each(d,function(e,t){n[t]=function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),n.bind=n.on,n.unbind=n.off,n.mixin=function(e){var t=["on","once","off","trigger","stopListening","listenTo","listenToOnce","bind","unbind"];return s.each(t,function(t){e[t]=this[t]},this),e},void 0!==e&&e.exports&&(t=e.exports=n),t.BackboneEvents=n}()},sin9:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("N1N5"),s=n("7fCg"),c=n("2Ksq"),l=n("A+05"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.Virtual,p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={desc:n.props.formData.desc,day:"",checked:n.props.formData.checked,time:""},n.hour="",n.minute="",n.ampm="",n.setDesc=n.setDesc.bind(n),n.setChecked=n.setChecked.bind(n),n.setTime=n.setTime.bind(n),n.initializeCalender=n.initializeCalender.bind(n),n.initializeFormSubmit=n.initializeFormSubmit.bind(n),n.submitAddTaskForm=n.submitAddTaskForm.bind(n),n.openCalender=n.openCalender.bind(n),n.hourDDInstance=null,n.minuteDDInstance=null,n.AMPMDDInstance=null,n.$calenderNode=null,n.formValidator=null,n.container=null,n}return a(t,e),t.prototype.attributeChangedCallback=function(e){e.formData.desc!=this.state.desc&&this.setState({desc:e.formData.desc}),e.formData.dateStr!=this.getDateStr()&&this.prefillDayAndTime(e)},t.prototype.attachedCallback=function(){var e=this;this.initializeDDs(),this.initializeCalender(document.forms.addTaskFormInDropLayer.elements[1]),this.initializeFormSubmit(document.forms.addTaskFormInDropLayer),this.prefillDayAndTime(this.props),Object(o.a)(this.props.triggerElm,".dropLayer-addTask"),setTimeout(function(){e.formValidator=tnr_validator("addTaskFormInDropLayer",["addTaskBtnLB"])},1e3)},t.prototype.prefillDayAndTime=function(e){var t=void 0,n=void 0;if("now"==e.formData.dateStr||"todo"==e.formData.type)t=new Date;else{t=new Date(e.formData.dateStr);var r=Object(o.m)(t),i=r.hours,a=r.minutes,c=r.ampm;this.hourDDInstance.replaceData({data:s.c,prefillData:i}),this.minuteDDInstance.replaceData({data:s.d,prefillData:Object(s.b)(s.d,a+"")}),this.AMPMDDInstance.replaceData({data:s.a,prefillData:c})}n=Object(o.i)(t),this.$calenderNode.tnr_datepicker("update",n.match(/\d{2}.\d{2}.\d{4}/)[0]),this.setDay(t)},t.prototype.detachedCallback=function(){this.$calenderNode.remove(),this.hourDDInstance.destroy(),this.minuteDDInstance.destroy(),this.AMPMDDInstance.destroy()},t.prototype.setDesc=function(e){this.setState({desc:e.target.value})},t.prototype.setDay=function(e){var t=Object(o.h)(e),n=t.mm,r=t.dd,i=t.yyyy;this.setState({day:n+"/"+r+"/"+i})},t.prototype.setTime=function(){var e=this.hour.trim()+":"+this.minute.trim()+" "+this.ampm.trim();this.setState({time:e})},t.prototype.checkError=function(){return this.hour&&this.minute&&this.ampm?($("#addTaskForm #selectTime_err").removeClass("err"),!1):($("#addTaskForm #selectTime_err").addClass("err"),!0)},t.prototype.setChecked=function(e){this.setState({checked:e.target.checked})},t.prototype.getDateStr=function(){var e=this.state.day.split("/"),t=e[0];return e[1]+"/"+t+"/"+e[2]+" "+this.state.time},t.prototype.openCalender=function(){this.$calenderNode.click()},t.prototype.initializeCalender=function(e){var t=this;this.$calenderNode=$(e);var n=new Date;this.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return $("#picker-container  #legend-container").hide(),e.valueOf()<new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0).valueOf()?"disabled":""},container:"#picker-container"}).on("changeDate",function(e){$(".datepicker").hide(),t.setDay(e.date)}).on("click",function(){$(this).tnr_datepicker("show")})},t.prototype.initializeDDs=function(){var e=this,t={id:"hoursDD",data:s.c,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.hour=n,e.container&&e.container.focus(),void 0!=n&&$("#addTaskForm #selectMinutes").focus()},onBlur:function(t,n){e.hour=s.c[t]},maxHeight:200,minWidth:150};this.hourDDInstance=new c.a(t);var n={id:"minutesDD",data:s.d,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.minute=n,e.container&&e.container.focus(),void 0!=n&&$("#addTaskForm #selectAMPM").focus()},onBlur:function(t,n){e.minute=s.d[t]},maxHeight:200,minWidth:150};this.minuteDDInstance=new c.a(n);var r={id:"AMPMDD",data:s.a,searchBox:!0,selectOnBlur:!0,onChange:function(t,n){e.ampm=n,e.container&&e.container.focus()},onBlur:function(t,n){e.ampm=s.a[t]},maxHeight:200,minWidth:150};this.AMPMDDInstance=new c.a(r),customScroll.init()},t.prototype.initializeFormSubmit=function(e){var t=this;$(e).length>0&&setTimeout(function(){t.formValidator=tnr_validator("addTaskFormInDropLayer",["addTaskBtnLB"])},1e3)},t.prototype.submitAddTaskForm=function(){var e="notify";if(this.checkError()){if(Object(o.o)(this.state.day))return!1;$("#addTaskForm #selectTime_err").removeClass("err"),this.hour="09",this.minute="00",this.ampm="AM",e="todo"}this.setTime(),this.formValidator.isValid()&&($("#success-message,#error-message").hide(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","none"),this.props.submitFormData(u({},this.props.formData,{desc:this.state.desc,checked:this.state.checked,dateStr:this.state.day+" "+this.state.time,type:e})).then(function(e){e.data.taskData?($("#addTaskForm #success-message").show(),setTimeout(function(){$("#addTaskForm #success-message").hide(),$("#addTaskForm .closeDropLayer").focus()},2e3)):e.data.validationErrors?$("#addTaskForm #error-message").html(e.data.validationErrors[0].message).show():e.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","auto")}))},t.prototype.render=function(){var e=this;return this.title=l.c[this.props.formData.selectedTag],d.createElement("div",{id:"link_lightBox",className:"ltBx materialize",style:{width:"420px",outline:"none"},tabIndex:"-1",ref:function(t){e.container=t}},d.createElement("div",{className:"ltGlobalHd"},d.createElement("div",{className:"ltGlobalTtl",id:"ltTitle"},this.props.editTaskLB?"Edit Reminder":this.title),d.createElement("a",{className:"ltGlobalCls lt_close",href:"javascript:"},d.createElement("em",{className:"iconCrossLb"}))),d.createElement("div",{className:"ltCntAddTask"},d.createElement("form",{id:"addTaskForm",name:"addTaskFormInDropLayer",className:"lt-frm",method:"post",action:""},d.createElement("div",{className:"field-container"},d.createElement("label",{className:"mr15 field-label"},"Task Description"),d.createElement("input",{className:"input-field",type:"text",id:"taskDesc",name:"taskDesc",style:"margin-right: 24px;",rel:"required:tnr_1100,custom:tnr_1110",maxlength:"255",placeholder:"Task/Interview/Follow-up details in short",value:this.state.desc,onChange:this.setDesc}),d.createElement("i",{className:"erLbl",id:"taskDesc_err"})),d.createElement("div",{className:"oh mt15"},d.createElement("div",{className:"field-container fl w50"},d.createElement("label",{className:"mr15 field-label"},"Remind me on Date"),d.createElement("div",{id:"calenderDD",className:"ddwn fieldDD",onClick:this.openCalender},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"fontIcon wf-calendar calenderIcon"}),d.createElement("span",{className:"arw DDarwDwn"}),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field",type:"text",id:"calender",name:"calender",style:"margin-right: 24px;",placeholder:"Today",value:this.state.day,readonly:!0})))))),d.createElement("div",{id:"picker-container",style:{position:"absolute",lineHeight:"0"}}),d.createElement("i",{className:"erLbl fr",id:"calender_err"})),d.createElement("div",{className:"field-container time-container fl w50"},d.createElement("label",{className:"mr15 field-label"},"Time"),d.createElement("div",{className:"time-container oh"},d.createElement("div",{className:"w30 fl"},d.createElement("div",{id:"hoursDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectHours",type:"text",id:"selectHours",placeholder:"HH"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"minutesDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"colon-icon",style:"display:inline-block;"},":"),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectMinutes",type:"text",id:"selectMinutes",placeholder:"MM"}))))))),d.createElement("div",{className:"w28 fl"},d.createElement("div",{id:"AMPMDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectAMPM",type:"text",id:"selectAMPM",placeholder:"AM/PM"}))))))),d.createElement("span",{className:"fontIcon wf-Time clockIcon"})),d.createElement("i",{className:"erLbl fr",id:"selectTime_err"},"Please select a valid time"))),d.createElement("div",{className:"field-container"},d.createElement("div",{className:"chkZ chkPrompt mt15"},d.createElement("input",{type:"checkbox",name:"attachCalender",checked:this.state.checked,onChange:this.setChecked,id:"outlookChk"}),d.createElement("label",{for:"outlookChk"},d.createElement("span",null)," Mail calendar invitation to me"))),d.createElement("div",{className:"addTask-ltCntntFoot"},d.createElement("button",{className:"lt-btn",id:"addTaskBtnLB",type:"button",onClick:this.submitAddTaskForm},this.props.editTaskLB?"EDIT REMINDER":"SET REMINDER"),d.createElement("a",{href:"javascript:void(0)",className:"lt_close closeDropLayer"},"CANCEL"),d.createElement("div",{id:"success-message",class:"green mt10 dspN"},this.props.editTaskLB?"Your task has been updated successfully":"Your task has been added successfully"),d.createElement("div",{id:"error-message",class:"erLbl newErr mt10 dspN"})))))},t}(d.Component);p.PropTypes={formData:d.PropTypes.object,editTaskLB:d.PropTypes.bool,submitFormData:d.PropTypes.func,addTaskLBInstance:d.PropTypes.func,remove:d.PropTypes.boolean,triggerElm:d.PropTypes.object},p.defaultProps={remove:!1},t.a=p},"t+iR":function(e,t,n){"use strict";var r={};e.exports=r,r.Root=n("zi+W"),r.Client=n("wyU0"),r.ClientAuthenticator=n("pop0"),r.Syncable=n("zTev"),r.Conversation=n("H8F6"),r.Channel=n("VdYS"),r.Container=n("XsJf"),r.Message=n("ozQU"),r.Message.ConversationMessage=n("sDhs"),r.Message.ChannelMessage=n("PT5i"),r.Announcement=n("M3Kp"),r.MessagePart=n("b6EZ"),r.Content=n("S/PF"),r.Query=n("4wNg"),r.QueryBuilder=n("u9Qx"),r.xhr=n("EvUg"),r.Identity=n("bD8U"),r.Membership=n("ogE9"),r.LayerError=n("pLky"),r.LayerEvent=n("yUvy"),r.SyncManager=n("UD6+"),r.SyncEvent=n("jTMd").SyncEvent,r.XHRSyncEvent=n("jTMd").XHRSyncEvent,r.WebsocketSyncEvent=n("jTMd").WebsocketSyncEvent,r.Websockets={SocketManager:n("IIOl"),RequestManager:n("fYnd"),ChangeManager:n("6hGd")},r.OnlineStateManager=n("jkNz"),r.DbManager=n("2Jz9"),r.Constants=n("kesd"),r.Util=n("jPMo"),r.TypingIndicators=n("+uDm"),r.TypingIndicators.TypingListener=n("5WAC"),r.TypingIndicators.TypingPublisher=n("NOS6")},tSPV:function(e,t,n){e.exports=n("6phh")()},tW2u:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n("tSPV"),u=r(l),d=n("AX2D"),p=r(d),h=n("1olO"),f=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},y=(u.default.any,u.default.node,u.default.bool,u.default.bool,u.default.bool,u.default.func,{component:"div",childFactory:function(e){return e}}),m=function(e){function t(n,r){a(this,t);var i=o(this,e.call(this,n,r));return i.state={children:(0,h.getChildMapping)(n.children,function(e){return(0,d.cloneElement)(e,{onExited:i.handleExited.bind(i,e),in:!0,appear:i.getProp(e,"appear"),enter:i.getProp(e,"enter"),exit:i.getProp(e,"exit")})})},i}return s(t,e),t.prototype.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},t.prototype.getProp=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props;return null!=n[t]?n[t]:e.props[t]},t.prototype.componentDidMount=function(){this.appeared=!0},t.prototype.componentWillReceiveProps=function(e){var t=this,n=this.state.children,r=(0,h.getChildMapping)(e.children),i=(0,h.mergeChildMappings)(n,r);Object.keys(i).forEach(function(a){var o=i[a];if((0,d.isValidElement)(o)){var s=a in n,c=a in r,l=n[a],u=(0,d.isValidElement)(l)&&!l.props.in;!c||s&&!u?c||!s||u?c&&s&&(0,d.isValidElement)(l)&&(i[a]=(0,d.cloneElement)(o,{onExited:t.handleExited.bind(t,o),in:l.props.in,exit:t.getProp(o,"exit",e),enter:t.getProp(o,"enter",e)})):i[a]=(0,d.cloneElement)(o,{in:!1}):i[a]=(0,d.cloneElement)(o,{onExited:t.handleExited.bind(t,o),in:!0,exit:t.getProp(o,"exit",e),enter:t.getProp(o,"enter",e)})}}),this.setState({children:i})},t.prototype.handleExited=function(e,t){var n=(0,h.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.setState(function(t){var n=c({},t.children);return delete n[e.key],{children:n}}))},t.prototype.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=i(e,["component","childFactory"]),a=f(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?a:p.default.createElement(t,r,a)},t}(p.default.Component);m.childContextTypes={transitionGroup:u.default.object.isRequired},m.propTypes={},m.defaultProps=y,t.default=m,e.exports=t.default},tag4:function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("zi+W"),l=n("Z/oI"),u=n("+uDm"),d=u.STARTED,p=u.PAUSED,h=u.FINISHED,f=function(e){function t(e){i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._pollId=0,n._getClient().on("ready",function(){return n._clientReady()}),n}return o(t,e),s(t,[{key:"_clientReady",value:function(){var e=this._getClient();this.user=e.user,e.socketManager.on("message",this._handleSocketEvent,this),this._startPolling()}},{key:"_isRelevantEvent",value:function(e){return"signal"===e.type&&"typing_indicator"===e.body.type&&e.body.data.sender.id!==this.user.id}},{key:"_handleSocketEvent",value:function(e){var t=e.data;if(this._isRelevantEvent(t)){var n=this._getClient().getIdentity(t.body.data.sender.id)||this._getClient()._createObject(t.body.data.sender),r=t.body.data.action,i=t.body.object.id,a=this.state[i];a||(a=this.state[i]={users:{},typing:[],paused:[]}),a.users[n.id]={startTime:Date.now(),state:r,identity:n},a.users[n.id].state===h&&delete a.users[n.id],this._updateState(a,r,n.id),this.trigger("typing-indicator-change",{conversationId:i,typing:a.typing.map(function(e){return a.users[e].identity.toObject()}),paused:a.paused.map(function(e){return a.users[e].identity.toObject()})})}}},{key:"getState",value:function(e){var t=this.state[e];return t?{typing:t.typing.map(function(e){return t.users[e].identity.toObject()}),paused:t.paused.map(function(e){return t.users[e].identity.toObject()})}:{typing:[],paused:[]}}},{key:"_updateState",value:function(e,t,n){var i=e.typing.indexOf(n);t!==d&&-1!==i&&(e.typing=[].concat(r(e.typing.slice(0,i)),r(e.typing.slice(i+1))));var a=e.paused.indexOf(n);t!==p&&-1!==a&&(e.paused=[].concat(r(e.paused.slice(0,a)),r(e.paused.slice(a+1)))),t===d&&-1===i?e.typing=[].concat(r(e.typing),[n]):t===p&&-1===a&&(e.paused=[].concat(r(e.paused),[n]))}},{key:"_startPolling",value:function(){var e=this;this._pollId||(this._pollId=setInterval(function(){return e._poll()},5e3))}},{key:"_poll",value:function(){var e=this;Object.keys(this.state).forEach(function(t){var n=e.state[t];Object.keys(n.users).forEach(function(r){Date.now()>=n.users[r].startTime+6e3&&(e._updateState(n,h,r),delete n.users[r],e.trigger("typing-indicator-change",{conversationId:t,typing:n.typing.map(function(e){return n.users[e].identity.toObject()}),paused:n.paused.map(function(e){return n.users[e].identity.toObject()})}))})})}},{key:"_getClient",value:function(){return l.get(this.clientId)}}]),t}(c);f.prototype._pollId=0,f.prototype.clientId="",f.bubbleEventParent="_getClient",f._supportedEvents=["typing-indicator-change"].concat(c._supportedEvents),c.initClass.apply(f,[f,"TypingIndicatorListener"]),e.exports=f},tpdk:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e){var t=e.chatReducer;return T({},t.activeConversation)}function s(e){return{actions:Object(u.bindActionCreators)(h,e)}}function c(e,t){var n=e.activeConversationId;return{messages:d.QueryBuilder.messages().forConversation(n).paginationWindow(t.messagePagination)}}function l(e){return{messagePagination:100}}var u=n("Ol7m"),d=n("4Ex3"),p=(n.n(d),n("SjXI")),h=(n.n(p),n("/dGF")),f=n("R+/y"),y=n("X9RD"),m=n("Ty3J"),v=n("DRm/"),g=n("m0wR"),b=n("I1te"),_=n("ZJRM"),E=n("quVU"),k=n("XLZg"),C=n("jLUq"),w=n("/cJY"),T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O=window.interfaces,S=O.Virtual,D=O.connect,x=(O.VirtualDom,function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.attachmentErrorChange=function(e){a.setState({attachmentError:e},function(){a.errorToast=setTimeout(function(){a.setState({attachmentError:!1})},1e4)})},a.closeChatWindow=function(){a.props.actions.changeActiveConversationId(null,"")},a.getHeight=function(){return a.props.isChatBlocked?267:a.props.selectedLiveJob||a.props.selectedAttachment?260:$(".message-list").height()},a.state={predefinedMsg:null,attachmentError:!1,isMsgListLoaded:!1,isFirstMsgError:!1},a.isFirstChange=!0,a.activeDivRef=null,a.messageQuery=null,a.uba=k.a.getInstance(),a.errorToast=null,a.closeError=a.closeError.bind(a),a}return a(t,e),t.prototype.messageInputChangeHandler=function(){var e=$("#chat-message-input"),t=e.height();e.height(0).height(e.prop("scrollHeight")-11);var n=e.height(),r=n-t,i=$(".chat-window .message-list");this.isFirstChange||i.height(i.height()-r),this.isFirstChange=!1,e.height()>=140?e.css("overflow","auto"):e.css("overflow","hidden")},t.prototype.changePredefinedMsg=function(e){var t=this;this.setState({predefinedMsg:e}),setTimeout(function(){t.messageInputChangeHandler()}),this.props.actions.changeComposerMessage(e)},t.prototype.getTrackObj=function(e,t,n,r,i,a){var o=t?t.metadata:{},s=n?n.metadata:{},c={chatId:e,fromId:s&&s.rpId||"",fromCompany:s&&s.employerName||"",toId:o&&o.cvId||""};if(i.length)c.msgId=i[0].id;else if(c.isFirstMsg=!0,!c.toId){var l="undefined"!=typeof chatData&&JSON.parse(chatData||{});c.toId=l.uniqId}var u={};return Object.keys(a).length&&(u=r?{hasJob:!0,jobId:a.jobId}:{hasAttachment:!0,attachmentSize:a.desc,attachmentType:a.heading}),T({},c,u)},t.prototype.componentWillMount=function(e){this.messageQuery=this.context.client.createQuery({model:layer.Query.Message,predicate:"conversation.id = '"+this.props.activeConversationId+"'"})},t.prototype.componentDidMount=function(){var e=this;this.activeDivRef&&this.activeDivRef.focus();var t=this.props.conversations.find(function(t){return t.id===e.props.activeConversationId}),n=t&&t.participants.find(function(e){return!e.sessionOwner}),r=!1;this.props.blockedUsers&&n&&this.props.blockedUsers.map(function(e){e.user_id===n.userId&&(r=!0)}),r?this.props.toggleBlockedScreen(!0):this.props.toggleBlockedScreen(!1),this.messageQuery.on("change:data",function(t){if(e.setState({isMsgListLoaded:!0}),e.props.messages.length&&"list"===e.props.windowSource){var n=e.getConversationDetails(e.props.activeConversationId),r=n.recruiter;e.uba.track("chatButtonClick",{fromId:r&&r.metadata.rpId||"",buttonSource:"gnb"})}}),this.messageQuery.on("change:insert",function(t){e.state.isMsgListLoaded||e.setState({isMsgListLoaded:!0})})},t.prototype.componentWillUnMount=function(){this.messageQuery.off("change:data"),this.messageQuery.off("change:insert")},t.prototype.sendMessage=function(e,t,n,r,i){var a=this;if(this.uba.track("chatMsgEvent",T({},i)),0===r.length){var o=void 0!==window.chatData?JSON.parse(window.chatData):{},s=o.imageId?g.a.AVATAR_DEFAULT_URL+o.imageId:g.a.AVATAR_FALLBACK_URL,c="preview"===pageName?avatarUrl:s,l=JSON.stringify({display_name:o.displayName||"",avatar_url:c||"",designation:o.designation||"",company:o.company||"",user_id:o.uniqId||"",firstMessage:"attachment"===t?g.a.FIRST_FILE_MESSAGE:"job"===t?g.a.FIRST_JOB_MESSAGE:e,chatSource:window.location.host.split(".")[0]});w.g(l).then(function(){n(e,t,a.props.owner.displayName,!0,a.context.client,a.props.activeConversationId)},function(){a.setState({isFirstMsgError:!0},function(){a.errorToast=setTimeout(function(){a.setState({isFirstMsgError:!1})},4e3)})}),w.f()}else n(e,t,this.props.owner.displayName,!1,this.context.client,this.props.activeConversationId);this.setState({predefinedMsg:null})},t.prototype.UnBlockUser=function(e,t){for(var n=this,r=this.props.blockedUsers,i=t.id.substring(t.id.lastIndexOf("/")+1),a=w.a(i,e.id,"remove"),o=[].concat(r),s=-1,c=0;c<o.length;c++)if(o[c].user_id===e.userId){s=c;break}a.then(function(e){n.props.toggleBlockedScreen(!1),-1!==s&&o.splice(s,1),n.props.saveBlockedUsers(o)},function(e){})},t.prototype.getConversationDetails=function(e){var t=this.props.conversations&&this.props.conversations.find(function(t){return t.id===e}),n=t&&t.participants.find(function(e){return!e.sessionOwner});return{activeConversation:t,jobSeeker:this.props.users&&this.props.users.find(function(e){return n&&n.userId===e.userId}),recruiter:t&&t.participants.find(function(e){return e.sessionOwner})}},t.prototype.componentWillReceiveProps=function(e){if(this.props.activeConversationId!==e.activeConversationId&&e.activeConversationId){this.activeDivRef&&this.activeDivRef.focus();var t=e.conversations.find(function(t){return t.id===e.activeConversationId}),n=t&&t.participants.find(function(e){return!e.sessionOwner}),r=!1;e.blockedUsers&&(r=0!==e.blockedUsers.filter(function(e){return e.user_id===n.userId}).length),r?this.props.toggleBlockedScreen(!0):this.props.toggleBlockedScreen(!1)}this.props.activeConversationId!==e.activeConversationId&&(this.messageQuery=this.context.client.createQuery({model:layer.Query.Message,predicate:"conversation.id = '"+e.activeConversationId+"'"})),this.props.activeConversationId&&!e.activeConversationId&&this.closeChatWindow()},t.prototype.closeError=function(){this.setState({isFirstMsgError:!1,attachmentError:!1}),clearTimeout(this.errorToast)},t.prototype.render=function(){var e=this,t=this.props,n=t.title,r=(t.composerMessage,t.activeConversationId),i=(t.conversations,t.messages),a=t.actions,o=this.getConversationDetails(r),s=o.jobSeeker,c=o.recruiter,l=(o.activeConversation,i&&i.find(function(e){return!e.sender.sessionOwner})),u=l&&l.sentAt.getTime()+""||"",d={},p=!1;if(this.props.selectedAttachment){var h=this.props.selectedAttachment.name.split(".");h[h.length-1],d.heading=this.props.selectedAttachment.name,d.desc=Math.floor(this.props.selectedAttachment.size/1024)+" KB"}else this.props.selectedLiveJob&&(p=!0,d.heading=this.props.selectedLiveJob.title,d.desc=g.a.POSTED_BY_LABEL+": "+this.props.selectedLiveJob.title,d.jobId=this.props.selectedLiveJob.jobId);var k=this.getTrackObj(r,s,c,p,this.props.messages,d);return k.lastMsgReceivedTime=u,S.createElement("div",{className:"chat-window",ref:function(t){return e.activeDivRef=t},tabIndex:"-1",style:{right:this.props.isListOpen?"370px":"3px"}},S.createElement("div",{className:"card"},S.createElement(f.a,{conversationData:this.props.conversationData,toggleBlockLightbox:a.toggleBlockLightbox,title:n,user:s,closeChatWindow:this.closeChatWindow,changePredefinedMsg:function(t){e.changePredefinedMsg(t)},recruiter:c&&c.id,recruiterDsg:c&&c.metadata.designation,recruiterCmp:c&&c.metadata.employerName,recruiterName:c&&c.displayName,isChatBlocked:this.props.isChatBlocked,activeConversationId:this.props.activeConversationId,hideDots:0===i.length,windowSource:this.props.windowSource,UnBlockUser:this.UnBlockUser.bind(this,s,c)}),this.state.attachmentError&&S.createElement(m.a,{error:this.state.attachmentError,closeError:this.closeError}),void 0,!this.state.isMsgListLoaded&&this.messageQuery.isFiring?S.createElement(C.a,{isBlocked:this.props.isChatBlocked}):i.length?S.createElement(y.a,{messages:i,onMarkMessageRead:a.markMessageRead,onLoadMoreMessages:function(){e.props.query.setQueryParams({messagePagination:e.props.query.queryParams.messagePagination+20})},changeActiveConversationId:a.changeActiveConversationId,getHeight:this.getHeight}):S.createElement(b.a,{isFirstMsgError:this.state.isFirstMsgError,closeError:this.closeError,isChatBlocked:this.props.isChatBlocked,previewSelected:this.props.selectedLiveJob||this.props.selectedAttachment}),this.props.isChatBlocked?S.createElement(_.a,{UnBlockUser:this.UnBlockUser.bind(this,s,c)}):this.props.selectedLiveJob||this.props.selectedAttachment?S.createElement(E.a,{title:d.heading,description:d.desc,sendOrRemoveAttachment:function(t){e.props.selectedLiveJob?a.selectLiveJob(t):a.selectAttachment(null)},iconClass:this.props.selectedLiveJob?"wf-chat-attach-job":"wf-chat-attach-doc",onSubmit:function(){e.props.selectedAttachment?e.sendMessage(e.props.selectedAttachment,"attachment",a.submitComposerMessage,i,k):e.sendMessage(e.props.selectedLiveJob,"job",a.submitComposerMessage,i,k)}}):S.createElement(v.a,{value:this.state.predefinedMsg,onSubmit:function(t,n){e.sendMessage(t,n,a.submitComposerMessage,i,k)},messages:i.slice(0,g.a.MESSAGE_LIMIT),user:s,toggleAttachLightBox:a.toggleBlockLightbox,selectAttachment:a.selectAttachment,attachmentErrorChange:this.attachmentErrorChange,attachmentError:this.state.attachmentError,removePredefined:function(){e.setState({predefinedMsg:null})},messageInputChangeHandler:this.messageInputChangeHandler.bind(this)})))},t}(S.PureComponent));t.a=D(o,s)(Object(p.connectQuery)(l,c)(x))},u55p:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=(n("/dGF"),n("/cJY")),s=n("xyQn"),c=n("NMAg"),l=n("FCgy"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=window.interfaces.Virtual,p=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.openChatWindow=function(e){var t=window.gnb_variables||{},n=$(e.target).parents(".callLater").length;if("preview"!==pageName){var r=$(e.target).parents(".tuple").attr("data-index"),i=srpTupleJson&&r&&srpTupleJson[r];if(i){var s=i.employement.current,u=s.designation,d=s.organization;window.chatData=JSON.stringify({company:d,designation:u,uniqId:i.uniqueIdOrig,displayName:i.name,imageId:i.imageId})}}if("undefined"!=typeof pageName&&("preview"===pageName||"SRP"===pageName)&&!window.isChatClickedOnce)return window.isChatClickedOnce=!0,a.showLoader(),window.chatBtClicked=!0,$("#tmpChatIcon").click(),void(n&&(window.callingOptionsChat=!0));localStorage.getItem("chat-tooltip-time-"+t.userId)||(localStorage.setItem("chat-tooltip-time-"+t.userId,(new Date).toString()),$(".chatMsgHover").remove()),l.c.id!==Object(c.a)("layerUId")&&window.location.reload(),a.showLoader(),a.props.loadJobs();var p=function(e){var t=e.layerID;!a.conversation||a.conversation.isSaving()||a.conversation.isSaved()||a.conversation.isSynced()||a.conversation.delete(layer.Constants.DELETION_MODE.ALL),a.conversation=a.context.client.createConversation({participants:["layer:///identities/"+t],metadata:{conversationName:"Sample Conversation"},distinct:!0}),null===a.props.blockedUsers?Object(o.b)(a.props.owner.userId).then(function(e){a.props.saveBlockedUsers(e),a.props.changeActiveConversationId(a.conversation.id,"cv"),a.hideLoader()},function(e){a.props.saveBlockedUsers([]),a.props.changeActiveConversationId(a.conversation.id,"cv"),a.hideLoader()}):(a.props.changeActiveConversationId(a.conversation.id,"cv"),a.hideLoader());var r="cvpreview";"preview"===pageName?((n||window.callingOptionsChat)&&(r="callingoptions_cvpreview"),window.callingOptionsChat=!1):r="callingoptions_srppages","undefined"!=typeof ub&&ub.track("chatButtonClick",{actionType:"click",fromId:a.props.owner&&a.props.owner.metadata&&a.props.owner.metadata.rpId||"",fromType:"recruiter",buttonSource:r,pageName:pageName})};Object(o.c)(JSON.parse(chatData).uniqId).then(function(e){p(e)},function(e){window.location.href="//resdex.naukri.com/v2/ResetLogin/displayResetLogin?requrl="+window.location.href})},a.mouseOverChatIcon=function(){0===$("[data-chat-open] .chatMsgHover").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")},a.mouseLeaveChatIcon=function(){var e=window.gnb_variables||{};localStorage.getItem("chat-tooltip-time-"+e.userId)&&$(".chatMsgHover").remove()},a.conversation=null,a.clickListener=null,a.mouseLeave=null,a.mouseOver=null,a.showToolTip(),a}return a(t,e),t.prototype.showLoader=function(){var e='<span class="msgBtnLdr"></span>';$(".initiate-chat").html(e).css("pointer-events","none"),$(".chatWithCd").html(e).css("pointer-events","none")},t.prototype.hideLoader=function(){$(".initiate-chat").html('<span class="msg-icon"><i class="fontIcon wf-chat-message"></i></span><span class="msg-btn">Chat</span>').css("pointer-events","visible"),$("#chatWithCd").html(l.b)},t.prototype.showToolTip=function(){var e=void 0;if(e="object"===("undefined"==typeof gnb_variables?"undefined":u(gnb_variables))?window.gnb_variables:{},e.userId){var t=localStorage.getItem("chat-tooltip-time-"+e.userId);if(t){var n=new Date,r=new Date(t);Object(s.e)(n,r)>0&&($("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>"),localStorage.removeItem("chat-tooltip-time-"+e.userId))}else Object(s.a)("chat-tooltip-time-"),$("[data-chat-open]").length&&$("[data-chat-open]").append("<div class='chatMsgHover'><span></span>Chat with jobseekers and get faster responses. This action does not consume any additional quota.</div>")}},t.prototype.componentWillMount=function(){this.chatOptionClickListener=$(document).on("click","#chatOptionDrpdwn",this.openChatWindow),this.clickListener=$(document).on("click","[data-chat-open]",this.openChatWindow),$("[data-chat-open]").show(),this.mouseOver=$(document).on("mouseenter","[data-chat-open]",this.mouseOverChatIcon),this.mouseLeave=$(document).on("mouseleave","[data-chat-open]",this.mouseLeaveChatIcon)},t.prototype.componentWillUnmount=function(){this.clickListener.off("click",this.openChatWindow),this.chatOptionClickListener.off("click",this.openChatWindow),this.mouseLeave.off("mouseleave",this.mouseLeaveChatIcon),this.mouseOver.off("mouseenter",this.mouseOverChatIcon)},t}(d.PureComponent);t.a=p},u9Qx:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n("4wNg"),l=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:c.Message,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow},this._conversationIdSet=!1}return s(e,[{key:"forConversation",value:function(e){return 0===e.indexOf("layer:///channels/")?(this._query.predicate="channel.id = '"+e+"'",this._conversationIdSet=!0):0===e.indexOf("layer:///conversations/")?(this._query.predicate="conversation.id = '"+e+"'",this._conversationIdSet=!0):(this._query.predicate="",this._conversationIdSet=!1),this}},{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),u=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._query.model=c.Announcement,n}return a(t,e),s(t,[{key:"build",value:function(){return this._query}}]),t}(l),d=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:t.sortBy}:{model:c.Conversation,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"sortBy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._query.sortBy=[r({},e,t?"asc":"desc")],this}},{key:"build",value:function(){return this._query}}]),e}(),p=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:c.Channel,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),h=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow,sortBy:null}:{model:c.Membership,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow,sortBy:null}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"forChannel",value:function(e){return 0===e.indexOf("layer:///channels/")?this._query.predicate="channel.id = '"+e+"'":this._query.predicate="",this}},{key:"build",value:function(){return this._query}}]),e}(),f=function(){function e(t){o(this,e),this._query=t?{model:t.model,returnType:t.returnType,dataType:t.dataType,paginationWindow:t.paginationWindow}:{model:c.Identity,returnType:"object",dataType:"object",paginationWindow:c.prototype.paginationWindow}}return s(e,[{key:"paginationWindow",value:function(e){return this._query.paginationWindow=e,this}},{key:"build",value:function(){return this._query}}]),e}(),y={messages:function(){return new l},announcements:function(){return new u},conversations:function(){return new d},channels:function(){return new p},members:function(){return new h},identities:function(){return new f},fromQueryObject:function(e){switch(e.model){case c.Message:return new l(e);case c.Announcement:return new u(e);case c.Conversation:return new d(e);case c.Channel:return new p(e);case c.Identity:return new f(e);case c.Membership:return new h(e);default:return null}}};e.exports=y},uNDA:function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"m",function(){return a}),n.d(t,"i",function(){return o}),n.d(t,"h",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"n",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"l",function(){return f}),n.d(t,"k",function(){return y}),n.d(t,"g",function(){return m}),n.d(t,"f",function(){return v});var r="CLIENT_READY",i="CHANGE_COMPOSER_MESSAGE",a="SUBMIT_COMPOSER_MESSAGE",o="MARK_MESSAGE_READ",s="LOAD_MORE_MESSAGES",c="OWNER_SET",l="naukri/CHANGE_ACTIVE_CONVERSATION_ID",u="naukri/ACTIVE_WINDOW",d="naukri/TOGGLE_BLOCK_LIGHTBOX",p="naukri/BLOCKED_USERS",h="naukri/UNREAD_CONVERSATIONS",f="naukri/SELECT_LIVE_JOB",y="naukri/SELECT_ATTACHMENT",m="naukri/LAYER_ERROR",v="naukri/LAYER_CHAT_CONNECTION"},uZkj:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("N1N5"),s=n("LTrv"),c=n("7fCg"),l=n("A+05"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=window.interfaces.Virtual,p=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={desc:"",day:"",checked:!0,time:""},n.hour="",n.minute="",n.ampm="",n.setDesc=n.setDesc.bind(n),n.setChecked=n.setChecked.bind(n),n.setTime=n.setTime.bind(n),n.initializeCalender=n.initializeCalender.bind(n),n.initializeFormSubmit=n.initializeFormSubmit.bind(n),n.submitAddTaskForm=n.submitAddTaskForm.bind(n),n.openCalender=n.openCalender.bind(n),n.hourDDInstance=null,n.minuteDDInstance=null,n.AMPMDDInstance=null,n.$calenderNode=null,n.formValidator=null,n}return a(t,e),t.prototype.attributeChangedCallback=function(e){if(e.formData.desc!=this.state.desc&&this.setState({desc:e.formData.desc}),e.formData.dateStr!=this.getDateStr()){var t=void 0,n=void 0;if("now"==e.formData.dateStr||"todo"==e.formData.type)t=new Date;else{t=new Date(e.formData.dateStr);var r=Object(o.m)(t),i=r.hours,a=r.minutes,s=r.ampm;this.hourDDInstance.replaceData({data:c.c,prefillData:i}),this.minuteDDInstance.replaceData({data:c.d,prefillData:Object(c.b)(c.d,a+"")}),this.AMPMDDInstance.replaceData({data:c.a,prefillData:s})}n=Object(o.i)(t),this.$calenderNode.tnr_datepicker("update",n.match(/\d{2}.\d{2}.\d{4}/)[0]),this.setDay(t)}},t.prototype.attachedCallback=function(){this.initializeDDs(),this.initializeCalender(document.forms.addTaskForm.elements[1])},t.prototype.setDesc=function(e){this.setState({desc:e.target.value})},t.prototype.setDay=function(e){var t=Object(o.h)(e),n=t.mm,r=t.dd,i=t.yyyy;this.setState({day:n+"/"+r+"/"+i})},t.prototype.setTime=function(){var e=this.hour.trim()+":"+this.minute.trim()+" "+this.ampm.trim();this.setState({time:e})},t.prototype.checkError=function(){return this.hour&&this.minute&&this.ampm?($("#addTaskForm #selectTime_err").removeClass("err"),!1):($("#addTaskForm #selectTime_err").addClass("err"),!0)},t.prototype.setChecked=function(e){this.setState({checked:e.target.checked})},t.prototype.getDateStr=function(){var e=this.state.day.split("/"),t=e[0];return e[1]+"/"+t+"/"+e[2]+" "+this.state.time},t.prototype.initializeCalender=function(e){var t=this;this.$calenderNode=$(e);var n=new Date;this.$calenderNode.tnr_datepicker({format:"mm/dd/yyyy",onRender:function(e){return $("#addTaskLB-container  #legend-container").hide(),e.valueOf()<new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0).valueOf()?"disabled":""},container:"#addTaskLB-container"}).on("changeDate",function(e){$(".datepicker").hide(),t.setDay(e.date)}).on("click",function(){$(this).tnr_datepicker("show")})},t.prototype.initializeDDs=function(){var e=this,t={id:"hoursDD",data:c.c,searchBox:!0,onChange:function(t,n){e.hour=n,void 0!=n&&$("#addTaskForm #selectMinutes").focus()},onBlur:function(t,n){e.hour=c.c[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.hourDDInstance=new s.a(t);var n={id:"minutesDD",data:c.d,searchBox:!0,onChange:function(t,n){e.minute=n,void 0!=n&&$("#addTaskForm #selectAMPM").focus()},onBlur:function(t,n){e.minute=c.d[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.minuteDDInstance=new s.a(n);var r={id:"AMPMDD",data:c.a,searchBox:!0,onChange:function(t,n){e.ampm=n},onBlur:function(t,n){e.ampm=c.a[t]},selectOnBlur:!0,maxHeight:150,minWidth:150};this.AMPMDDInstance=new s.a(r),customScroll.init()},t.prototype.initializeFormSubmit=function(e){var t=this;setTimeout(function(){t.formValidator=tnr_validator("addTaskForm",["addTaskBtnLB"])},1e3)},t.prototype.openCalender=function(){this.$calenderNode.click()},t.prototype.submitAddTaskForm=function(){var e=this,t="notify";if(this.checkError()){if(Object(o.o)(this.state.day))return!1;$("#addTaskForm #selectTime_err").removeClass("err"),this.hour="09",this.minute="00",this.ampm="AM",t="todo"}this.setTime(),this.formValidator.isValid()&&($("#success-message,#error-message").hide(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","none"),this.props.submitFormData(u({},this.props.formData,{desc:this.state.desc,checked:this.state.checked,dateStr:this.state.day+" "+this.state.time,type:t})).then(function(t){t.data.taskData?($("#success-message").show(),setTimeout(function(){$("#success-message").hide(),e.props.addTaskLBInstance.close()},2e3)):t.data.validationErrors?$("#error-message").html(t.data.validationErrors[0].message).show():t.data.status.indexOf("INVALID_SESSION")>-1&&window.location.reload(),$("#addTaskForm #addTaskBtnLB").css("pointer-events","auto")}))},t.prototype.render=function(){return this.title=l.c[this.props.formData.selectedTag],d.createElement("div",{id:"link_lightBox",className:"ltBx materialize"},d.createElement("div",{className:"ltGlobalHd"},d.createElement("div",{className:"ltGlobalTtl",id:"ltTitle"},this.props.editTaskLB?"Edit Reminder":this.title),d.createElement("a",{className:"ltGlobalCls lt_close",href:"javascript:"},d.createElement("em",{className:"iconCrossLb"}))),d.createElement("div",{className:"ltCntAddTask"},d.createElement("form",{id:"addTaskForm",name:"addTaskForm",className:"lt-frm",method:"post",action:"",ref:this.initializeFormSubmit},d.createElement("div",{className:"field-container"},d.createElement("label",{className:"mr15 field-label"},"Task Description"),d.createElement("input",{className:"input-field",type:"text",id:"taskDesc",name:"taskDesc",style:"margin-right: 24px;",rel:"required:tnr_1100,custom:tnr_1110",maxlength:"255",placeholder:"Task/Interview/Follow-up details in short",value:this.state.desc,onChange:this.setDesc}),d.createElement("i",{className:"erLbl",id:"taskDesc_err"})),d.createElement("div",{className:"oh"},d.createElement("div",{className:"field-container fl w33"},d.createElement("label",{className:"mr15 field-label"},"Remind me on Date"),d.createElement("div",{id:"calenderDD",className:"ddwn fieldDD",onClick:this.openCalender},d.createElement("div",{className:"DDwrap"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"fontIcon wf-calendar calenderIcon"}),d.createElement("span",{className:"arw DDarwDwn"}),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field",type:"text",id:"calender",name:"calender",style:"margin-right: 24px;",placeholder:"Today",value:this.state.day,readonly:!0})))))),d.createElement("div",{id:"addTaskLB-container",style:{position:"absolute",lineHeight:"0"}}),d.createElement("i",{className:"erLbl fr",id:"calender_err"})),d.createElement("div",{className:"field-container time-container fl w33"},d.createElement("label",{className:"mr15 field-label"},"Time"),d.createElement("div",{className:"time-container oh"},d.createElement("div",{className:"w33 fl"},d.createElement("div",{id:"hoursDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectHours",type:"text",id:"selectHours",placeholder:"HH"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"minutesDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("span",{className:"colon-icon",style:"display:inline-block;"},":"),d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectMinutes",type:"text",id:"selectMinutes",placeholder:"MM"}))))))),d.createElement("div",{className:"w27 fl"},d.createElement("div",{id:"AMPMDD",className:"ddwn fieldDD"},d.createElement("div",{className:"DDwrap flatInpCont"},d.createElement("ul",{className:"DDsearch"},d.createElement("li",{className:""},d.createElement("div",{className:"DDinputWrap"},d.createElement("input",{className:"input-field flatInp srchTxt",name:"selectAMPM",type:"text",placeholder:"AM/PM",id:"selectAMPM"}))))))),d.createElement("span",{className:"fontIcon wf-Time clockIcon"})),d.createElement("i",{className:"erLbl fr",id:"selectTime_err"},"Please select a valid time"))),d.createElement("div",{className:"field-container"},d.createElement("div",{className:"chkZ chkPrompt mt5"},d.createElement("input",{type:"checkbox",name:"attachCalender",checked:this.state.checked,onChange:this.setChecked,id:"outlookChk"}),d.createElement("label",{for:"outlookChk"},d.createElement("span",null)," Mail calendar invitation to me"))),d.createElement("div",{className:"addTask-ltCntntFoot"},d.createElement("button",{className:"lt-btn",id:"addTaskBtnLB",type:"button",onClick:this.submitAddTaskForm},this.props.editTaskLB?"EDIT REMINDER":"SET REMINDER"),d.createElement("a",{href:"javascript:void(0)",className:"lt_close"},"CANCEL"),d.createElement("div",{id:"success-message",class:"green mt10 dspN"},this.props.editTaskLB?"Your task has been updated successfully":"Your task has been added successfully"),d.createElement("div",{id:"error-message",class:"erLbl newErr mt10 dspN"})))))},t}(d.Component);p.PropTypes={formData:d.PropTypes.object,editTaskLB:d.PropTypes.bool,submitFormData:d.PropTypes.func,addTaskLBInstance:d.PropTypes.func},t.a=p},wD5F:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("A+05"),s=n("uZkj"),c=n("sin9"),l=n("XynH"),u=n("N1N5"),d=window.interfaces,p=d.Virtual,h=d.VirtualDom,f=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.addTaskFlow=o.b.inLightBox,n.addTaskLbInstance=null,n.addTaskModel=null,n.dropLayerModel=null,n.addTaskForm=null,n.openAddTaskLb=n.openAddTaskLb.bind(n),n.setAddTaskModel=n.setAddTaskModel.bind(n),n.setDropLayerModel=n.setDropLayerModel.bind(n),n.setAddTaskFlow=n.setAddTaskFlow.bind(n),n.debouncedFocusBlur=Object(u.c)(n.debouncedFocusBlur.bind(n),300),n.editLightBox=!1,n.activeTupleKey="",n.removeDropLayerContent=!1,n.triggerElm=null,n}return a(t,e),t.prototype.attributeChangedCallback=function(e){e.formData!=this.props.formData&&this.renderTemplate(e)},t.prototype.renderTemplate=function(e){var t=e||this.props;this.addTaskFlow==o.b.inLightBox?(h.render(p.createElement(s.a,{formData:t.formData,addTaskLBInstance:this.addTaskLbInstance,submitFormData:this.props.submitFormData,editTaskLB:this.editLightBox}),this.addTaskModel),this.addTaskLbInstance.resize()):this.removeDropLayerContent?h.render(null,this.dropLayerModel.firstChild):this.addTaskFlow==o.b.inDropLayer?h.render(p.createElement(c.a,{formData:t.formData,addTaskLBInstance:this.addTaskLbInstance,submitFormData:this.props.submitFormData,triggerElm:this.triggerElm}),this.dropLayerModel.firstChild):this.addTaskFlow==o.b.dueDateInDropLayer&&h.render(p.createElement(l.a,{tupleKey:this.activeTupleKey,formData:t.formData,submitFormData:this.props.submitFormData,setAddTaskFlow:this.setAddTaskFlow,triggerElm:this.triggerElm}),this.dropLayerModel.firstChild)},t.prototype.attachedCallback=function(){var e=this;$(document).on("click","[data-tnr-addtask]",function(t){var n=t.currentTarget;e.triggerElm=t.currentTarget,e.activeTupleKey=n.getAttribute("data-tuplekey")||"";var r=n.getAttribute("data-tnr-addtask"),i=r.split("|"),a=i[0],s=void 0===a?"":a,c=i[1],l=void 0===c?"":c,d=i[2],p=void 0===d?[]:d,h=i[3],f=void 0===h?"":h,y=i[4],m=void 0===y?"":y,v=i[5],g=void 0===v?"":v,b=i[6],_=void 0===b?null:b,E=i[7],k=void 0===E?null:E,C=i[8],w=i[9],T=void 0,O=void 0;Object(u.n)()&&!_&&(O=Object(u.k)()),e.editLightBox=null!=_,T=void 0!==window.hfFlowName?window.hfFlowName:null,l!=o.a.later?n.hasAttribute("data-tnr-addTask-indroplayer")?(e.setAddTaskFlow(o.b.inDropLayer),e.openDropLayer(n)):(e.setAddTaskFlow(o.b.inLightBox),e.openAddTaskLb()):(e.setAddTaskFlow(o.b.dueDateInDropLayer),e.openDropLayer(n)),e.props.updateFormData({desc:s,dateStr:l,searchableEntities:p.split(","),context:f||O,contextSource:m,selectedTag:g,id:_,reminderId:k,type:C,hfFlowName:T,triggerSource:w})}),this.initalizeLightBox()},t.prototype.initalizeLightBox=function(){var e=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(t){var n=t.lightBox,r={trigger:$("<div>"),model:$(e.addTaskModel),resetForm:!1,routing:!1,dimens:{width:"720px"},open:{success:function(){if(setTimeout(function(){$("#addTaskForm .erLbl").removeClass("err")}),e.editLightBox)$(".materialize #ltTitle").html("Edit Task"),$(".materialize #addTaskBtn").html("Edit Task");else{$(".materialize #ltTitle").html("Add Task"),$(".materialize #addTaskBtn").html("Add Task");try{ub.track("notificationEvent",{snooze:null,snoozeSource:null,snoozeTime:null,dismiss:null,dismissSource:null,taskType:"add",status:null,taskSource:null,taskViewed:null,actionType:"click",lightboxOpen:!0,recruiterId:gnb_variables.userId,companyId:gnb_variables.companyName})}catch(e){}}},event:"click",anim:{className:"flipOpen"},minZIndex:2e3},close:{nodes:{target:e.addTaskModel,selector:".lt_close"},layer:!1,success:function(){$(".datepicker").hide()},anim:{className:"flipClose",duration:300}}};e.addTaskLbInstance=n(r),e.renderTemplate()})},t.prototype.setAddTaskFlow=function(e){this.addTaskFlow=e},t.prototype.setAddTaskModel=function(e){this.addTaskModel=e.firstChild},t.prototype.openAddTaskLb=function(){this.addTaskLbInstance.open()},t.prototype.setDropLayerModel=function(e){this.dropLayerModel=e.firstChild},t.prototype.openDropLayer=function(e){var t=this;this.removeDropLayerContent=!1,$(this.dropLayerModel).insertAfter($(e)),$(this.dropLayerModel).attr("tabIndex","-1"),$(this.dropLayerModel).on("focusin",function(e){$(e.target).hasClass("closeDropLayer")?t.debouncedFocusBlur(e,t.onBlurDropLayer):$(e.target).hasClass("focusDropLayer")?$(t.dropLayerModel).focus():t.debouncedFocusBlur(e,t.onFocusDropLayer)}).on("focusout",function(e){t.addTaskFlow!=o.b.inDropLayer&&t.debouncedFocusBlur(e,t.onBlurDropLayer)}),$(this.dropLayerModel).focus()},t.prototype.onFocusDropLayer=function(e){$(this.dropLayerModel.firstChild).removeClass("hide")},t.prototype.onBlurDropLayer=function(e){$(this.dropLayerModel).removeAttr("tabIndex"),this.destroyDropLayer()},t.prototype.destroyDropLayer=function(){this.removeDropLayerContent=!0,this.renderTemplate(this.props),$(this.dropLayerModel).remove()},t.prototype.debouncedFocusBlur=function(e,t){t.call(this,e)},t.prototype.render=function(){return p.createElement("div",null,p.createElement("div",{ref:this.setAddTaskModel},p.createElement("div",{className:"lightbox"})),p.createElement("div",{ref:this.setDropLayerModel},p.createElement("div",{className:"materialize dropLayer dropLayer-addTask "},p.createElement("div",{className:"z-depth-4 content hide"}))))},t}(p.Component);f.propTypes={formData:p.PropTypes.object,updateFormData:p.PropTypes.func,submitFormData:p.PropTypes.func},t.a=f},wyU0:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},l=n("pop0"),u=n("H8F6"),d=n("VdYS"),p=n("pLky").dictionary,h=n("sDhs"),f=n("PT5i"),y=n("M3Kp"),m=n("bD8U"),v=n("ogE9"),g=n("tag4"),b=n("jPMo"),_=n("zi+W"),E=n("Z/oI"),k=n("P+Qc"),C=n("5WAC"),w=n("NOS6"),T=n("g5D4"),O=function(e){function t(e){r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return E.register(n),n._models={},n._runMixins("constructor",[e]),n._scheduleCheckAndPurgeCacheItems=[],n._initComponents(),n.on("online",n._connectionRestored.bind(n)),k.info(b.asciiInit(t.version)),n}return a(t,e),s(t,[{key:"_initComponents",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_initComponents",this).call(this),this._typingIndicators=new g({clientId:this.appId}),this.telemetryMonitor=new T({client:this,enabled:this.telemetryEnabled})}},{key:"_cleanup",value:function(){if(!this.isDestroyed){this._inCleanup=!0;try{this._runMixins("cleanup",[])}catch(e){k.error(e)}this.socketManager&&this.socketManager.close(),this._inCleanup=!1}}},{key:"destroy",value:function(){this._cleanup(),this._destroyComponents(),E.unregister(this),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"destroy",this).call(this),this._inCleanup=!1}},{key:"__adjustAppId",value:function(){if(this.appId)throw new Error(p.appIdImmutable)}},{key:"_fixIdentities",value:function(e){var t=this;return e.map(function(e){if(e instanceof m)return e;if("string"==typeof e)return t.getIdentity(e,!0);if(e&&"object"===(void 0===e?"undefined":o(e))){if("userId"in e)return t.getIdentity(e.id||e.userId);if("user_id"in e)return t._createObject(e)}return null})}},{key:"getObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(b.typeFromID(e)){case"messages":case"announcements":return this.getMessage(e,t);case"conversations":return this.getConversation(e,t);case"channels":return this.getChannel(e,t);case"queries":return this.getQuery(e);case"identities":return this.getIdentity(e,t);case"members":return this.getMember(e,t)}return null}},{key:"_createObject",value:function(e){var t=this.getObject(e.id);if(t)return t._populateFromServer(e),t;switch(b.typeFromID(e.id)){case"messages":if(e.conversation)return h._createFromServer(e,this);if(e.channel)return f._createFromServer(e,this);break;case"announcements":return y._createFromServer(e,this);case"conversations":return u._createFromServer(e,this);case"channels":return d._createFromServer(e,this);case"identities":return m._createFromServer(e,this);case"members":return v._createFromServer(e,this)}return null}},{key:"_updateContainerId",value:function(e,t){e instanceof u?this._updateConversationId(e,t):this._updateChannelId(e,t)}},{key:"_processDelayedTriggers",value:function(){if(!this.isDestroyed){var e=this._delayedTriggers.filter(function(e){return"conversations:add"===e[0]}),n=this._delayedTriggers.filter(function(e){return"conversations:remove"===e[0]});this._foldEvents(e,"conversations",this),this._foldEvents(n,"conversations",this);var r=this._delayedTriggers.filter(function(e){return"messages:add"===e[0]}),i=this._delayedTriggers.filter(function(e){return"messages:remove"===e[0]});this._foldEvents(r,"messages",this),this._foldEvents(i,"messages",this);var a=this._delayedTriggers.filter(function(e){return"identities:add"===e[0]}),o=this._delayedTriggers.filter(function(e){return"identities:remove"===e[0]});this._foldEvents(a,"identities",this),this._foldEvents(o,"identities",this),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_processDelayedTriggers",this).call(this)}}},{key:"trigger",value:function(e,n){this._triggerLogger(e,n),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"trigger",this).call(this,e,n)}},{key:"_triggerLogger",value:function(e,t){if(-1!==["conversations:add","conversations:remove","conversations:change","messages:add","messages:remove","messages:change","identities:add","identities:remove","identities:change","challenge","ready"].indexOf(e)){if(t&&t.isChange)k.info("Client Event: "+e+" "+t.changes.map(function(e){return e.property}).join(", "));else{var n="";t&&(t.message&&(n=t.message.id),t.messages&&(n=t.messages.length+" messages"),t.conversation&&(n=t.conversation.id),t.conversations&&(n=t.conversations.length+" conversations"),t.channel&&(n=t.channel.id),t.channels&&(n=t.channels.length+" channels")),k.info("Client Event: "+e+" "+n)}t&&k.debug(t)}else k.debug(e,t)}},{key:"_resetSession",value:function(){return this._cleanup(),this._runMixins("reset",[]),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_resetSession",this).call(this)}},{key:"_checkAndPurgeCache",value:function(e){var t=this;this._inCheckAndPurgeCache=!0,e.forEach(function(e){e.isDestroyed||t._isCachedObject(e)||(e instanceof _==0&&(e=t.getObject(e.id)),e&&e.destroy())}),this._inCheckAndPurgeCache=!1}},{key:"_scheduleCheckAndPurgeCache",value:function(e){var n=this;e.isSaved()&&(this._scheduleCheckAndPurgeCacheAt<Date.now()&&(this._scheduleCheckAndPurgeCacheAt=Date.now()+t.CACHE_PURGE_INTERVAL,setTimeout(function(){return n._runScheduledCheckAndPurgeCache()},t.CACHE_PURGE_INTERVAL)),this._scheduleCheckAndPurgeCacheItems.push(e))}},{key:"_runScheduledCheckAndPurgeCache",value:function(){var e=this._scheduleCheckAndPurgeCacheItems;this._scheduleCheckAndPurgeCacheItems=[],this._checkAndPurgeCache(e),this._scheduleCheckAndPurgeCacheAt=0}},{key:"_isCachedObject",value:function(e){for(var t=Object.keys(this._models.queries),n=0;n<t.length;n++)if(this._models.queries[t[n]]._getItem(e.id))return!0;return!1}},{key:"_connectionRestored",value:function(e){var t=this;e.reset&&(k.debug("Client Connection Restored; Resetting all Queries"),this.dbManager.deleteTables(function(){t.dbManager._open(),Object.keys(t._models.queries).forEach(function(e){var n=t._models.queries[e];n&&n.reset()})}))}},{key:"createTypingListener",value:function(e){return new C({clientId:this.appId,input:e})}},{key:"createTypingPublisher",value:function(){return new w({clientId:this.appId})}},{key:"getTypingState",value:function(e){return this._typingIndicators.getState(e)}}],[{key:"getClient",value:function(e){return E.get(e)}},{key:"destroyAllClients",value:function(){E.getAll().forEach(function(e){return e.destroy()})}},{key:"addListenerForNewClient",value:function(e){E.addListener(e)}},{key:"removeListenerForNewClient",value:function(e){E.removeListener(e)}}]),t}(l);O.prototype._scheduleCheckAndPurgeCacheItems=null,O.prototype._scheduleCheckAndPurgeCacheAt=0,O.prototype.telemetryEnabled=!0,O.prototype.telemetryMonitor=null,O.prototype._tabId=b.generateUUID(),O.version="3.4.13",O.CACHE_PURGE_INTERVAL=72e5,O._ignoredEvents=["conversations:loaded","conversations:loaded-error"],O._supportedEvents=["typing-indicator-change"].concat(l._supportedEvents),O.mixins=[n("XoSQ"),n("iqth"),n("bONa"),n("oXlP"),n("TGOB"),n("36Uf"),n("nFsS")],_.initClass.apply(O,[O,"Client"]),e.exports=O},xqO5:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("Y6jE"),s=n("2RmU"),c=n("793I"),l=n("lplE"),u=n("5JU8"),d=(n("0Psq"),n("FPOI")),p=(n.n(d),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),h=window.interfaces,f=h.Virtual,y=h.Redux,m=h.Provider,v=(h.page,y.bindActionCreators,window.interfaces.routeUtil.LazilyLoadWithLoader,window.interfaces.storeUtil.UpdateStoreAndStyles),g=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));n.store=null,n.state=void 0;var a=[];Object(o.a)(n.state,function(e){n.store=e,n.store.subscribe(function(){n.setState(n.store.getState())}),Object(s.a)(n.store),n.setState(n.store.getState()),a.forEach(function(e){return e(n.store)})}),requirejs(["text!pathStatic0_0/c/model_v5/modelWindow.css","pathStatic0_0/j/model_v5/modelWindow.amd"],function(e,t){var n=t.modelSetup;$("head").append("<style>"+e+"</style>"),n()});var c={renderTaskList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];n.store?u.a(p({},e,{store:n.store}),t):a.push(function(n){return u.a(p({},e,{store:n}),t)})}};return define("module_tnr_cvPreview",c),n}return a(t,e),t.prototype.renderLazyFlow=function(e){var t=e.flow,n=t.default,r=n.reducer,i=n.FlowContainer;return f.createElement(v,{reducer:r},function(){return i?f.createElement(i,{pageName:""}):null})},t.prototype.render=function(){return this.store?(f.createElement(l.a,{size:"small"}),f.createElement(m,{store:this.store},f.createElement("div",{className:"root materialize"},f.createElement(c.a,null)))):null},t}(f.PureComponent);t.a=g},xrGV:function(e,t){e.exports="//static.naukimg.com/s/5/102/i/chat-feedback.png"},xyQn:function(e,t,n){"use strict";function r(e){if(!(e instanceof Date))return"";var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return e.getDate()+" "+t[e.getMonth()]}function i(e){return e instanceof Date?r(e)+" "+e.getFullYear():""}function a(e){return e instanceof Date?r(e)+"' "+e.getFullYear().toString().substr(-2):""}function o(e){if(!(e instanceof Date))return"before";var t=new Date;return t.getFullYear()!==e.getFullYear()||t.getMonth()!==e.getMonth()?"before":t.getDate()-e.getDate()==1?"yesterday":t.getDate()-e.getDate()==0?"today":"before"}function s(e){if(!(e instanceof Date))return"";var t=e.getHours(),n=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r="am";return t>=12&&(r="pm"),t%=12,0===t&&(t=12),t+":"+n+" "+r}function c(e){if(!(e instanceof Date))return"";var t=new Date,n=Math.abs(e-t)/1e3,r=void 0,i=void 0;return n<60?r="now":n/60<60?(i=Math.round(n/60),r=0===i?"1 minute":i+" minute",r=i>1?r+"s":r):(i=Math.round(n/3600),r=0===i?"1 hour":i+" hour",r=i>1?r+"s":r),r}function l(e){if(!e)return[];var t=[];return Object.keys(e).forEach(function(n){t.push(e[n])}),t}function u(e){return("string"==typeof e||e instanceof String)&&null!==/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:\/?#[\]@!\$&'\(\)\*\+,;=.]+$/.exec(e)}function d(e,t){if(!(e instanceof Date&&t instanceof Date))return-1;var n=e-t;return n=Math.round(n/864e5)}function p(e){if("string"==typeof e&&e){for(var t=[],n=0;n<localStorage.length;n++)localStorage.key(n).substring(0,e.length)==e&&t.push(localStorage.key(n));for(var n=0;n<t.length;n++)localStorage.removeItem(t[n])}}function h(e){return"string"!=typeof e?null:e?e.split(" ").map(function(e){return e.charAt(0).toUpperCase()+e.toLowerCase().slice(1)}).join(" "):null}t.d=r,t.f=i,t.g=a,t.c=o,t.b=s,t.h=c,t.k=l,t.j=u,t.e=d,t.a=p,t.i=h,n("m0wR"),window.interfaces.Virtual},y358:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(){document.cookie="layerUId=;expires=Thu, 01 Jan 1970 00:00:01 GMT;path=/;domain=.naukri.com"}var s=n("zfW1"),c=n("wD5F"),l=n("X/1R"),u=n("eFX6"),d=n("AXAs"),p=n("u55p"),h=window.interfaces.Virtual;(window.location.href.indexOf("ResetLogin/displayResetLogin")>-1||window.location.href.indexOf("ChangeLogin/DisplayChangeLogin")>-1)&&(shouldLoadChat="0"),"undefined"!=typeof gnb_variables&&"1"===gnb_variables.isSuperuser&&($(document).on("mouseenter","[open-chat-list]",function(e){$("[open-chat-list]").append("<div class='superUserMsg'><span></span><p>Chat with candidates from their profile page. Please login as a subuser and go to candidate's Resdex profile page to start the chat.</p></div>")}),$(document).on("mouseleave","[open-chat-list]",function(e){$(".superUserMsg").remove()})),$(".gnb_lblFoot").on("click",function(){o()}),$(".subBor").on("click",function(){o()}),(location.pathname.indexOf("/ResetLogin/displayResetLogin")>-1||location.pathname.indexOf("/ChangeLogin/displayChangeLogin")>-1)&&o();var f=function(e){function t(n){r(this,t);var a=i(this,e.call(this,n));return a.state={shoulLayerConnect:!1},a}return a(t,e),t.prototype.renderChatIcon=function(){var e=this;return"undefined"==typeof pageName||"preview"!==pageName&&"SRP"!==pageName?h.createElement(d.a,null):this.state.shoulLayerConnect?h.createElement(d.a,null):h.createElement("div",{id:"tmpChatIcon",onClick:function(){e.setState({shoulLayerConnect:!0})},"open-chat-list":"",className:"right gnbChatIcon",tabIndex:"-1"},h.createElement("span",{className:"fontIcon wf-chat-icon right"})," ",h.createElement(p.a,{id:"tmpChatBtn"}))},t.prototype.render=function(){var e=this.props,t=e.notification,n=e.taskDataMap,r=e.notifDataMap,i=e.getNotification,a=(e.resetNotification,e.notificationCountViewed),o=e.calenderDataMap,d=e.reminderDataMap,p=e.getTask,f=e.setNotificationCount,y=e.addTaskForm,m=e.updateAddTaskForm,v=e.submitAddTaskForm,g=e.completeTaskAction,b=e.deleteTaskAction,_=e.hideReminder,E=e.updateReminderAction,k=e.addTasks;return h.createElement("div",null,h.createElement(u.a,{getTask:p,taskDataMap:n,editTask:v,completeTask:g,calenderDataMap:o,reminderDataMap:d,hideReminder:_,updateReminder:E,addTasks:k}),h.createElement(c.a,{formData:y,updateFormData:m,submitFormData:v}),"undefined"!=typeof shouldLoadChat&&"1"===shouldLoadChat&&("undefined"!=typeof gnb_variables&&"1"===gnb_variables.isSuperuser?h.createElement("div",{"open-chat-list":"",className:"right gnbChatIcon",tabIndex:"-1"},h.createElement("span",{className:"fontIcon wf-chat-icon right"})):this.renderChatIcon()),h.createElement(s.a,{notification:t,taskDataMap:n,notifDataMap:r,getNotification:i,setNotificationCount:f,notificationCountViewed:a}),h.createElement(l.a,{getTask:p,taskDataMap:n,deleteTask:b,completeTask:g,calenderDataMap:o,reminderDataMap:d,addTasks:k}),h.createElement("div",{className:"clearfix"}))},t}(h.PureComponent);t.a=f},yUvy:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){var i=this;r(this,e);var a=this;n.match(/:change$/)?(this.changes=[{}],a=this.changes[0],this.isChange=!0):this.isChange=!1,Object.keys(t).forEach(function(e){a!==i&&"target"===e?i.target=t.target:a[e]=t[e]}),this.eventName=n}return i(e,[{key:"hasProperty",value:function(e){return!!this.isChange&&Boolean(this.changes.filter(function(t){return t.property===e}).length)}},{key:"getChangesFor",value:function(e){return this.isChange?this.changes.filter(function(t){return t.property===e}):[]}},{key:"_mergeChanges",value:function(e){this.changes=this.changes.concat(e.changes)}}]),e}();a.prototype.isChange=!1,a.prototype.changes=null,a.prototype.target=null,a.prototype.eventName="",e.exports=a},yjHx:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("m0wR"),s=n("XLZg"),c=n("/cJY"),l=window.interfaces,u=l.Virtual,d=(l.VirtualDom,function(e){function t(){r(this,t);var n=i(this,e.call(this));return n.lightbox=null,n.lightboxModal=null,n.lightboxRef=n.lightboxRef.bind(n),n.state={dataLoading:!1},n.uba=s.a.getInstance(),n}return a(t,e),t.prototype.attachedCallback=function(){this.initalizeDrawer()},t.prototype.componentWillUnmount=function(){this.lightboxModal&&this.lightboxModal.destroy()},t.prototype.closeLightbox=function(){this.props.toggleBlockLightbox({openBlockLightbox:!1}),this.lightboxModal.close()},t.prototype.lightboxRef=function(e){this.lightbox=e&&e.firstChild},t.prototype.initalizeDrawer=function(){var e=this;requirejs(["pathStatic0_0/j/model_v5/modelWindow.amd"],function(t){var n=t.lightBox,r={trigger:$("<div>"),model:$(e.lightbox),dir:"right",routing:!1,minZIndex:"999999999",fixed:!0,open:{event:"",anim:"",success:function(){}},dimens:{width:"457px",height:"201px"},close:{esc:!0,layer:!1,anim:"",success:function(){e.closeLightbox()}}};e.lightboxModal=n(r),e.lightboxModal.open()})},t.prototype.blockUser=function(e){var t=this;$(".bock-chat-action-bt .chat-button-left").addClass("block-actions-disabled");var n=this.props.conversationData,r=n.recruiterId,i=n.jobSeekerId,a=n.jobSeeker,o=n.owner,s=this.props.blockedUsers;a=a.user,r=r.substring(r.lastIndexOf("/")+1);var l=c.a(r,i,e),u=[].concat(s);l.then(function(e){$(".bock-chat-action-bt .chat-button-left").removeClass("block-actions-disabled"),t.closeLightbox(),t.props.toggleBlockedScreen(!0),u.push({user_id:a.userId}),t.props.saveBlockedUsers(u),t.uba.track("chatBlocked",{fromId:o&&o.metadata&&o.metadata.rpId||"",fromCompany:o&&o.metadata&&o.metadata.employerName||"",toId:a&&a.metadata&&a.metadata.cvId||""})},function(e){$(".bock-chat-action-bt .chat-button-left").removeClass("block-actions-disabled")})},t.prototype.render=function(){var e=this,t=this.props.conversationData,n=(JSON.parse(window.chatData||"{}"),t&&t.jobSeeker&&t.jobSeeker.user.displayName);return n||(n=" this candidate"),u.createElement("div",{className:"block-chat-lightbox-wrapper",ref:this.lightboxRef},u.createElement("div",{className:"block-chat-lightbox lightbox",style:{background:"white",zIndex:99999}},u.createElement("div",null,u.createElement("div",{className:"block-chat-wrapper"},u.createElement("div",{class:"block-chat-text"},u.createElement("p",null,o.a.BLOCK_USER_LABEL+" "+n+o.a.QUESTION_MARK_LABEL)),u.createElement("div",{class:"block-chat-close"},u.createElement("span",{onClick:function(){e.closeLightbox()}},u.createElement("i",{className:"fontIcon wf-chat-cross"})))),u.createElement("div",{className:"bock-chat-actions"},u.createElement("div",{className:"text-level2"},u.createElement("p",null,o.a.BLOCK_USER_WARNING_LABEL_1+n+" "+o.a.BLOCK_USER_WARNING_LABEL_2)),u.createElement("div",{className:"bock-chat-action-bt"},u.createElement("span",{className:"chat-button-left",onClick:function(){e.blockUser("add")}},o.a.BLOCK_LABEL),u.createElement("span",{className:"chat-button-right",onClick:function(){e.closeLightbox()}},o.a.DONT_BLOCK_LABEL))))))},t}(u.Component));t.a=d},yt7V:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=window.interfaces.Virtual,s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return o.createElement("div",{className:"shimmer-wrapper"},o.createElement("box",{className:"shine"}),o.createElement("div",null,o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"})),o.createElement("br",null),o.createElement("box",{className:"shine"}),o.createElement("div",null,o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"})),o.createElement("br",null),o.createElement("box",{className:"shine"}),o.createElement("div",null,o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"})),o.createElement("br",null),o.createElement("box",{className:"shine"}),o.createElement("div",null,o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"}),o.createElement("lines",{className:"shine"})))},t}(o.Component);t.a=s},yvWW:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return s});var o=(n("Kd6K"),window.interfaces.Virtual),s=function(e){function t(){return r(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.render=function(){return o.createElement("div",{className:"chat-list-empty-search"},o.createElement("div",{className:"no-result-icon "+this.props.class},o.createElement("img",{src:this.props.icon})),this.props.children)},t}(o.PureComponent)},zTev:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},c=n("zi+W"),l=n("kesd"),u=l.SYNC_STATE,d=n("pLky"),p=n("Z/oI"),h=n("kesd"),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.localCreatedAt=new Date,n}return a(t,e),o(t,[{key:"getClient",value:function(){return p.get(this.clientId)}},{key:"_xhr",value:function(e,t){var n=this;e.url||(e.url=""),e.method||(e.method="GET");var r=this.getClient();if(this.isDestroyed)throw new Error(d.dictionary.isDestroyed);if(!r)throw new Error(d.dictionary.clientMissing);return this.constructor.enableOpsIfNew||"POST"===e.method||"GET"===e.method||this.syncState!==h.SYNC_STATE.NEW?(e.url.match(/^https?:\/\//)||(e.url&&!e.url.match(/^(\/|\?)/)&&(e.url="/"+e.url),e.sync||(e.url=this.url+e.url)),e.sync=this._setupSyncObject(e.sync),"GET"!==e.method&&this._setSyncing(),r.xhr(e,function(r){r.success&&"GET"!==e.method&&!n.isDestroyed&&n._setSynced(),t&&t(r)}),this):this}},{key:"_setupSyncObject",value:function(e){return!1!==e&&(e||(e={}),e.target||(e.target=this.id)),e}},{key:"_handleWebsocketDelete",value:function(e){this._deleted(),this.destroy()}},{key:"_deleted",value:function(){this.trigger(this.constructor.eventPrefix+":delete")}},{key:"_load",value:function(){var e=this;this.syncState=u.LOADING,this._xhr({method:"GET",sync:!1},function(t){return e._loadResult(t)})}},{key:"_loadResult",value:function(e){var t=this;if(!this.isDestroyed){var n=this.constructor.eventPrefix;e.success?(this._populateFromServer(e.data),this._loaded(e.data),this.trigger(n+":loaded")):(this.syncState=u.NEW,this._triggerAsync(n+":loaded-error",{error:e.data}),setTimeout(function(){t.isDestroyed||t.destroy()},100))}}},{key:"_loaded",value:function(e){}},{key:"_setSyncing",value:function(){switch(this._clearObject(),this.syncState){case u.SYNCED:this.syncState=u.SYNCING;break;case u.NEW:this.syncState=u.SAVING}this._syncCounter++}},{key:"_setSynced",value:function(){this._clearObject(),this._syncCounter>0&&this._syncCounter--,this.syncState=0===this._syncCounter?u.SYNCED:u.SYNCING,this.isSending=!1}},{key:"_clearObject",value:function(){this._toObject=null}},{key:"toObject",value:function(){return this._toObject||(this._toObject=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"toObject",this).call(this),this._toObject.isNew=this.isNew(),this._toObject.isSaving=this.isSaving(),this._toObject.isSaved=this.isSaved(),this._toObject.isSynced=this.isSynced()),this._toObject}},{key:"isNew",value:function(){return this.syncState===u.NEW}},{key:"isSaving",value:function(){return this.syncState===u.SAVING}},{key:"isSaved",value:function(){return!(this.isNew()||this.isSaving())}},{key:"isSynced",value:function(){return this.syncState===u.SYNCED}}],[{key:"load",value:function(e,n){if(!(n&&n instanceof c))throw new Error(d.dictionary.clientMissing);var r={id:e,url:n.url+e.substring(8),clientId:n.appId};t.sortedSubclasses||(t.sortedSubclasses=t.subclasses.filter(function(e){return e.prefixUUID}).sort(function(e,t){return e.prefixUUID.length-t.prefixUUID.length}));var i=t.sortedSubclasses.filter(function(e){return 0===e.prefixUUID.indexOf("layer:///")?0===r.id.indexOf(e.prefixUUID):-1!==r.id.indexOf(e.prefixUUID)})[0],a=new i(r),o=i.eventPrefix;return o?n.dbManager?n.dbManager.getObject(o,e,function(e){a.isDestroyed||(e?(a._populateFromServer(e),a.trigger(o+":loaded")):n.isReady?a._load():(a.syncState=u.LOADING,n.once("ready",function(){return a._load()})))}):(a.syncState=u.LOADING,n.once("ready",function(){return a._load()})):a._load(),a.syncState=u.LOADING,a}}]),t}(c);f.prototype.id="",f.prototype.url="",f.prototype.localCreatedAt=null,f.prototype.clientId="",f.prototype._fromDB=!1,f.prototype.syncState=u.NEW,f.prototype._syncCounter=0,f.eventPrefix="",f.enableOpsIfNew=!1,Object.defineProperty(f.prototype,"isLoading",{enumerable:!0,get:function(){return this.syncState===u.LOADING}}),f.subclasses=[],f._supportedEvents=[].concat(c._supportedEvents),f.inObjectIgnore=c.inObjectIgnore,e.exports=f},zfW1:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("lplE"),s=n("N1N5"),c=n("Oo8N"),l=n("A+05"),u=n("Kd6K"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=window.interfaces,h=p.Virtual,f=(p.VirtualDom,{maxHeight:350}),y=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.lazyRender=function(e){var t=(e.scrollable,n.props),r=t.notification,i=t.notifDataMap,a=t.taskDataMap,s=r.list,c=r.dateMap,u="collection-item center-align loader "+(n.props.showLoader?"show":"");return h.createElement("div",{className:"collection with-header"},s.length||n.props.showLoader?s.map(function(e,t){var r=c[e],o=n.state.collapse[e]?"collapse":"";return h.createElement("div",{key:r[r.length-1]||t,className:o},r.map(function(e){var t=i[e],r=t.referenceId,o=t.viewed,s=t.type,c=t.jobSeekerNames,u=a[r],d=u.description,p=u.creatorName,f=u.dueDate,y=u.landingUrl,m="row section collection-item "+(o?"active":""),v="col l1 center-align fontIcon "+(s==l.d.SIMPLE||s==l.d.TODO?"wf-tasks":"wf-Mention"),g=s==l.d.SIMPLE||s==l.d.TODO?"By "+p:p+" mentioned you",b=n.formatDueDate(f);return h.createElement("a",{target:"_blank",href:y,className:m,key:e,"data-id":e,onClick:n.updateReminderStatus},h.createElement("i",{className:v}),h.createElement("span",{className:"col l11 desc truncate",title:d},d),h.createElement("span",{className:"col l11 offset-l1 "+(c?"fontIcon wf-attachment":"")+" truncate",title:c},c),h.createElement("span",{className:"col offset-l1 l6 creator truncate",title:g},g),h.createElement("span",{className:"col l5 dueDate left-align truncate",title:b},b))}))}):h.createElement("div",{className:"row collection-item center"},h.createElement("div",{className:"no-task-icon"}),h.createElement("span",{className:"col l12 center-align noNotif"},"You donâ€™t have any notifications right now!")),h.createElement("div",{className:u},h.createElement(o.a,{size:"small",spinnerClassName:"spinner-layer spinner-teal-only"})))},n.state={collapse:{}},n.lastRenderedTime=(new Date).getTime(),n.todayFormated=Object(s.g)(Object(s.i)(new Date)),n.toggleCollection=n.toggleCollection.bind(n),n.scrollable=null,n.scrollableContent=null,n.customScrollbar=null,n.setScrollable=n.setScrollable.bind(n),n.onScroll=Object(s.c)(n.onScroll.bind(n),500),n}return a(t,e),t.prototype.formatDueDate=function(e){var t=new Date(e),n=this.lastRenderedTime-t,r="";if(Math.abs(n)>864e5){var i=parseInt(Math.round(Math.abs(n)/864e5)),a=i>1?"days":"day";r=n>0?i+" "+a+" ago":"Due in "+i+" "+a}else if(Math.abs(n)>36e5){var o=parseInt(Math.round(Math.abs(n)/36e5)),s=o>1?"hours":"hour";r=n>0?o+" "+s+" ago":"Due in "+o+" "+s}else if(Math.abs(n)>6e4){var c=parseInt(Math.round(Math.abs(n)/6e4)),l=c>1?"mins":"min";r=n>0?c+" "+l+" ago":"Due in "+c+" "+l}else r="Now";return r},t.prototype.formatHeaderValue=function(e){var t=e;return e==this.todayFormated?t="TODAY":e==this.yesterdayFormated&&(t="YESTERDAY"),t},t.prototype.toggleCollection=function(e){var t,n=this,r=this.state.collapse[e]||!1;this.setState({collapse:d({},this.state.collapse,(t={},t[e]=!r,t))},function(){n.customScrollbar.reset()})},t.prototype.onScroll=function(){this.props.showLoader||this.scrollableContent.scrollHeight==this.scrollableContent.scrollTop+this.scrollableContent.clientHeight&&this.props.onScrollToBottom()},t.prototype.setScrollable=function(e){var t=this,n=e.scrollable,r=e.scrollableContent;this.scrollable=n,this.scrollableContent=r,setTimeout(function(){$(t.scrollableContent).on("scroll",t.onScroll)},100)},t.prototype.updateReminderStatus=function(e){var t=e.currentTarget.dataset;$.ajaxPromise({url:u.a+"/recruiterGnb/updateReminderStatus",method:"POST",contentType:"application/json",data:JSON.stringify({id:t.id,fields:{status:"opened"}})})},t.prototype.sendNLPViewTrack=function(){try{ub.track("nlpView ",{actionType:view})}catch(e){}},t.prototype.render=function(){var e="notifList "+(this.props.visibility?"":"hide");return h.createElement("div",{className:e},h.createElement(c.a,{contentHash:this.props.key_customScroll,style:f,onInit:this.setScrollable},this.lazyRender),this.props.notification.list.length?h.createElement("div",{className:"collection with-header"},h.createElement("div",{className:"collection-header center-align viewAll"},h.createElement("a",{target:"_blank",onClick:this.sendNLPViewTrack,href:"https://recruit.naukri.com/homePage/viewAllNotifications"},"VIEW ALL"))):null)},t}(h.PureComponent);y.propTypes={notification:h.PropTypes.object,taskDataMap:h.PropTypes.object,notifDataMap:h.PropTypes.object,showLoader:h.PropTypes.bool,visibility:h.PropTypes.bool,onScrollToBottom:h.PropTypes.func,key_customScroll:h.PropTypes.any};var m=function(e){function t(){r(this,t);var n=i(this,e.apply(this,arguments));return n.state={notifList_visible:!1,showLoader:!1,key_customScroll:{}},n.totalPages=1,n.page=0,n.limit=10,n.showNotif=n.showNotif.bind(n),n.hideNotif=n.hideNotif.bind(n),n.debounceFocusBlur=Object(s.c)(n.debounceFocusBlur.bind(n),100),n.loadNextPage=n.loadNextPage.bind(n),n.toggleLoader=n.toggleLoader.bind(n),n.popup=null,n.isBellClicked=!1,n.onNotifBellClick=n.onNotifBellClick.bind(n),n}return a(t,e),t.prototype.attachedCallback=function(){var e=this;this.props.setNotificationCount(window.totalUnreadNotificationCnt),$(this.popup).on("focusin",function(t){e.debounceFocusBlur(e.showNotif,{target:t.target})}).on("focusout",function(t){e.debounceFocusBlur(e.hideNotif,{target:t.target})})},t.prototype.attributeChangedCallback=function(e){e.notification!=this.props.notification&&this.setState({key_customScroll:{}})},t.prototype.resetIsBellClicked=function(){this.popup.removeAttribute("tabIndex"),this.isBellClicked=!1},t.prototype.onNotifBellClick=function(e){e.preventDefault(),this.isBellClicked=!this.isBellClicked,this.isBellClicked&&(this.popup.setAttribute("tabIndex",-1),this.popup.focus())},t.prototype.hideNotif=function(){this.setState({notifList_visible:!1}),this.resetIsBellClicked()},t.prototype.showNotif=function(e){this.props.notification.count>0&&this.props.notificationCountViewed(),e.target==this.popup&&this.loadFirstPage(),this.setState({notifList_visible:!0})},t.prototype.debounceFocusBlur=function(e,t){e(t)},t.prototype.setTotalPages=function(e){this.totalPages=Math.ceil(e/this.limit)},t.prototype.resetPage=function(){this.page=0},t.prototype.loadFirstPage=function(){var e=this;if(this.resetPage(),this.page+1<=this.totalPages)return this.toggleLoader(),this.props.getNotification({page:this.page+1,limit:this.limit}).then(function(t){return e.page++,e.toggleLoader(),e.setTotalPages(t.count),t},this.toggleLoader)},t.prototype.loadNextPage=function(){var e=this;this.page+1<=this.totalPages&&(this.toggleLoader(),this.props.getNotification({page:this.page+1,limit:this.limit}).then(function(t){return e.page++,e.toggleLoader(),t},this.toggleLoader))},t.prototype.toggleLoader=function(){this.setState({showLoader:!this.state.showLoader,key_customScroll:{}})},t.prototype.render=function(){var e=this,t=0!=this.props.notification.count&&!this.state.notifList_visible;return h.createElement("div",{className:"right notifiListContainer",tabIndex:"-1"},h.createElement("a",{href:"#!",className:"fontIcon wf-bell right "+(this.state.notifList_visible?"active":""),onClick:this.onNotifBellClick},t?h.createElement("span",{className:" new badge red count"},this.props.notification.count):null),h.createElement("div",{className:"clearfix"}),h.createElement("div",{className:"materialize dropLayer",ref:function(t){return e.popup=t}},h.createElement(y,d({},this.props,{showLoader:this.state.showLoader,onScrollToBottom:this.loadNextPage,key_customScroll:this.state.key_customScroll,visibility:this.state.notifList_visible}))))},t}(h.PureComponent);m.propTypes={notification:h.PropTypes.object,taskDataMap:h.PropTypes.object,notifDataMap:h.PropTypes.object,getNotification:h.PropTypes.func,setNotificationCount:h.PropTypes.func,notificationCountViewed:h.PropTypes.func},t.a=m},"zi+W":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){}function c(e,t){var n="__"+t,r=t.substring(0,1).toUpperCase()+t.substring(1);(e.prototype["__adjust"+r]||e.prototype["__update"+r]||e.prototype["__get"+r])&&(e.prototype[n]=e.prototype[t],Object.defineProperty(e.prototype,t,{enumerable:!0,get:function(){return this["__get"+r]?this["__get"+r](n):this[n]},set:function(e){if(!this.isDestroyed){var t=this[n];if(e!==t){if(this["__adjust"+r]){var i=this["__adjust"+r](e);void 0!==i&&(e=i)}this[n]=e}e!==t&&!this.isInitializing&&this["__update"+r]&&this["__update"+r](e,t)}}}))}function l(e,t){e.name||(e.name=t),e._supportedEvents||(e._supportedEvents=_._supportedEvents),e._ignoredEvents||(e._ignoredEvents=_._ignoredEvents),e.mixins&&e.mixins.forEach(function(t){t.events&&(e._supportedEvents=e._supportedEvents.concat(t.events)),t.properties&&Object.keys(t.properties).forEach(function(n){e.prototype[n]=t.properties[n]}),t.methods&&Object.keys(t.methods).forEach(function(n){e.prototype[n]=t.methods[n]})}),Object.keys(e.prototype).filter(function(t){return e.prototype.hasOwnProperty(t)&&!_.prototype.hasOwnProperty(t)&&"function"!=typeof e.prototype[t]}).forEach(function(t){return c(e,t)})}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n("jPMo"),h=n("yUvy"),f=n("pLky"),y=n("sh6c"),m=n("P+Qc");s.prototype=y;var v=new s;"function"==typeof postMessage&&addEventListener("message",function(e){"layer-delayed-event"===e.data.type&&v.trigger(e.data.internalId+"-delayed-event")});var g={},b=/\s+/,_=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));n._layerEventSubscriptions=[],n._delayedTriggers=[],n._lastDelayedTrigger=Date.now(),n._events={};var r=n.constructor.name;g[r]||(g[r]=0),n.internalId=r+g[r]++,v.on(n.internalId+"-delayed-event",n._processDelayedTriggers,n),n.id||e.id||!n.constructor.prefixUUID||(n.id=n.constructor.prefixUUID+p.generateUUID());var o=void 0;for(o in e)-1!==n.constructor._supportedEvents.indexOf(o)?n.on(o,e[o]):o in n&&"function"!=typeof n[o]&&(n[o]=e[o]);return n.isInitializing=!1,n}return o(t,e),d(t,[{key:"destroy",value:function(){var e=this;if(this.isDestroyed)throw new Error(f.dictionary.alreadyDestroyed);this.trigger("destroy"),v.off(this.internalId+"-delayed-event",null,this),this.off(),this._layerEventSubscriptions.forEach(function(t){return t.off(null,null,e)}),this._layerEventSubscriptions=null,this._delayedTriggers=null,this.isDestroyed=!0}},{key:"toObject",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.__inToObject=!0;var r={};try{var i=[],a=void 0;for(a in this.constructor.prototype)a in t.prototype||i.push(a);i.forEach(function(i){var a=e[i];0!==i.indexOf("_")&&"function"!=typeof a&&(Array.isArray(a)?(r[i]=[],a.forEach(function(e){e instanceof t?n?delete r[i]:e.__inToObject||r[i].push(e.toObject()):r[i].push(e)})):a instanceof t?a.__inToObject||n||(r[i]=a.toObject()):a instanceof Date?r[i]=new Date(a):r[i]=a)})}catch(e){}return this.__inToObject=!1,r}},{key:"_warnForEvent",value:function(e){if(!p.includes(this.constructor._supportedEvents,e))throw new Error("Event "+e+" not defined for "+this.toString())}},{key:"_prepareOn",value:function(e,n,r){var i=this;if(r){if(r instanceof t&&r.isDestroyed)throw new Error(f.dictionary.isDestroyed);r._layerEventSubscriptions&&r._layerEventSubscriptions.push(this)}if("string"==typeof e&&"all"!==e)if(b.test(e)){var a=e.split(b);a.forEach(function(e){return i._warnForEvent(e)})}else this._warnForEvent(e);else e&&"object"===(void 0===e?"undefined":u(e))&&Object.keys(e).forEach(function(e){return i._warnForEvent(e)})}},{key:"on",value:function(e,t,n){return this._prepareOn(e,t,n),y.on.apply(this,[e,t,n]),this}},{key:"once",value:function(e,t,n){return this._prepareOn(e,t,n),y.once.apply(this,[e,t,n]),this}},{key:"trigger",value:function(){return this._disableEvents?this:this._trigger.apply(this,arguments)}},{key:"_trigger",value:function(){if(!p.includes(this.constructor._supportedEvents,arguments.length<=0?void 0:arguments[0]))return void(p.includes(this.constructor._ignoredEvents,arguments.length<=0?void 0:arguments[0])||m.error(this.toString()+" ignored "+(arguments.length<=0?void 0:arguments[0])));var e=this._getTriggerArgs.apply(this,arguments);y.trigger.apply(this,e);var t=this.constructor.bubbleEventParent;if(t&&"destroy"!==(arguments.length<=0?void 0:arguments[0])){var n,i=this[t];(i="function"==typeof i?i.apply(this):i)&&(n=i).trigger.apply(n,r(e))}}},{key:"_getTriggerArgs",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.prototype.slice.call(t);if(t[1]){var i={target:this};r[1]instanceof h||("object"===u(r[1])?Object.keys(r[1]).forEach(function(e){return i[e]=r[1][e]}):i.data=r[1],r[1]=new h(i,r[0]))}else r[1]=new h({target:this},r[0]);return r}},{key:"_triggerAsync",value:function(){var e=this,t=this._getTriggerArgs.apply(this,arguments);if(this._delayedTriggers.push(t),1===this._delayedTriggers.length||this._delayedTriggers.length&&this._lastDelayedTrigger+500<Date.now())if(this._lastDelayedTrigger=Date.now(),"function"==typeof postMessage&&"undefined"==typeof jasmine){var n={type:"layer-delayed-event",internalId:this.internalId};"undefined"!=typeof document?window.postMessage(n,"*"):window.postMessage(n)}else setTimeout(function(){return e._processDelayedTriggers()},0)}},{key:"_foldEvents",value:function(e,t,n){var r=this,i=e.length?e[0][1]:null,a=i?i[t]:null;e.forEach(function(e,n){n>0&&(a.push(e[1][t][0]),r._delayedTriggers.splice(r._delayedTriggers.indexOf(e),1))}),e.length&&n&&(e[0][1].target=n)}},{key:"_foldChangeEvents",value:function(){var e=this,t=this._delayedTriggers.filter(function(e){return e[1].isChange});t.forEach(function(n,r){r>0&&(t[0][1]._mergeChanges(n[1]),e._delayedTriggers.splice(e._delayedTriggers.indexOf(n),1))})}},{key:"_processDelayedTriggers",value:function(){this.isDestroyed||(this._foldChangeEvents(),this._delayedTriggers.forEach(function(e){this.trigger.apply(this,r(e))},this),this._delayedTriggers=[])}},{key:"_runMixins",value:function(e,t){var n=this;this.constructor.mixins.forEach(function(r){r.lifecycle[e]&&r.lifecycle[e].apply(n,t)})}},{key:"toString",value:function(){return this.internalId}}],[{key:"isValidId",value:function(e){return 0===e.indexOf(this.prefixUUID)}}]),t}(s);_.prototype.isDestroyed=!1,_.prototype.internalId="",_.prototype.isInitializing=!0,_.prototype._layerEventSubscriptions=null,_.prototype._disableEvents=!1,_._supportedEvents=["destroy","all"],_._ignoredEvents=[],e.exports=_,e.exports.initClass=l},zzN7:function(e,t,n){"use strict";function r(e,t,n,r){var i=!1,a=function(){i||(i=!0,requestAnimationFrame(function(){n.call(r),i=!1}))};return e.addEventListener(t,a),function(){e.removeEventListener(t,a)}}t.a=r}},["evzl"]);