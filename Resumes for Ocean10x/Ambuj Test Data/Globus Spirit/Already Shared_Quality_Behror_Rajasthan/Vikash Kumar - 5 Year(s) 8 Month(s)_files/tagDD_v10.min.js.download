function isDOMElement(a){try{return a instanceof HTMLElement}catch(b){return"object"===(void 0===a?"undefined":_typeof(a))&&1===a.nodeType&&"object"===_typeof(a.style)&&"object"===_typeof(a.ownerDocument)}}function isObject(a){return!!a&&"[object Object]"===Object.prototype.toString.call(a)}function arrayToTagObj(a,b){return a.reduce(function(a,c){return a[b+c.toLowerCase()]=c.replace(/_/g," "),a},{})}function transformTagsResponse(a,b){if(!isObject(a))return a;for(var c in a)a[c]=a[c].map(function(a){return b+a.split(" ").join("_").toLowerCase()});return a}function saveCommentData(a,b){return commentData.element=a,commentData.value=b,commentData}function getCommentData(a,b){return commentData}function saveDDListObjects(a,b,c,d){ddObjects={states:a,contactibility:b,communication:c,about_candidate:d}}function getDDListObjects(){return ddObjects}function addComment(a,b,c){return createPromise(baseAPIUrl+"/resdex/v2/jsprofile/"+a,_extends({},commonOptions,{data:JSON.stringify(b)}),"post",c)}function getHiringForInfo(a,b,c){return a=baseAPIUrl+"/resdex/v1/"+a,createPromise(a,_extends({},commonOptions,{data:{getCompanyHFList:"preview"===b?0:1,showComments:"preview"===b?1:0,commentsOnHF:1,byMe:"preview"===b?0:1}}),"get",c)}function sendCallNotification(a){var b={data:a};return createPromise(baseUrl+"/ajax/callOnApp",b,"post")}function createPromise(a,b,c,d){return new Promise(function(e,f){_api(a,b,d,function(a,b,c){e({data:a,textStatus:b,xhr:c})},function(a,b,c){f({error:a,textStatus:b,xhr:c})})[c]()})}function handleCVPageErrors(a){var b=a.responseJSON.error,c=b.customData||"error",d=c.errorCode;switch(b.status){case 401:178!=d&&189!=d||(window.location.href=loginUrl+window.location.href);break;case 403:183==d&&(window.location.href=loginUrl+window.location.href);break;case 400:case 404:break;default:$("#comErrCnt").removeClass("green blue yellow").addClass("red").show().find("#commonErr").html("Due to some technical issue, your request could not be processed. Please try again in a few minutes."),$("#srpSticky").animate({top:$("#comErrCnt").height()+"px"},200)}}function handleCommentAddSuccess(a,b,c){if(201==c.status){var d=a.hiringForId;$("#hiringFor_"+d).length||"undefined"==typeof hfCompanyList||hfCompanyList[0]&&hfCompanyList[0].id==d||(hfStateData.id||(hfStateData.id=d,hfStateData.creatorId=userId),hfCompanyList&&hfCompanyList.splice(0,0,hfStateData));try{cv_comments_layer.updateHiringForList(hfStateData.id,hfStateData.name),cv_comments_layer.updateRecentList(uniqId)}catch(a){}}}function handleSendCallNotifSuccess(a,b){a.status?a.isAppInstalled?b.siblings(".notifSentMsg").length||b.after("<div class='notifSentMsg'>Notification sent to App!</div>"):openDownloadApp_lb():b.siblings(".notifSentMsg").length||b.after("<div class='notifSentMsg'>Notification not sent. Try Again</div>")}function getTagConfig(a,b,c,d,e,f){var g=(e.hfData,e.selectedData),h=(e.key,g.selected);h=h||[];var i=!0;return 0===h.length&&(i=!1),$("#tagDDContainer").on("ddDataReplaced","#"+b,function(a){i=!0}),{ddConfig:{id:defineProperty({},b,[a,h]),tags:!1,isSearch:!1,onClickReq:function(a,c){var d=$("#"+b);"notInterested-dd"==b&&d.parents(".singleTags").removeAttr("data-tnr-addtask");var e=getDDListObjects();Object.keys(e).length>0&&d.find(".srchTxt").attr("title",e[g.key][c]),i?(i=!1,h.length>0&&showSelectedDD(d)):ddClickCallback(d,c,!0,hfStateData,f,!1,b)}},ui:{classes:c,label:d,id:b}}}function getTagsObj(a,b,c){return{hfRecentCompanyTags:{name:"Recently Used Tags",list:c,id:"recentlyUs",defaultSelect:!0,enableTask:!0},about_candidate:{name:"Not Interested",list:a.about_candidate,id:"aboutCan",selected:b.about_candidate,key:"about_candidate"},communication:{name:"Communication",list:a.communication,id:"communication-tab",notOtherTag:!0,enableTask:!0,selected:b.communication,key:"communication"},contactibility:{name:"Contactibility",list:a.contactibility,id:"contactability",enableTask:!0,selected:b.contactibility,key:"contactibility"},states:{name:"Status",list:a.states,id:"custom-tags",enableTask:!0,selected:b.states,key:"states"},customTags:{name:"Custom Tags",list:[],id:"userDefine-tags"}}}function fireClickForTnrTask(a,b){var c=a;if(b){var d=c.parents(".singleTags");d.length||(d=c.parents(".otherTags")),d.length||(d=c.parents(".tagMain").find(".singleTags")),d.length&&setTimeout(function(){d.attr({"data-tnr-addtask":b,"data-tnr-addtask-indroplayer":""}).click()},500)}}function showSelectedDD(a){var b=a&&a.attr("id"),c=$(".prefillData");switch(c.css("display","block"),$("#srpSticky").addClass("prefillAdd"),b){case"notInterested-dd":c.find(".lb-notinterested label").html("Not Interested"),a.addClass("selected");break;case"inprocess-dd":c.find(".lb-status label").html("Status"),a.addClass("selected");break;case"communication-dd":c.find(".lb-comm label").html("Communication"),a.addClass("selected");break;case"contactibility-dd":c.find(".lb-contactibility label").html("Contactibility"),a.addClass("selected")}a.parents(".ddHeading").addClass("hideDDLabel")}function ddClickCallback(a,b,c,d,e,f){if(d){if(c){var g=fetchTaskDataAttr(b.slice(1),a,d,e);fireClickForTnrTask(a,g)}if("preview"==e){addCommentWrapper(a,b,!1,f).then(function(b){handleCommentAddSuccess(b.data,b.textStatus,b.xhr),showSelectedDD(a),window.topBand.header.showToolTip(breadCrumb_addTag_msg),$("#srpSticky").removeClass("noCommTopBand")},function(b){handleCVPageErrors(b.error);var c=b.error&&b.error.responseJSON.error;if(403===c.status){var d=c.customData&&c.customData.errorMessage||"Error";ResdexEvents.dispatchEvent("commentLimitError",a,[d])}})}else{var h=a.closest(".tuple");h.attr("data-index");h.find(".textArea").val(" #"+b.slice(1).toUpperCamelCase("_")+" "),h.find("#submitCommAdd").click(),showSelectedDD(a)}}else{saveCommentData(a,b);var i,j=b.split("#")[1].replace(/_/g," ");if("preview"==e)i=name;else{var k=a.closest(".tuple").attr("data-index");i=srpTupleJson[k].name}window.isOnlyHFAdded&&(window.isOnlyHFAdded=!1),getRdxRequirementContent({user:i||"Candidate",tag:j.toUpperCamelCase()})}}function updateTagDDs(a,b,c,d,e,f){var g=$(a);ResdexEvents.dispatchEvent("ddDataReplaced",$(g.children()[0])),showSelectedDD(g),setTimeout(function(){window.cvTags[b].getInstance().replaceData({data:e[c],prefillData:[d.toLowerCase()]}),f&&"SRP"!=pageName&&$("body, html").animate({scrollTop:0},300)})}function tagClickedCallback(a,b,c,d,e){var f=a.attr("data-val"),g=a.attr("ddTag");if(b){addCommentWrapper(a,f,c,!1,d).then(function(a){handleCommentAddSuccess(a.data,a.textStatus,a.xhr),"preview"==d&&(g&&"none"===g||window.topBand.header.showToolTip(breadCrumb_addTag_msg),$("#srpSticky").removeClass("noCommTopBand"));var b=getDDListObjects();if(e)updateTagDDs("#contactibility-dd","contactibilityDD","contactibility",f.toLowerCase(),b,c);else if(g&&"none"!==g){var h=void 0,i=void 0,j=void 0;switch(g){case"about_candidate":h="interestedInDD",i="about_candidate",j="#notInterested-dd";break;case"states":h="statusDD",i="states",j="#inprocess-dd";break;case"contactibility":h="contactibilityDD",i="contactibility",j="#contactibility-dd";break;case"communication":h="communicationDD",i="communication",j="#communication-dd"}updateTagDDs(j,h,i,f,b,c)}},function(a){handleCVPageErrors(a.error);var b=a.error&&a.error.responseJSON.error;if(403===b.status){var c=b.customData&&b.customData.errorMessage||"Error";ResdexEvents.dispatchEvent("commentLimitError",$(".tagMain"),[c]),$("body, html").animate({scrollTop:0},300)}})}else{var h=a;if(g&&"none"!==g)switch(g){case"about_candidate":h=$("#notInterested-dd");break;case"states":h=$("#inprocess-dd");break;case"contactibility":h=$("#contactibility-dd");break;case"communication":h=$("#communication-dd")}saveCommentData(h,f),window.isOnlyHFAdded&&(window.isOnlyHFAdded=!1),"preview"==d&&getRdxRequirementContent({user:name||"Candidate",tag:f.split("#")[1].replace(/_/g," ")})}}function addCommentWrapper(a,b,c,d,e){$(".cvTopErrMsg").html("");var f=void 0,g={},h=void 0,i=void 0,j=void 0,k=void 0,l=a;if(h=l.closest(".tuple").attr("data-index"),i=" #"+$.trim(b.slice(1).toUpperCamelCase("_"))+" ","preview"==pageName)j=uniqId,k=mob,f="tagDDContainer",$(".stickyCv").length&&RecTracking.track("cvPreviewClick",{actionType:"sticky",actionSrc:"addcomment"});else{j=srpTupleJson[h].uniqueId;var m=l.closest(".tuple").find(".tel");m.hasClass("telSeen")||m.hasClass("active")?(k=m.find(".tel").eq(0).text(),k=k.replace(/^\+/,"").replace("(M)","").replace("(R)","")):k=""}var n=j+"/comments";return g.comment=i,g.SearchId=searchData.sid,g.mobileNumber=k,g.hfFlowName=hfFlowName,addComment(n,g,f)}function fetchTaskDataAttr(a,b,c,d){var e="",f="";if(a=a&&a.toLowerCase(),c=c||{},"preview"==d)e=$("#mainCvWrap").find(".userName").text(),f=ukey;else{var g=b.hasClass("tuple")?b:b.parents(".tuple"),h=g.attr("data-index");f=srpTupleJson[h].key,e=g.find(".userName").text()}var i=e.trim()+" for "+(c.name||"")+"|now|"+f+"|"+(c.id||"")+"|"+d;switch(a){case"call_later":return"Call "+i;case"interested":return"Send JD and confirm - "+i;case"interview_scheduled":return"Interview Scheduled for "+i;default:return""}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),defineProperty=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},_extends=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},get=function a(b,c,d){null===b&&(b=Function.prototype);var e=Object.getOwnPropertyDescriptor(b,c);if(void 0===e){var f=Object.getPrototypeOf(b);return null===f?void 0:a(f,c,d)}if("value"in e)return e.value;var g=e.get;if(void 0!==g)return g.call(d)},inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b},commentData={},ddObjects={};window.tagAjax||(window.tagAjax={}),window.tagAjax.saveCommentData=saveCommentData;var Components=function(){function a(b,c){classCallCheck(this,a),this.node=b?this.getNode(b):"",this.parent=c?this.getNode(c):""}return createClass(a,[{key:"getNode",value:function(a){return a instanceof jQuery?a:"string"==typeof a||isDOMElement(a)?$(a):null}},{key:"render",value:function(){if(!this.node)return null;var a=this.getHTML();this.node.html(a)}},{key:"update",value:function(a){this.data=_extends({},this.data,a),this.render()}}]),a}(),BC_TOOLTIP_MSG="You can now organize all your activities & profiles under requirements by going to ",PAGE_NAME_BC={preview:"CV Detail page"},HF_HEADER_LABEL="Add Tags/Comments ",HF_BAND_LABEL="Adding Requirement will help you categorize tagged profiles & organize comments seamlessly",HF_ADD_REQ_LABEL="ADD REQUIREMENT",HF_LEARN_LABEL="LEARN MORE",BreadCrums=function(){function a(){classCallCheck(this,a)}return createClass(a,[{key:"getHTML",value:function(a){return'<div class="hfHeader" >'+a+"</div>\n                "}}]),a}(),BreadCrums$1=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.node,a.parent));return c.data=a.data,c.header=new BreadCrums,c.bindEvents(),c}return inherits(b,a),createClass(b,[{key:"bindEvents",value:function(){var a=this.parent||this.node;a.on("mouseenter",".breadCrumb-header",function(){a.find(".tooltipLink").fadeIn()}).on("mouseleave",".breadCrumb-header",function(){a.find(".tooltipLink").hide()})}},{key:"getLink",value:function(a){return a.id?'<a href="/v2/hiringFor/detail?hiringForIds='+a.id+'&type=activity&action=all_viewed" target="_self" class="hfName elps" title="'+a.name+'">'+a.name+"</a>":'<span class="hfName elps" title="'+a.name+'">'+a.name+"</span>"}},{key:"getBreadCrumLinks",value:function(){var a=this;if(isObject(this.data.stateData))return this.getLink(this.data.stateData);if(Array.isArray(this.data.stateData)){this.data.stateData.map(function(b,c,d){return a.getLink(b)+c===d.length-1?"":'<em class="rightArw"></em>'}).join("")}}},{key:"getHeaderChildren",value:function(){return HF_HEADER_LABEL+'<span class="lightTxt">for </span>'+this.getLink(this.data.stateData)}},{key:"showToolTip",value:function(a){if(!rdxCache.getItem("shownBreadCrumb_"+userId)){var b=new Date;rdxCache.setItem("shownBreadCrumb_"+userId,!0,{expirationAbsolute:new Date(b.setHours(b.getHours()+6,0,0,0))}),$(".req-breadcrumb").find(".tooltiptext").html(a),$(".req-breadcrumb").find(".tooltipLink").fadeIn()}}},{key:"getHTML",value:function(){var a=this.getBreadCrumLinks();return'<div class="req-breadcrumb">\n                <div class="breadCrumb-header" style="">\n                    <a href="/v2/hiringFor/list" target="_self">'+this.data.primaryState+' </a>\n                    <div class="tooltipLink">\n                        <div class="toolTipBody">\n                            <span class="tooltiptext">'+BC_TOOLTIP_MSG+'<a href="/v2/hiringFor/list" target="_self">Resdex Requirement</a>page</span>\n                        </div>\n                    </div>\n                </div>\n                <em class="rightArw"></em>\n                '+a+'\n                <span class="linkHrName"><em class="rightArw"></em>'+PAGE_NAME_BC[this.data.pageName]+"</span>\n            </div>\n            "+this.header.getHTML(this.getHeaderChildren())+"\n            "}}]),b}(Components),HiringForBand=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.node,a.parent));return c.data=a.data,c.bindEvents(),c}return inherits(b,a),createClass(b,[{key:"openHFLightBox",value:function(){hiringForLightBox(this.data.pageName,"addRequirement")}},{key:"bindEvents",value:function(){var a=this;(this.parent||this.node).on("click","#openHiringLB",function(){window.isOnlyHFAdded=!0,a.openHFLightBox()})}},{key:"getHTML",value:function(){return'\n        <div class="msgBar blue">\n            <div class="cnt" id="">\n                '+HF_BAND_LABEL+'\n                <a href="#" id="openHiringLB" class="roboM openHfLb">'+HF_ADD_REQ_LABEL+'</a>\n                <a href="javascript:void(0)" class="fr roboM openTour">'+HF_LEARN_LABEL+'</a>\n            </div> \n        </div>\n        <div class="hfHeader mt19">Add Tags</div>\n       \n        '}}]),b}(Components),TopBand=function(a){function b(a,c,d){classCallCheck(this,b);var e=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a,c));return e.data=d,e}return inherits(b,a),createClass(b,[{key:"isBCShown",value:function(a){return"preview"===a.pageName&&a.breadCrums.stateData}},{key:"getBCObj",value:function(a){return new BreadCrums$1({data:_extends({},this.data.breadCrums,{pageName:this.data.pageName}),parent:a})}},{key:"update",value:function(a){get(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"update",this).call(this,a);window.isOnlyHFAdded||this.header.showToolTip('Success ! you have added your tag on this CV.</br>You can now organize all your activities & profiles under this requirement by going to <a href="/v2/hiringFor/list" target="_self">Resdex Requirement </a> page'),$("#addTaskMenu").show()}},{key:"getHTML",value:function(){var a=this.isBCShown(this.data);return this.header=a?this.getBCObj(this.parent):new HiringForBand({data:{pageName:this.data.pageName},parent:this.parent}),'<div id="hfTagsContainer">\n            '+this.header.getHTML()+"\n        </div>"}}]),b}(Components),DescriptionTag=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.node,a.parent));return c.config=a.config,c.ddInstance=null,c}return inherits(b,a),createClass(b,[{key:"create",value:function(){this.ddInstance=new DD(this.config.ddConfig)}},{key:"getInstance",value:function(){return this.ddInstance}},{key:"getHTML",value:function(){return'<span class="'+(this.config.ui.isNotDD?"":"tagDD hfTag ddHeading ")+this.config.ui.classes+'" id="'+this.config.ui.id+'-d">'+this.config.ui.label+"\n            <div "+(this.isNotForm?"":'class="form-rowR"')+'>\n                <div id="'+this.config.ui.id+'" class="ddwn mr19 fl fsWrapper">\n                    <div class="DDwrap getCounted '+(this.config.ui.isTag?"tag":"")+'">\n                        <ul class="DDsearch">\n                            <li class="frst">\n                                <span class="arw"></span>\n                                <div class="DDinputWrap">\n                                    <input class="flatInp srchTxt w200" '+(!this.config.ui.isSearch&&'readonly="true"')+' name="workstatus" type="text" id="workSt1" placeholder="'+(this.config.ui.placeholder||"")+'">\n                                </div>\n                            </li>\n                            \n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </span>'}}]),b}(Components),TrackingEvents=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"getTrackingEvents",value:function(){return{cvPreviewClick:{searchId:"undefined"!=typeof sid?sid:"",cvId:"undefined"!=typeof uniqId?uniqId:"",recName:"undefined"!=typeof gnb_variables?gnb_variables.recruiterUsername:"",ind:$(".indInfo").text(),fa:$(".faInfo").text(),exp:$(".expInfo").text(),sal:$(".salInfo").text(),email:$.trim($(".email").text()).split(" ")[0],cvName:$(".userName").text(),lastActive:$(".lastActInfo").text().split(":")[1],currLocation:$(".locInfo").text()},hfClick:{suggestionsRequested:!1,suggestionsSelected:!1},resdexSrpClick:{hfKeyword:hfStateData?hfStateData.name:null,hfType:hfStateData&&hfStateData.id?"Selected":"created",searchId:searchData.sid}}}}]),a}(),RecTracking=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"track",value:function(a,b){var c={actionType:"click",recruiterId:userId,companyId:companyId,pageName:pageName},d=_extends({},c,TrackingEvents.getTrackingEvents()[a],b);try{ub.track(a,d)}catch(a){}}}]),a}(),commonOptions={contentType:"application/json",headers:{Accept:"application/json",clientId:"desktop"}},getCustomTags=function(a){return createPromise(baseUrl+"/ajax/hfCompanyTags",_extends({},commonOptions,{data:{tagClusterType:["custom"]}}),"get",a)},_api=function(a,b,c,d,e){var f={beforeSend:function(){$("#"+c).gLoader().block()},complete:function(){$("#"+c).gLoader().unblock()},success:function(a,b,e){$("#"+c).gLoader().unblock(),d(a,b,e)},error:function(a,b,d){$("#"+c).gLoader().unblock(),e(a,b,d)}};return f=_extends(f,b),{post:function(){$.ajax(a,_extends({},f,{type:"POST"}))},get:function(){$.ajax(a,_extends({},f,{type:"GET"}))}}};window.tagAjax||(window.tagAjax={}),window.tagAjax.getHiringForInfo=getHiringForInfo;var ResdexEvents=function(){function a(){classCallCheck(this,a)}return createClass(a,null,[{key:"dispatchEvent",value:function(a,b,c){document.createEvent("Event").initEvent(a,!0,!0),b.trigger(a,[c])}}]),a}(),breadCrumb_addTag_msg='Success ! you have added your tag on this CV.</br>You can now organize all your activities & profiles under this requirement by going to <a href="/v2/hiringFor/list" target="_self">Resdex Requirement </a> page',OtherTags=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.node,a.parent));return c.data=a.data,c.parent=c.node||c.parent,c.bindEvents(),c.customTagsPromise=null,c}return inherits(b,a),createClass(b,[{key:"handleCustomTagsSuccess",value:function(a){var b=$("#userDefine-tags").find(".tagSection"),c="<span>No tags are present</span>";if(a.status){var d=a.data;d.length&&(c=d.map(function(a,b){return'<span class="hfTag addTags" title="'+a.replace(/_/g," ")+'" data-val="#'+a+'">'+a.replace(/_/g," ")+"</span>"}).join(""))}b.html(c)}},{key:"tagClickedHandler",value:function(a){tagClickedCallback(a,this.data.stateData,!1,this.data.pageName)}},{key:"fetchCustomTags",value:function(){var a=this;this.customTagsPromise||(this.customTagsPromise=getCustomTags("userDefine-tags"),this.customTagsPromise.then(function(b){a.handleCustomTagsSuccess(b.data)},function(a){handleCVPageErrors(a.error)}))}},{key:"createTabs",value:function(){var a=this;this.parent&&$("#savedSearchTab").tabs({onClick:function(b,c){var d=b.attr("data-attr");b.attr("bind");"userDefine"==d&&a.fetchCustomTags()}})}},{key:"toggle",value:function(){var a=$("#savedSearchTab");if(a.toggle(),$("#more-tags").toggleClass("activeMore"),a.is(":visible")){var b=a.find("#recent-used-tab");a.find("#recentlyUs").is(":visible")||b.click()}}},{key:"bindEvents",value:function(){var a=this;this.parent&&(this.parent.on("click","#savedSearchTab",function(a){a.stopPropagation()}),this.parent.on("click",".addTags",function(){$("#savedSearchTab").hide();var b=$(this);fireClickForTnrTask(b,b.attr("data-tnr-addtask-tag")),window.isOnlyHFAdded="ot",a.tagClickedHandler(b)}))}},{key:"getHTML",value:function(){var a=this;return isObject(this.data.tagsList)?'\n        <span class="otherTags">\n            <div id="savedSearchTab" class="tabbing clFx" style="display: none;">\n                <ul class="sstabs fl">\n                        <li bind="recentlyUs" data-attr="recentlyUsed" id="recent-used-tab" class="active">Recently Used</li>\n                        <li bind="aboutCan" data-attr="aboutCandidate" id="about-candidate-tab">Not Interested</li>\n                        <li bind="contactability" data-attr="contactability" id="contactability-tab">Contactability</li>\n                        <li bind="custom-tags" data-attr="customTags" id="custom-tab">Status</li>\n                        <li bind="userDefine-tags" class="last" data-attr="userDefine" id="userDefine-tab">Custom</li>\n                </ul>\n                <div class="tabContainer fr">\n\n                    '+Object.keys(this.data.tagsList).map(function(b){return a.data.tagsList[b].notOtherTag?"":'<div class="searchListCont tabCont" id='+a.data.tagsList[b].id+' style="display: '+(a.data.tagsList[b].defaultSelect?"block":"none")+';">\n                                            <div class="searchList">\n                                                <h3>'+a.data.tagsList[b].name+'</h3>\n                                                <div class="tagSection">\n                                                '+(a.data.tagsList[b].list.length?a.data.tagsList[b].list.map(function(c,d){var e=a.data.tagsList[b].enableTask?fetchTaskDataAttr(c,a.parent,a.data.stateData,a.data.pageName):"";return'<span class="hfTag addTags" ddTag='+(window.mergedTags[c]?window.mergedTags[c]:"none")+' title="'+c.replace(/_/g," ")+'"\n                                                                data-val="#'+c+'" '+(e?'data-tnr-addtask-tag="'+e+'"':"")+">\n                                                                "+c.replace(/_/g," ")+"\n                                                            </span>"}).join(""):"<span>No tags are present</span>")+"\n                                                \n                                            </div>\n                                            </div>\n                                        </div>\n                                        "}).join("")+"\n                    \n                    \n                </div>\n            </div>\n\t\t</span>\n        ":""}}]),b}(Components),TagDropdowns=function(a){function b(a){classCallCheck(this,b);var c=possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,a.node,a.parent));return c.data=a.data,c.initialiseTags(),c.otherTags=new OtherTags({data:c.data,parent:a.node}),c.bindEvents(),c}return inherits(b,a),createClass(b,[{key:"bindEvents",value:function(){var a=this,b=this.parent||this.node;$(document).on("click",function(){$("#savedSearchTab").length&&($("#more-tags").removeClass("activeMore"),$("#savedSearchTab").hide())}),b.on("click","#more-tags",function(b){a.otherTags.toggle(),b.stopPropagation()}),b.on("commentLimitError",function(a,b){$(".cvTopErrMsg").show().html(b)})}},{key:"initialiseTags",value:function(){var a=arrayToTagObj(this.data.tagsList.states.list,"#"),b=arrayToTagObj(this.data.tagsList.about_candidate.list,"#"),c={"#good_communication":"Good Communication","#bad_communication":"Bad Communication","#average_communication":"Average Communication"},d=arrayToTagObj(this.data.tagsList.contactibility.list,"#");saveDDListObjects(a,d,c,b),this.data.tagsList.about_candidate.selected&&this.data.tagsList.about_candidate.selected.length&&(this.data.tagsList.about_candidate.selected=[this.data.tagsList.about_candidate.selected[0]]);var e=this.data.pageName;this.statusDD=new DescriptionTag({config:getTagConfig(a,"inprocess-dd","inProcess singleDD","Status",{hfData:this.data.stateData,selectedData:this.data.tagsList.states},e)}),this.interestedInDD=new DescriptionTag({config:getTagConfig(b,"notInterested-dd","","Not Interested",{hfData:this.data.stateData,selectedData:this.data.tagsList.about_candidate},e)}),this.communicationDD=new DescriptionTag({config:getTagConfig(c,"communication-dd","singleDD","Communication",{hfData:this.data.stateData,selectedData:this.data.tagsList.communication},e)}),this.contactibilityDD=new DescriptionTag({config:getTagConfig(d,"contactibility-dd","singleDD","Contactibility",{hfData:this.data.stateData,selectedData:this.data.tagsList.contactibility},e)})}},{key:"editDeleteDDs",value:function(a){var b=this,c=a||{},d=c.hfTags;if(d){var e=getDDListObjects(),f=$(".prefillData");if(f.css("display","block"),$("#srpSticky").addClass("prefillAdd"),d.states.length>0?(ResdexEvents.dispatchEvent("ddDataReplaced",$("#inprocess-dd:first-child")),setTimeout(function(){b.statusDD.getInstance().replaceData({data:e.states,prefillData:d.states}),showSelectedDD($("#inprocess-dd"))})):(f.find(".lb-status label").html(""),$("#inprocess-dd").removeClass("selected"),$("#inprocess-dd-d").removeClass("hideDDLabel")),d.contactibility.length>0?(ResdexEvents.dispatchEvent("ddDataReplaced",$("#contactibility-dd:first-child")),setTimeout(function(){b.contactibilityDD.getInstance().replaceData({data:e.contactibility,prefillData:d.contactibility}),showSelectedDD($("#contactibility-dd"))})):(f.find(".lb-contactibility label").html(""),$("#contactibility-dd").removeClass("selected"),$("#contactibility-dd-d").removeClass("hideDDLabel")),d.communication.length>0?(ResdexEvents.dispatchEvent("ddDataReplaced",$("#communication-dd:first-child")),setTimeout(function(){b.communicationDD.getInstance().replaceData({data:e.communication,prefillData:d.communication}),showSelectedDD($("#communication-dd"))})):(f.find(".lb-comm label").html(""),$("#communication-dd").removeClass("selected"),$("#communication-dd-d").removeClass("hideDDLabel")),d.about_candidate.length>0){var g=d.about_candidate[0];ResdexEvents.dispatchEvent("ddDataReplaced",$("#notInterested-dd:first-child")),setTimeout(function(){b.interestedInDD.getInstance().replaceData({data:e.about_candidate,prefillData:[g]}),showSelectedDD($("#notInterested-dd"))})}else f.find(".lb-notinterested label").html(""),$("#notInterested-dd").removeClass("selected"),$("#notInterested-dd-d").removeClass("hideDDLabel")}}},{key:"editDeleteComment",value:function(a,b){var c=this;this.data.srpTuple=b,getHiringForInfo("hiringforJsData/"+this.getHFUniqueID()+"?hiringForId="+(this.data.stateData&&this.data.stateData.id?this.data.stateData.id:""),this.data.pageName,a).then(function(a){var b={hfTags:transformTagsResponse(a.data&&a.data.hfTags,"#")};window.hfTags=b.hfTags,c.editDeleteDDs(b)},function(a){handleCVPageErrors(a.error)})}},{key:"prefillDDs",value:function(a,b,c){var d=this,e=a||{},f=e.hfTags;if(f){var g=getDDListObjects(),h=b&&b.attr("id");if(f.states.length>0&&!("inprocess-dd"===h)&&(ResdexEvents.dispatchEvent("ddDataReplaced",$("#inprocess-dd:first-child")),setTimeout(function(){d.statusDD.getInstance().replaceData({data:g.states,prefillData:f.states}),showSelectedDD($("#inprocess-dd"))})),f.contactibility.length>0&&!("contactibility-dd"===h)&&(ResdexEvents.dispatchEvent("ddDataReplaced",$("#contactibility-dd:first-child")),setTimeout(function(){d.contactibilityDD.getInstance().replaceData({data:g.contactibility,prefillData:f.contactibility}),showSelectedDD($("#contactibility-dd"))})),f.communication.length>0&&!("communication-dd"===h)&&(ResdexEvents.dispatchEvent("ddDataReplaced",$("#communication-dd:first-child")),setTimeout(function(){d.communicationDD.getInstance().replaceData({data:g.communication,prefillData:f.communication}),showSelectedDD($("#communication-dd"))})),f.about_candidate.length>0&&"notInterested-dd"!==h){var i=f.about_candidate[0];ResdexEvents.dispatchEvent("ddDataReplaced",$("#notInterested-dd:first-child")),setTimeout(function(){d.interestedInDD.getInstance().replaceData({data:g.about_candidate,prefillData:[i]}),showSelectedDD($("#notInterested-dd"))})}b&&showSelectedDD(b),window.isPhoneDD?(window.isPhoneDD=!1,ResdexEvents.dispatchEvent("ddDataReplaced",$("#contactibility-dd:first-child")),setTimeout(function(){d.contactibilityDD.getInstance().replaceData({data:g.contactibility,prefillData:[c.toLowerCase()]}),$("#"+d.contactibilityDD.config.ui.id).addClass("selected"),showSelectedDD($("#contactibility-dd")),"#Call_Later"!=c.toLowerCase()&&"SRP"!=pageName&&$("body, html").animate({scrollTop:0},300)})):this.data.isRdxReq&&(ResdexEvents.dispatchEvent("ddDataReplaced",$("#inprocess-dd:first-child")),setTimeout(function(){d.statusDD.getInstance().replaceData({data:g.states,prefillData:[c.toLowerCase()]})}))}}},{key:"getHFUniqueID",value:function(){var a=void 0;if("preview"==this.data.pageName)a=uniqId;else{var b=this.data.srpTuple.attr("data-index");a=srpTupleJson[b].uniqueId}return a}},{key:"addHFInfo",value:function(a){var b=this;this.data=_extends({},this.data,a),this.otherTags.update(this.data),getHiringForInfo("hiringforJsData/"+this.getHFUniqueID()+"?hiringForId="+(this.data.stateData&&this.data.stateData.id?this.data.stateData.id:""),this.data.pageName).then(function(a){if(200==a.xhr.status){var c={hfTags:transformTagsResponse(a.data&&a.data.hfTags,"#")};window.hfTags=c.hfTags,b.prefillDDs(c,null,"none"),b.data.isOtherTagClicked&&setTimeout(function(){tagClickedCallback(getCommentData().element,b.data.stateData,!1,b.data.pageName)})}},function(a){handleCVPageErrors(a.error)})}},{key:"update",value:function(a){var b=this;if(this.data=_extends({},this.data,a),this.otherTags.update(this.data),hfStateData&&"id"in hfStateData){getHiringForInfo("hiringforJsData/"+this.getHFUniqueID()+"?hiringForId="+(hfStateData&&hfStateData.id?hfStateData.id:""),this.data.pageName).then(function(a){if(200==a.xhr.status){var c={hfTags:transformTagsResponse(a.data&&a.data.hfTags,"#")};window.hfTags=c.hfTags,b.addComment(c)}},function(a){handleCVPageErrors(a.error)})}else{var c={hfTags:{states:[],about_candidate:[],communication:[],contactibility:[]}};this.addComment(c),window.hfStateData&&(window.hfStateData.status="open")}}},{key:"addComment",value:function(a){var b=this,c=getCommentData(),d=fetchTaskDataAttr(c.value.slice(1),c.element,this.data.stateData,this.data.pageName)
;if(fireClickForTnrTask(c.element,d),"preview"===this.data.pageName){addCommentWrapper(c.element,c.value,!1,!1).then(function(d){handleCommentAddSuccess(d.data,d.textStatus,d.xhr),b.data.updateCmmntList&&(window.cv_comments_layer.updateHfName(),window.cv_comments_layer.updateRecentList(uniqId),$("#comErrCnt").removeClass("green yellow blue red").addClass("green").show().find("#commonErr").html("Profile added successfully to the requirement.")),b.prefillDDs(a,c.element,c.value),$("#srpSticky").removeClass("noCommTopBand")},function(d){handleCVPageErrors(d.error);var e=d.error&&d.error.responseJSON.error;if(403===e.status){var f=e.customData&&e.customData.errorMessage||"Error";ResdexEvents.dispatchEvent("commentLimitError",b.parent||b.node,[f]),b.prefillDDs(a,c.element,c.value)}})}else{var e=this.data.srpTuple;e.find(".textArea").val(" #"+c.value.slice(1).toUpperCamelCase("_")+" "),e.find("#submitCommAdd").click(),this.prefillDDs(a,c.element,c.value)}}},{key:"createCustomTabs",value:function(){this.otherTags.createTabs()}},{key:"createDDs",value:function(){this.statusDD.create(),this.contactibilityDD.create(),this.communicationDD.create(),this.interestedInDD.create()}},{key:"getHTML",value:function(){return'\n        <div class="tagSection" id="tag_container">\n            <div class="prefillData">\n                <div class="lb-status"><label></label></div>\n                <div class="lb-contactibility"><label></label></div>\n                <div class="lb-comm"><label></label></div>\n                <div class="lb-notinterested"><label></label></div>\n                </div>\n            <div class="tagMain" style="position:relative">\n                '+this.statusDD.getHTML()+"\n                "+this.contactibilityDD.getHTML()+"\n                "+this.communicationDD.getHTML()+"\n                "+this.interestedInDD.getHTML()+'\n                <span class="singleTags"></span>\n                '+(this.data.showOtherTags?'<span class="hfTag moreBtn" id="more-tags">&#8942;</span>':"")+"\n            </div>\n            "+(this.data.showOtherTags?this.otherTags.getHTML():"")+'\n            <p class="err cvTopErrMsg"></p>\n        </div>\n        '}}]),b}(Components),srpInfo={},phoneDDClicked=!1,PhoneDD=function(){function a(b){classCallCheck(this,a),this.data=b,this.bindEvents()}return createClass(a,[{key:"bindEvents",value:function(){window.srpCommentListener||(window.srpCommentListener=!0,$("#tupCont").on("srpCommentsOpened",function(){if(phoneDDClicked){phoneDDClicked=!1;srpInfo.tupleElm.find(".textArea").val(srpInfo.comment),srpInfo.tupleElm.find("#submitCommAdd").click()}}))}},{key:"triggerLightBox",value:function(a,b,c){a.addClass("lightBoxOpened"),open_TRLightbox_Elm=a,saveCommentData(b,c),window.isPhoneDD=!0;var d=void 0;d="preview"==pageName?name:srpTupleJson[a.parents(".tuple").attr("data-index")].name,window.isOnlyHFAdded&&(window.isOnlyHFAdded=!1),getRdxRequirementContent({user:d||"Candidate",tag:c.split("#")[1].replace(/_/g," ").toUpperCamelCase()}),addLB.options.close.success=function(){"undefined"!=typeof open_TRLightbox_Elm&&$(open_TRLightbox_Elm).length&&$(open_TRLightbox_Elm).hasClass("lightBoxOpened")&&(open_TRLightbox_Elm=null)}}},{key:"selectOnSRP",value:function(a,b,c){var d=a.attr("data-val"),e=$("div.tuple[data-ukey="+c+"]"),f=e.find(".commentsLink"),g=e.find(".commentCont");if("#Call_From_Mobile_App"==d){var h=e.attr("data-index"),i=srpTupleJson[h];sendCallNotification({uniqId:i.uniqueId,phoneNumber:b.find(".txt:visible").text().split("(")[0],name:i.name}).then(function(a){handleSendCallNotifSuccess(a.data,b)})}else if("#Chat"!==d)if(this.data.hfStateData)if(e.find(".tagSection").length){f.length&&!g.hasClass("open")&&f.click();var j=e.find(".textArea");j.val(" #"+d.slice(1).toUpperCamelCase("_")+" "),e.find("#submitCommAdd").click()}else srpInfo.tupleElm=e,srpInfo.comment=" #"+d.slice(1).toUpperCamelCase("_")+" ",f.length&&!g.hasClass("open")&&f.click(),phoneDDClicked=!0;else this.triggerLightBox(b,$("#contactibility-dd"),d)}},{key:"selectOnPreview",value:function(a,b){var c=a.attr("data-val");if("#Call_From_Mobile_App"==c){sendCallNotification({uniqId:getParameterByName("uniqId"),phoneNumber:b.find(".txt.num").text().split("(")[0],name:name}).then(function(a){handleSendCallNotifSuccess(a.data,b.parents(".innerCont"))})}else if("#Chat"!==c)if(this.data.hfStateData){var d=void 0;"#Call_Later"!=c&&(d=!0),tagClickedCallback(a,this.data.hfStateData,d,"preview",!0)}else this.triggerLightBox(b,$("#contactibility-dd"),c)}}]),a}();String.prototype.toUpperCamelCase=function(a){var b=this.valueOf();return a||(a=" "),b.split(a).map(function(a){return a.charAt(0).toUpperCase()+a.slice(1)}).join(a)},function(){$(window).on("load",function(){if("preview"==pageName){"undefined"==typeof hfTags||hfTags||(window.hfTags={}),hfTags=transformTagsResponse(hfTags,"#"),window.mergedTags=Object.keys(predefinedTagsList).reduce(function(a,b){return"customTags"===b?a:(predefinedTagsList[b].forEach(function(c){a[c]=b}),a)},{}),window.topBand=new TopBand("#cvHFHeader","#cvHFHeader",{breadCrums:{stateData:hfStateData,primaryState:"Resdex Requirement"},pageName:pageName}),topBand.render();var a=getTagsObj(predefinedTagsList,hfTags,hfRecentCompanyTags);window.cvTags=new TagDropdowns({node:"#tagDDContainer",data:{tagsList:a,stateData:hfStateData,pageName:pageName,showOtherTags:!0}}),cvTags.render(),cvTags.createDDs(),cvTags.createCustomTabs(),$("#tagDDContainer").after("<div class='stickyDivider'></div>")}window.api_hf_commentAdd=function(a,b){var c=new PhoneDD({hfStateData:hfStateData,parent:a,srpTupleSelector:b}),a=$(a),d=(a.attr("data-val"),$(a).parents(".dropLayer-addTask").siblings(".tel"));"preview"==pageName?c.selectOnPreview(a,d):c.selectOnSRP(a,d,b)}})}();