function scrollToMid(a,b,c,d){var e,f,g=b.offset().top,h=c.offset().top,i=parseInt(h-g);f=Math.round(a.height()/c.outerHeight()),e=f%2==0?Math.round(a.height()/2-c.outerHeight()):parseInt(a.height()/2-c.outerHeight()/2),i-=e,c.addClass(d),a.animate({scrollTop:i})}function isIE(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("msie")&&parseInt(a.split("msie")[1])}function addClass(a){document.getElementsByTagName("body")[0].className=document.getElementsByTagName("body")[0].className+a}function createTags(a){var b,c,d,e,f=this;f.key=a.key,f.text=a.text.replace(/\\/g,""),f.textEncoded=a.text.replace(/\\/g,"").replace(/>/g,"&gt;").replace(/</g,"&lt;"),f.contId=a.contId,f.sugElm=a.suggestorNode,f.deleteIcon=!1!==a.deleteIcon||a.deleteIcon,f.tagType=a.tagType||"li",f.onClick=a.onClick||function(){},f.onCreate=a.onCreate||function(){},f.onDelete=a.onDelete||function(){},f.onHover=a.onHover||function(){},f.onCrossClick=a.onCrossClick||function(){},f.tagExists=a.tagExists||function(){},f.allowDuplicate=a.allowDuplicate||!1,f.placeTagEnd=a.placeTagEnd||!1,f.retainText=a.retainText||!1,f.hiddenAttr=a.hiddenAttr||!1,f.tagTitle=a.tagTitle||!1,f.customTitle=a.customTitle||!1,f.setValInLowercase=a.setValInLowercase||!1,f.className=a.className?"tagit "+a.className:"tagit";var g,h=f.textEncoded.replace(/\_/g,"|xudrScrx|").toLowerCase();b=f.deleteIcon?'<a class="dCross" href="javascript:void(0)">x</a>':"",d=f.hiddenAttr?"data-hidden='"+f.hiddenAttr+"'":"",e=f.tagTitle?f.customTitle?f.customTitle:f.textEncoded.replace(/"/g,"&quot;").replace(/'/g,"&#39;"):"","a"==f.tagType?(c='href="javascript:void(0)"',g=$('<li class="'+f.className+'" data-id='+f.key+"_"+h+' title="'+e+'"><'+f.tagType+" "+c+' class="tagTxt">'+f.textEncoded+"</span>"+b+"</"+f.tagType+">")):g=$("<li "+d+' class="'+f.className+'" data-id='+f.key+"_"+h+'  title="'+e+'"> <span class="tagTxt">'+f.textEncoded+"</span>"+b+"</li>"),g.attr("data-id",f.key+"_"+h).on("click",".tagTxt",function(){f.onClick(g)}).children(".dCross").on("click",function(){f.onCrossClick(g)}),g.on("mouseenter",function(){f.onHover(g)}),f.container=f.contId,f.hdElm=a.hiddenTag||f.container.children("input"),f.setValue(f.text,g),f.bindEvent_cross(g)}function switchPositionCalc(a,b,c,d,e){var f={};switch(a){case"throbTop":f=throb_top(d,c);break;case"throbBottom":f=throb_bottom(d,c);break;case"throbLeft":f=throb_left(e,c);break;case"throbRight":f=throb_right(e,c);break;case"throbTopLeft":f=throb_top_left(c);break;case"throbTopRight":f=throb_top_right(c);break;case"throbBottomLeft":f=throb_bottom_left(c);break;case"throbBottomRight":f=throb_bottom_right(c)}return f}function throb_top(a,b){var c={};return c.throbStructPos={top:0,left:"50%"},c.contDivPos={color:"#f00",bottom:"105%",left:a/2-b.outerWidth()/2+"px"},c}function throb_bottom(a,b){var c={};return c.throbStructPos={top:"100%",left:"50%"},c.contDivPos={color:"#f00",top:"105%",left:a/2-b.outerWidth()/2+"px"},c}function throb_left(a,b){var c={};return c.throbStructPos={top:"50%",left:"0px"},c.contDivPos={color:"#f00",top:a/2-b.outerHeight()/2+"px",right:"105%","margin-right":"20px"},c}function throb_right(a,b){var c={};return c.throbStructPos={top:"50%",left:"100%"},c.contDivPos={color:"#f00",top:a/2-b.outerHeight()/2+"px",left:"105%","margin-left":"20px"},c}function throb_top_left(a){var b={};return b.throbStructPos={top:"0px",left:"0px"},b.contDivPos={color:"#f00",top:-a.outerHeight()/2+"px",right:"105%"},b}function throb_top_right(a){var b={};return b.throbStructPos={top:"0px",left:"100%"},b.contDivPos={color:"#f00",top:-a.outerHeight()/2+"px",left:"105%"},b}function throb_bottom_left(a){var b={};return b.throbStructPos={top:"100%",left:"0px"},b.contDivPos={color:"#f00",bottom:-a.outerHeight()/2+"px",right:"105%"},b}function throb_bottom_right(a){var b={};return b.throbStructPos={top:"100%",left:"100%"},b.contDivPos={color:"#f00",bottom:-a.outerHeight()/2+"px",left:"105%"},b}function setDOMPositions(a,b,c){b.css(a.throbStructPos),c.css(a.contDivPos)}function throbber(){var a={init:function(b){var c=a;c.offset=b.offset,c.maxDisplayCount=b.maxDisplayCount,c.spots=b.spots,c.maxCount=c.spots.length,c.throbStruct='<div id="message_input_tip_card_throbber" class="tip_card_throbber throbbing" style="">',c.contDiv='<div class="throbContent"></div>',c.enableLocalStorage=b.enableLocalStorage;var d;d=localStorage.getItem("viewedThrobbers"),c.viewedSpots=d?d.split(","):[],c.createdSpots=[],c.processSpots()},processSpots:function(){var b=a;b.count=1,$.each(b.spots,function(a,c){c.obj.length&&(b.getIndexArr(b.viewedSpots,c.obj.selector)>=0||b.count>b.maxDisplayCount||(b.count++,b.getIndexArr(b.createdSpots,c.obj.selector)>=0||b.showThrobber(c)))})},getIndexArr:function(a,b){for(var c=-1,d=a.length,e=0;e<d;e++)if(b==a[e]){c=e;break}return c},showThrobber:function(b){var c=a,d=b.obj.innerWidth(),e=b.obj.innerHeight(),f=(b.obj.offset().top,b.obj.offset().left,b.content,b.throbberClass||"bottom"),g=b.throbberContentClass,h=$(c.throbStruct),i=$(c.contDiv);b.offset||c.offset;b.obj.find(".tip_card_throbber").length||b.obj.append(h),b.content&&(i.html(b.content),b.obj.append(i),i.on("click",".throbSkip",function(){h.show(),i.hide()}),i.on("click",".throbDone",function(){h.hide(),i.hide(),c.viewedSpots.push(b.obj.selector),c.enableLocalStorage?(localStorage.setItem("viewedThrobbers",c.viewedSpots),c.processSpots()):$.ajax({type:"POST",url:searchData.newUrl+"/ajax/insertThrobber",data:{id:$(this).data("spot"),pageName:pageName},dataType:"json",success:function(a){if(a.status&&a.url)return void(window.location.href=a.url);a.status&&c.processSpots()},error:function(){}})})),h.on("click",function(){$(".throbContent").hide(),i.show()}),h.add(i).addClass(f),i.addClass(g),setDOMPositions(switchPositionCalc(f,h,i,d,e),h,i),c.createdSpots.push(b.obj.selector)},clearViewedHistory:function(){localStorage.removeItem("viewedThrobbers")}};return{init:a.init,processSpots:a.processSpots,clearViewedHistory:a.clearViewedHistory}}jQuery.extend({highlight:function(a,b,c,d){if(3===a.nodeType){var e=a.data.match(b);if(e){var f=document.createElement(c||"span");f.className=d||"highlight";var g=a.splitText(a.data.indexOf(e[2]));g.splitText(e[2].length);var h=g.cloneNode(!0);return f.appendChild(h),g.parentNode.replaceChild(f,g),1}}else if(1===a.nodeType&&a.childNodes&&!/(script|style)/i.test(a.tagName)&&(a.tagName!==c.toUpperCase()||a.className!==d))for(var i=0;i<a.childNodes.length;i++)i+=jQuery.highlight(a.childNodes[i],b,c,d);return 0}}),jQuery.fn.unhighlight=function(a){var b={className:"highlight",element:"span"};return jQuery.extend(b,a),this.find(b.element+"."+b.className).each(function(){var a=this.parentNode;a.replaceChild(this.firstChild,this),a.normalize()}).end()},jQuery.fn.highlight=function(a,b){var c={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(c,b),a.constructor===String&&(a=[a]),a.sort(function(a,b){return b.length-a.length}),a=jQuery.grep(a,function(a,b){return""!=a}),a=jQuery.map(a,function(a,b){return/^\/.*\/[gimy]*$/.test(a)?a.replace(/^\/(.*)\/[gimy]*$/,"$1"):a.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&").replace(/[\s]/g,"\\s+")}),0==a.length)return this;var d=c.caseSensitive?"":"i",e="("+a.join("|")+")";c.wordsOnly&&(e="([^\\w]|^)"+e+"(?=[^\\w+#]|$)");var f=new RegExp(e,d),g=function(a){var b,d={};d.elipClass=$(".elip-hlt").length?$(".elip-hlt"):$("[class*='elip-hlt-']"),d.hiddenSel=".elip-hid",d.highlightSel="."+c.className,$.each(d.elipClass,function(a,e){b=$(e),d.hiddenAttr=b.attr("class"),d.hiddenAttr.split("elip-hlt-")[1]?(d.hiddenSel="#"+d.hiddenAttr.split("elip-hlt-")[1],$(d.hiddenSel).find(d.highlightSel).length&&b.addClass(c.className)):b.parent().find(".elip-hid "+d.highlightSel).length&&b.addClass(c.className)})};return this.each(function(){jQuery.highlight(this,f,c.element,c.className),c.ellipse&&g()})},jQuery.extend({stringify:function(a){var b=typeof a;if("object"!=b||null===a)return"string"==b&&(a='"'+a+'"'),String(a);var c,d,e=[],f=a&&a.constructor==Array;for(c in a)d=a[c],b=typeof d,a.hasOwnProperty(c)&&("string"==b?d='"'+d+'"':"object"==b&&null!==d&&(d=jQuery.stringify(d)),e.push((f?"":'"'+c+'":')+String(d)));return(f?"[":"{")+String(e)+(f?"]":"}")}});var ieObj={scrollHandler:function(a,b,c,d){if(d.length){var e,f=b.height(),g=b.scrollTop(),h=f+g,i=d.position().top+b.scrollTop(),j=i+d.outerHeight();return j>=h?(e=j-f>0?j-f:0,b.scrollTop(e)):i<b.scrollTop()&&(e=i,b.scrollTop(e)),e}}};$.support.placeholder=function(){return"placeholder"in document.createElement("input")}(jQuery),commonValidator=function(){var a={validate:function(b){var c=a;c.befSbt=b.beforeSubmit||null,c.disSbt=b.disableSubmit||null,c.lastErr=null,c.isVld=null,c.erArry={},c.noVld=!1,c.errs=b.errors||commonErrList,c.cFocus=b.clearOnFocus||!1,c.eFocus=!1!==b.focusOnError;var d=!1!==b.inlineErrors;if(b.messageBox)var e=b.messageBox.id||null,f=b.messageBox.content||null,g=b.messageBox.hideOthers||!1;else var e,f=null;if(b.styles){var h=b.styles.errorClass||null,i=b.styles.okClass||null,j=b.styles.softMandClass||null;k=b.styles.parentObjectClass||null,l=b.styles.maxLevel||1}else var h="err",i="ok",j="softMand",k=null,l=1;var m=b.formNames||null,n=b.defaultEvents||null,o=b.submitButton||null,p=b.fireDelay||0;if(m.constructor===Array)for(var q=0;q<m.length;q++)c.validInit(m[q],o,h,i,j,k,l,e,f,g,d,n,p);else c.validInit(m,o,h,i,j,k,l,e,f,g,d,n,p)},validInit:function(b,c,d,e,f,g,h,i,j,k,l,m,n){var o,p,q,r=a,s=$("form[name="+b+"]").get(0);if(!s){var t=new Error(b);throw t.name="CommonValidator Form",t}if(r.fName=b,r[b]={pExist:g,pLevel:h},r.checkEvents(s,d,e,f,l,m),c)for(p=r.getSbtBtns($(s),c),o=0;o<p.length;o++)"submit"!=p[o].attr("type")&&(""!=p[o].attr("rel")&&"noValidate"==p[o].attr("rel")?p[o].on("click",function(){r.noVld=!0,$(s).submit()}):p[o].on("click",function(){setTimeout(function(){r.isVld=r.checkSubmit(s,c,d,e,f,i,j,k,l)},parseInt(n))}));$(s).submit(function(){return 0===parseInt(n)?(q=!!r.noVld||r.checkSubmit(s,c,d,e,f,i,j,k,l),r.befSbt&&r.befSbt(),!r.disSbt&&q):(setTimeout(function(){q=!!r.noVld||r.checkSubmit(s,c,d,e,f,i,j,k,l),r.befSbt&&r.befSbt(),!r.disSbt&&q&&(r.sanitizeDefaultValues(s),$(s).get(0).submit())},parseInt(n)),!1)})},setDefaultValues:function(b){var c,d=a,e=b?$(b):$("form[name="+d.fName+"]"),f=d.getFrmElms($(e),!0);for(c=0;c<f.length;c++)""!=f[c].val()&&f[c].val()!=f[c].attr("placeholder")||(f[c].val(f[c].attr("placeholder")),f[c].css({color:"#a9a9a9"})),f[c].on("focus blur",function(a){g(a,$(this))});var g=function(a,b){b.val()==b.attr("placeholder")&&"focus"==a.type?(b.val(""),b.css({color:""})):""!=b.val()&&b.val()!=b.attr("placeholder")||"blur"!=a.type||(b.val(b.attr("placeholder")),b.css({color:"#a9a9a9"}))}},sanitizeDefaultValues:function(b){var c,d=a,e=b?$(b):$("form[name="+d.fName+"]"),f=d.getFrmElms($(e),!0);for(c=0;c<f.length;c++)f[c].val()==f[c].attr("placeholder")&&f[c].val("")},checkEvents:function(b,c,d,e,f,g){var h,i,j=a,k=null,l=j.getFrmElms($(b),!1);for(h=0;h<l.length;h++){var m=l[h].attr("rel").split("|")[0];if((l[h].attr("rel").split("|")[1]||g)&&(g&&(g.constructor===Array||(g=new Array(g))),k=l[h].attr("rel").split("|")[1]?l[h].attr("rel").split("|")[1].split(","):g))for(i=0;i<k.length;i++)l[h].on(k[i],function(a,b,c,d,e,g){return function(h){j.checkValids(a,b,h,c,d,e,g,f)}}(m,l[h],b,c,d,e));j.cFocus&&l[h].on("focus",function(a,b,c,d,e,f){return function(g){j.clearError(g,a,b,c,d,e,f,!0)}}(m,l[h],b,c,d,e))}},checkSubmit:function(b,c,d,e,f,g,h,i,j){var k,l,m,n,o,p=a,q=!1,r=p.getFrmElms($(b),!1),s=p.getSbtBtns($(b),c);for(i&&$(".mgBox").hide(),$(b).attr("chk",!1),p.erArry={},k=0;k<s.length;k++)""!=s[k].attr("rel")&&$.trim(s[k].attr("rel")).length&&"noValidate"!=s[k].attr("rel")&&(o="custom:"+s[k].attr("rel").split("|")[0],n=p.checkValids(o,s[k],"submit",b,d,e,f,j),q||n||(q=!0));for(l=r.length-1;l>=0;l--)m=r[l].attr("rel").split("|")[0],n=p.checkValids(m,r[l],"submit",b,d,e,f,j),q||n||(q=!0);if(p.lastErr&&"true"==$(b).attr("chk")){if(g){if($("#"+g+"_cMsgCnt")&&$("#"+g+"_cMsgCnt").remove(),h){var t,u=[],v=$("<div>");v.attr("id",g+"_cMsgCnt");for(t in p.erArry)u.push(p.erArry[t]);if(h.customContent){var w=h.customContent,x=$("<p>");x.html(w),v.append(x)}if(h.errorMessages){var l,y=$("<ul>");for(l=u.length-1;l>=0;l--){var z=$("<li>");z.html(u[l]),y.append(z)}v.append(y)}if(h.errorCount){var A=h.errorCount,B=$("<p>");A=1!=A?A.replace("[errCount]",u.length):"Total "+u.length+" errors found in the form.",B.html(A),v.append(B)}$("#"+g).append(v)}$("#"+g).show()}p.eFocus&&(p.lastErr.obj?$(p.lastErr.objCont).focus():p.lastErr.focus())}else g&&$("#"+g).hide();return!q},clearError:function(b,c,d,e,f,g,h){var i,j=a,k=c.split(","),l="";for(i=0;i<k.length;i++)l=j.errs[k[i].split(":")[1]]||k[i].split(":")[1],l.constructor===Function&&(l=l()),j.heighlightErrOk(l,d,e,"rem",f,g,h)},isValid:function(b){var c,d,e=a,f=b?$("#"+b):$("form[name="+e.fName+"]"),g=!1;if("form"==f.get(0).nodeName.toLowerCase()){var h=e.getFrmElms(f,!1);for(c=h.length-1;c>=0;c--)"button"!=h[c].attr("type")&&"submit"!=h[c].attr("type")&&""!=h[c].attr("rel")&&h[c].attr("rel").split("|")[0].indexOf("softReq")<0&&(d=h[c].attr("rel").split("|")[0],g||e.checkValids(d,h[c])&&(g=!0));return!g}if(""!=f.attr("rel")){var i=f.attr("rel").split("|")[0];return!e.checkValids(i,f)}},isValidSrv:function(b){function c(a,b,c,f,g,h,i,j,k,l,m){switch(a){case"required":return e.reqChk(b,m);case"alphaDS":return e.alphadsChk(b,m);case"alpha":return e.alphaChk(b,m);case"num":return e.numChk(b,m);case"float":return e.floatChk(b,m);case"alphanum":return e.alphanumChk(b,m);case"email":return e.emailChk(b,m);case"specialChar":return e.splChk(b,m);case"charRange":return e.rangeChk(b,g,h,k);case"valRange":return e.rangeVChk(b,i,j,k);case"checked":return e.checkedChkSrv(b);case"selected":return e.selectedChkSrv(b,f);case"custom":var n=d.errs[m];fn=this[n.func];var o=fn.apply(this,n.fields);return"object"==typeof o&&0==o.msg&&(o=""),o}}var d=a,e=d.validators;d.errs=b.custom||{},d.errs.__proto__=commonErrList;for(var f=b.name,g=b.val||"",h=b.custom||null,i="",j=arr[f],k=j.rel.split(","),l=j.defVal||null,m=j.defSelected||"-1",n=j.minL||null,o=j.maxL||null,p=j.minV||null,q=j.maxV||null,r=j.scope||"in",s=0;s<k.length;)if(c(k[s].split(":")[0],g,l,m,n,o,p,q,r,h,k[s].split(":")[1])){if(i+=f+":"+k[s].split(":")[0]+">"+k[s].split(":")[1]+">","custom"!=k[s].split(":")[0]){var t=d.errs[k[s].split(":")[1]].msg?d.errs[k[s].split(":")[1]].msg:d.errs[k[s].split(":")[1]];i+=t.replace("[currVal]",g).replace("[MinL]",n).replace("[MaxL]",o).replace("[MinV]",p).replace("[MaxV]",q)}else i+=c("custom",g,"","","","","","","",h,k[s].split(":")[1]);s=k.length+1,i+=","}else s++;return i+=";",0==i.lastIndexOf(";")&&(i=""),i},checkValids:function(b,c,d,e,f,g,h,i){var j,k=a,l=!1,m=0,n=!1,o=!1;if(2==arguments.length?(l=!0,m=1):9!=d.keyCode&&16!=d.keyCode&&17!=d.keyCode&&18!=d.keyCode&&35!=d.keyCode&&36!=d.keyCode&&27!=d.keyCode&&20!=d.keyCode&&13!=d.keyCode&&(m=1),1==m){var p,q=!1,r="",s=b.split(",");for(p=0;p<s.length;p++)if(!q)switch(s[p].split(":")[0]){case"softReq":j=c.attr("placeholder")&&c.val()==c.attr("placeholder")?"":c.val(),l?n||(n=k.validators.reqChk(j,s[p].split(":")[1])):(q=k.validators.reqChk(j,s[p].split(":")[1]),r=s[p].split(":")[1],o=!!q);break;case"required":j=c.attr("placeholder")&&c.val()==c.attr("placeholder")?"":c.val(),l?n||(n=k.validators.reqChk(j,s[p].split(":")[1])):(q=k.validators.reqChk(j,s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"alphaDS":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.alphadsChk(c.val(),s[p].split(":")[1])):(q=k.validators.alphadsChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"alpha":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.alphaChk(c.val(),s[p].split(":")[1])):(q=k.validators.alphaChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"num":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.numChk(c.val(),s[p].split(":")[1])):(q=k.validators.numChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"float":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.floatChk(c.val(),s[p].split(":")[1])):(q=k.validators.floatChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"alphanum":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.alphanumChk(c.val(),s[p].split(":")[1])):(q=k.validators.alphanumChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"email":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.emailChk(c.val(),s[p].split(":")[1])):(q=k.validators.emailChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"specialChar":c.attr("placeholder")&&c.val()==c.attr("placeholder")?q=!1:l?n||(n=k.validators.splChk(c.val(),s[p].split(":")[1])):(q=k.validators.splChk(c.val(),s[p].split(":")[1]),r=s[p].split(":")[1]);break;case"charRange":if(c.attr("placeholder")&&c.val()==c.attr("placeholder"))q=!1;else{var t=c,u=t.attr("minL")?t.attr("minL"):t.attr("minlength"),v=t.attr("maxL")?t.attr("maxL"):t.attr("maxlength"),w="";w=t.attr("scope")&&""!=t.attr("scope")?t.attr("scope"):"in",l?n||(n=k.validators.rangeChk(t.val(),u,v,w)):(q=k.validators.rangeChk(t.val(),u,v,w),r=s[p].split(":")[1])}break;case"valRange":if(c.attr("placeholder")&&c.val()==c.attr("placeholder"))q=!1;else{var t=c,x=t.attr("minval")?parseFloat(t.attr("minval")):parseFloat(t.attr("minV")),y=t.attr("maxval")?parseFloat(t.attr("maxval")):parseFloat(t.attr("maxV")),w="";w=t.attr("scope")&&""!=t.attr("scope")?t.attr("scope"):"in",l?n||(n=k.validators.rangeVChk(t.val(),x,y,w)):(q=k.validators.rangeVChk(t.val(),x,y,w),r=s[p].split(":")[1])}break;case"checked":if(l){if("checkbox"==c.attr("type")){for(var e,z=c;"form"!=z.get(0).nodeName.toLowerCase();)z=z.parent();n||(n=k.validators.checkedChk(c,z.get(0)))}else if("radio"==c.attr("type")){for(var e,z=c;"form"!=z.get(0).nodeName.toLowerCase();)z=z.parent();n||(n=k.validators.checkedRadChk(c,z.get(0)))}}else"checkbox"==c.attr("type")?q=k.validators.checkedChk(c,e):"radio"==c.attr("type")&&(q=k.validators.checkedRadChk(c,e)),r=s[p].split(":")[1];break;case"selected":l?n||(n=k.validators.selectedChk(c)):(q=k.validators.selectedChk(c),r=s[p].split(":")[1]);break;case"custom":if(j=c.attr("placeholder")&&c.val()==c.attr("placeholder")?"":c.val(),l){var A=k.errs[s[p].split(":")[1]],B=A(c,!0);B.constructor===Object&&(B=B.msg),B&&(B=!0),n||(n=B)}else if(k.errs[s[p].split(":")[1]])var A=k.errs[s[p].split(":")[1]],B=A(c);q=B&&B.constructor===Object?B.msg:B,r=B}return l?n:q&&!o?(k.heighlightErrOk(r,c,e,"err",f,g,h,i),k.lastErr=c,!1):q&&o?(k.heighlightErrOk(r,c,e,"sMnd",f,g,h,i),k.lastErr=k.lastErr,!0):(k.heighlightErrOk(r,c,e,"ok",f,g,h,i),!0)}},heighlightErrOk:function(b,c,d,e,f,g,h,i){var j,k=a,l=null,m=k.errs[b]||b,n=c.attr("id")+"_err",o=c.attr("name")+"_err",p=$(d).find(".erLbl"),q=c.attr("id")||c.attr("name"),r=null,s=$(d).attr("name");if(b&&b.constructor===Object&&!k.errs[b]&&(m=b.msg,b.id&&(n=o=b.id),b.errorField&&(r=b.errorField)),m&&m.constructor===Object){var t=m;m=t.msg,t.id&&(n=o=t.id),t.errorField&&(r=t.errorField)}for(j=0;j<p.length;j++)p.eq(j).attr("id")!=n&&p.eq(j).attr("id")!=o||(l=p.eq(j));var u,v=null;if(k[s].pExist)for(u=0;u<k[s].pLevel;u++)if(c.parents().eq(u).hasClass(k[s].pExist)){v=c.parents().eq(u);break}if("err"==e){if(v&&v.length>0)v.removeClass(f+" "+g+" "+h).addClass(f);else{if(r){var w=$(d).find(r);w.removeClass(f+" "+g+" "+h).addClass(f)}else c.removeClass(f+" "+g+" "+h).addClass(f);l&&(l.removeClass(g+" "+h),!l.hasClass(f)&&i&&l.addClass(f))}if(l){var x=c.attr("minL")||c.attr("minlength"),y=c.attr("maxL")||c.attr("maxlength"),z=c.attr("minV")||c.attr("minval"),A=c.attr("maxV")||c.attr("maxval");l.attr("id");m=m.replace("[MinL]",x).replace("[MaxL]",y).replace("[MinV]",z).replace("[MaxV]",A).replace("[currVal]",c.val()?c.val().toString().replace("<","&lt;").replace(">","&gt;"):""),i&&l.html(m),k.erArry[q]=m}$(d).attr("chk","true")}else if("ok"==e){if(v&&v.length>0)v.removeClass(f+" "+g+" "+h).addClass(g);else if(r){var w=$(d).find(r);w.removeClass(f+" "+g+" "+h).addClass(g)}else c.removeClass(f+" "+g+" "+h).addClass(g);l&&(l.html(""),l.removeClass(f+" "+h))}else if("sMnd"==e){if(v&&v.length>0?v.removeClass(f+" "+g+" "+h).addClass(h):(c.removeClass(f+" "+g+" "+h).addClass(h),l&&(l.removeClass(f+" "+g),!l.hasClass(h)&&i&&l.addClass(h))),l){var x=c.attr("minL")||c.attr("minlength"),y=c.attr("maxL")||c.attr("maxlength"),z=c.attr("minV")||c.attr("minval"),A=c.attr("maxV")||c.attr("maxval");l.attr("id");m=m.toString().replace("[MinL]",x).replace("[MaxL]",y).replace("[MinV]",z).replace("[MaxV]",A).replace("[currVal]",c.val().replace("<","&lt;").replace(">","&gt;")),i&&l.html(m),k.erArry[q]=m}}else"rem"==e&&(v&&v.length>0?v.removeClass(f+" "+h):(c.removeClass(f+" "+h),l&&l.removeClass(f+" "+h)),l&&l.html(""))},validators:{reqChk:function(b,c){var d=/^\s*$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),!!d.test(b)},alphadsChk:function(b,c){var d=/^[a-zA-Z.\s]+$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&(b=$.trim(b),0==b.indexOf(".")||!d.test(b))},alphaChk:function(b,c){var d=/^[a-zA-Z]+$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},numChk:function(b,c){var d=/^[-]?[0-9]+$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},floatChk:function(b,c){var d=/^[-]?[0-9]+(\.[0-9]+)?([eE][+-]?[0-9]+)?$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},alphanumChk:function(b,c){var d=/^[a-zA-Z0-9]+$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},emailChk:function(b,c){var d=/^([0-9a-zA-Z]([\.\w]*[0-9a-zA-Z])*@([0-9a-zA-Z][-\w]*[0-9a-zA-Z]\.)+[a-zA-Z]{2,4})$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},splChk:function(b,c){var d=/^[a-zA-Z\d\s]+$/;return a.errs[c]&&(d=new RegExp(a.errs[c].regEx||d)),""!=b&&!d.test($.trim(b))},rangeChk:function(a,b,c,d){if(c&&""!=c||(c=a.length+1),""==a)return!1;var d=d||"in",a=new String(a);if("in"==d)return(a.length<b||a.length>c)&&b+":"+c;if("out"==d){if(!(a.length>b))return!1;if(a.length<c)return b+":"+c}},rangeVChk:function(a,b,c,d){if(""==a)return!1;var d=d||"in";if("in"==d)return(parseFloat($.trim(a))<b||parseFloat($.trim(a))>c)&&b+":"+c;if("out"==d){if(!(parseFloat($.trim(a))>b))return!1;if(parseFloat($.trim(a))<c)return b+":"+c}},checkedRadChk:function(a,b){var c,d=!1,e=$(b).find("input[type=radio]");for(c=0;c<e.length;c++)e.eq(c).attr("name")==a.attr("name")&&e.eq(c).is(":checked")&&(d=!0);return ret=!d},checkedChk:function(a,b){var c,d=!1,e=$(b).find("input[type=checkbox]");for(c=0;c<e.length;c++)e.eq(c).attr("name")==a.attr("name")&&e.eq(c).is(":checked")&&(d=!0);return ret=!d},checkedChkSrv:function(a){return null==a||""==a},selectedChk:function(a){return 0==a.get(0).selectedIndex},selectedChkSrv:function(a,b){return a==b}},getFrmElms:function(a,b){var c,d=[],e=a.get(0).elements;for(c=0;c<e.length;c++){var f=e[c].nodeName.toLowerCase();b?"input"!=f&&"select"!=f&&"textarea"!=f||"submit"==$(e[c]).attr("type")||""==$(e[c]).attr("placeholder")||d.push($(e[c])):"input"!=f&&"select"!=f&&"textarea"!=f||"submit"==$(e[c]).attr("type")||!$(e[c]).attr("rel")||""==$(e[c]).attr("rel")||d.push($(e[c]))}return d},getSbtBtns:function(a,b){var c,d=[],e=a.find("input[type=submit], button[type=submit]");if(e.length>0&&d.push(e),b)if(b.constructor===Array)for(c=0;c<b.length;c++)d.push($("#"+b[c]));else d.push($("#"+b));return d},hideElement:function(b){var c,d=a,b=b||null;if(b)if(b.constructor===Array)for(c=0;c<b.length;c++)d.processAltRel(b[c],"h");else d.processAltRel(b,"h")},showElement:function(b){var c,d=a,b=b||null;if(b)if(b.constructor===Array)for(c=0;c<b.length;c++)d.processAltRel(b[c],"s");else d.processAltRel(b,"s")},processAltRel:function(a,b){"s"==b?$("#"+a).attr("rel",$("#"+a).attr("altrel")):"h"==b&&($("#"+a).attr("altrel")||$("#"+a).attr("altrel",$("#"+a).attr("rel")),$("#"+a).removeAttr("rel"))},supportPlaceholder:function(){return"placeholder"in document.createElement("input")},fillVal:function(a){if(a.constructor===Object)for(var b in a)$("#"+b).val(a[b]).css({color:""})}};return{validate:a.validate,showElement:a.showElement,hideElement:a.hideElement,isValid:a.isValid,checkValids:a.checkValids,fillVal:a.fillVal,setDefaultValues:a.setDefaultValues,sanitizeDefaultValues:a.sanitizeDefaultValues,isValidSrv:a.isValidSrv,validators:a.validators}},$.fn.lightBox||function(a){function b(b,d){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,!(!b.href||!f||"map"!==e.nodeName.toLowerCase())&&(!!(g=a("img[usemap=#"+f+"]")[0])&&c(g))):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||d:d)&&c(b)}function c(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}a.expr[":"].focusable=function(c){return b(c,!isNaN(a.attr(c,"tabindex")))};var d={is_options_valid:function(a){return!(!a||!a.ltBox||1!==a.ltBox.prop("nodeType"))},is_animtion_support:function(){return null===window.navigator.userAgent.match(/MSIE (7|8|9)/)},switchClass:function(a,b){this.removeClass(a).addClass(b)}};a.fn.lightBox=function(b){var c=null;return d.is_options_valid(b)&&a.each(this,function(d,f){var g=a(f);c=new e(b,g),g.data("lt_Box",c)}),this.data("lt_Box")||c};var e=function(a,b){var c=b.data("lt_Box");c&&c.options.ltBox[0]===a.ltBox[0]&&c.reInit(),a.trigger=b,this.init(a)},f=function(){function b(){var b=this.options.open.minZIndex;return a(".ltCont .ltLayer").each(function(){var c=parseInt(a(this).css("z-index"));c>b&&(b=c)}),b}var c={ltBox:null,dimens:{height:"auto",width:"auto"},resetForm:!1,fixed:!1,open:{minZIndex:999,success:function(){},event:"click",anim:{className:""}},close:{esc:!0,layer:!0,nodes:{target:"",event:"click",selector:""},success:function(){},returnFocus:!0,anim:{className:"",duration:0}}},e=function(){var b=a('<div class="ltCont close"></div>').attr("tabIndex",0),c=a('<div class="ltLayer close"></div>');return b.append(c),a(window).bind("resize",function(){try{if(e.stack.length){var a=e.stack[0];f.call(a)}}catch(a){}}),a("html").keydown(function(a){27===a.keyCode&&e.stack.length&&e.stack[0].options.close.esc&&e.stack[0].close()}),c.click(function(){e.stack.length&&e.stack[0].options.close.layer&&e.stack[0].close()}),{stack:[],cont:b,layer:c}}();a(function(){a("body").append(e.cont)}),a.fn.lightBox.close=function(a){var b,c;b=0,c=0,a=a||{},a.all&&(b=e.stack.length-1),a.allPrevious?(b=e.stack.length-1,c=1):a.index&&(c=b=a.index);for(var d=b;d>=c;d--)d in e.stack&&e.stack[d].close(d,a.noAnim)},a.fn.lightBox.closeAll=function(b){a.fn.lightBox.close(b||{all:!0})};var f=(function(){e.cont.keydown(function(a){if(e.stack.length&&9===a.keyCode){var b=e.stack[0].options.ltBox.find(":focusable"),c=b.first(),d=b.last();return a.target!==d[0]&&a.target!==a.currentTarget||a.shiftKey?a.target!==c[0]&&a.target!==a.currentTarget||!a.shiftKey?void a.stopPropagation():(d&&d.focus(),!1):(c&&c.focus(),!1)}}),a("html").keydown(function(a){if(9===a.keyCode)return e.stack.length?(e.cont.focus(),!1):void 0})}(),function(){a(".ltCont").css({width:"auto",height:"auto"}),a(".ltLayer").css({width:"auto",height:"auto"});var b=document.documentElement||document.body,c=a(window).height(),d=a(document).height(),f=a(window).width(),g=a(document).width(),h=window.pageYOffset?pageYOffset:b.scrollTop,i=(window.pageXOffset?pageXOffset:b.scrollLeft,c-this.options.ltBox.height()),j=0,k=f-this.options.ltBox.width(),l=0;return i>0?j=(this.options.fixed?0:h)+i/2:(j=0,window.scrollTo(0,j)),l=k>0?k/2:0,e.cont.css({width:g+"px",height:d+"px"}),e.layer.css({width:g+"px",height:d+"px"}),this.options.ltBox.css({top:this.options.dimens.top?this.options.dimens.top+"px":j+"px",left:l+"px"}),!0}),g=function(){this.options.ltBox.css({position:this.options.fixed?"fixed":"absolute",width:this.options.dimens.width,height:this.options.dimens.height})},h=function(b){this.options=a.extend(!0,{},c,b)},i=function(){this.options.ltBox.parent().hasClass("ltCont")||e.cont.append(this.options.ltBox)},j={open:function(){var a=[this.options.close.anim.className,this.options.open.anim.className];d.switchClass.call(this.options.ltBox,a[0],a[1])},close:function(a){var b=[this.options.close.anim.className,this.options.open.anim.className];d.switchClass.call(this.options.ltBox,b[1],b[0]);var c=0;d.is_animtion_support()&&(c=this.options.close.anim.duration),setTimeout(function(){a.cb()},c)}},k=function(){e.stack.length||(e.cont.removeClass("close"),d.switchClass.call(e.layer,"close","open")),m.call(this);var c=b.call(this);e.layer.css({zIndex:c+3,width:a(document).outerWidth()+"px",height:a(document).outerHeight()+"px"}),e.cont.css("zIndex",c+1),this.options.ltBox.css("zIndex",c+3),this.options.ltBox.addClass("lightbox_open"),f.call(this),j.open.call(this),l.call(this),-1===a.inArray(this,e.stack)&&e.stack.unshift(this),this.options.open.success()},l=function(){var a=document.documentElement.scrollTop,b=this.options.open.firstFocus;b?b.focus():e.cont.focus(),document.documentElement.scrollTop=a},m=function(){if(this.options.resetForm)for(var a=this.options.ltBox.find("form"),b=0;b<a.length;b++)a[b].reset()},n=function(b,c){var g=this;e.stack;if(b=b||a(e.stack).index(this),e.stack.length&&!(b<0)){e.stack.splice(b,1);var h={cb:function(){if(g.options.ltBox.removeClass("lightbox_open"),e.stack.length){var a=e.stack[0];e.layer.css("zIndex",a.options.ltBox.css("zIndex")),f.call(a)}else e.cont.addClass("close");o.call(g),m.call(g),g.options.close.success()}};c?h.cb():j.close.call(this,h),e.stack.length||d.switchClass.call(e.layer,"open","close")}},o=function(){if(!e.stack.length){var b=this.options.close.returnFocus;!0===b?this.options.trigger.focus():a(b).focus()}},p=function(){var a=this;this.options.trigger.on(this.options.open.event+".lightBox",function(){a.open()}),q.call(this,this.options.close.nodes)},q=function(b){var d=this;if("array"===a.type(b))return void a.each(b,function(a,b){q.call(d,b)});var e=null;b.constructor===jQuery?(e=a.extend({},c.close.nodes),e.target=b):e={target:a(b.target),event:b.event,selector:b.selector},e.target.on(e.event,e.selector,function(){d.close()})},r=function(a){h.call(this,a),i.call(this),g.call(this),p.call(this),this.options.ltBox.addClass(this.options.close.anim.className)},s=function(){this.options.trigger.off(this.options.open.event+".lightBox")};return{init:r,reInit:s,resize:f,open:k,close:n}}();e.prototype=f}(jQuery),function(){function a(b,c,d){this.maxSize_=b||-1,this.debug_=c||!1,this.storage_=d||new a.BasicCacheStorage,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,this.log_("Initialized cache with size "+b)}a.Priority={LOW:1,NORMAL:2,HIGH:4},a.BasicCacheStorage=function(){this.items_={},this.count_=0},a.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},a.BasicCacheStorage.prototype.set=function(a,b){void 0===this.get(a)&&this.count_++,this.items_[a]=b},a.BasicCacheStorage.prototype.size=function(a,b){return this.count_},a.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return void 0!==b&&this.count_--,delete this.items_[a],b},a.BasicCacheStorage.prototype.keys=function(){var a,b=[];for(a in this.items_)b.push(a);return b},a.LocalStorageCacheStorage=function(a){this.prefix_="cache-storage."+(a||"default")+".";var b=this.prefix_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.regexp_=new RegExp("^"+b)},a.LocalStorageCacheStorage.prototype.get=function(a){var b=window.localStorage[this.prefix_+a];return b?JSON.parse(b):null},a.LocalStorageCacheStorage.prototype.set=function(a,b){window.localStorage[this.prefix_+a]=JSON.stringify(b)},a.LocalStorageCacheStorage.prototype.size=function(a,b){return this.keys().length},a.LocalStorageCacheStorage.prototype.remove=function(a){var b=this.get(a)
;return delete window.localStorage[this.prefix_+a],b},a.LocalStorageCacheStorage.prototype.keys=function(){var a,b=[];for(a in window.localStorage)a.match(this.regexp_)&&b.push(a.replace(this.prefix_,""));return b},a.prototype.getItem=function(a){var b=this.storage_.get(a);null!=b&&(this.isExpired_(b)?(this.removeItem(a),b=null):b.lastAccessed=(new Date).getTime());var c=b?b.value:null;return c?(this.stats_.hits++,this.log_("Cache HIT for key "+a)):(this.stats_.misses++,this.log_("Cache MISS for key "+a)),c},a._CacheItem=function(b,c,d){if(!b)throw new Error("key cannot be null or empty");this.key=b,this.value=c,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=a.Priority.NORMAL),this.options=d,this.lastAccessed=(new Date).getTime()},a.prototype.setItem=function(b,c,d){if(null!=this.storage_.get(b)&&this.removeItem(b),this.addItem_(new a._CacheItem(b,c,d)),this.log_("Setting key "+b),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},a.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.removeItem(a[b]);this.log_("Cache cleared")},a.prototype.getStats=function(){return this.stats_},a.prototype.toHtmlString=function(){for(var a=this.size()+" item(s) in cache<br /><ul>",b=this.storage_.keys(),c=0;c<b.length;c++){var d=this.storage_.get(b[c]);a=a+"<li>"+d.key.toString()+" = "+d.value.toString()+"</li>"}return a+="</ul>"},a.prototype.resize=function(a){this.log_("Resizing Cache from "+this.maxSize_+" to "+a);var b=this.maxSize_;this.maxSize_=a,a>0&&(b<0||a<b)&&this.size()>a&&this.purge_(),this.log_("Resizing done")},a.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.removeItem(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.removeItem(g.key)}this.log_("Purged cached")},a.prototype.addItem_=function(a,b){try{this.storage_.set(a.key,a)}catch(c){if(b)throw this.log_("Failed setting again, giving up: "+c.toString()),c;this.log_("Error adding item, purging and trying again: "+c.toString()),this.purge_(),this.addItem_(a,!0)}},a.prototype.removeItem=function(a){var b=this.storage_.remove(a);return this.log_("removed key "+a),b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},a.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c];!0===a(d,this.storage_.get(d).value)&&this.removeItem(d)}},a.prototype.size=function(){return this.storage_.size()},a.prototype.isExpired_=function(a){var b=(new Date).getTime(),c=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<b&&(c=!0),!c&&a.options.expirationSliding){a.lastAccessed+1e3*a.options.expirationSliding<b&&(c=!0)}return c},a.prototype.log_=function(a){this.debug_};var b=this;"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd?(define("ncCache",function(){return a}),b.Cache=a):b.Cache=a,a.UserDataCacheStorage=function(a){var a=a,b=document.createElement("div");b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior("#default#userdata"),this.get=function(c){b.load(a);var d=b.getAttribute(c);return d?$.parseJSON(d):null},this.set=function(c,d){b.load(a),b.setAttribute(c,$.stringify(d)),b.save(a)},this.size=function(a,c){return b.XMLDocument.documentElement.attributes.length},this.remove=function(c){b.load(a),b.removeAttribute(c),b.save(a)},this.keys=function(){b.load(a);for(var c,d=-1,e=[];c=b.XMLDocument.documentElement.attributes[++d];)e.push(c.name);return e}},ncCacheFactory=function(){},ncCacheFactory.getCache=function(b,c){if(void 0===b||parseInt(b)<=0)throw new"Invalid app id: "+b;c=c||"localStorage";var d=window.navigator.userAgent.match(/MSIE 7/),e=null;if("localStorage"==c&&(d?e=new a.UserDataCacheStorage(String(b)):void 0!==window.localStorage&&(e=new a.LocalStorageCacheStorage(String(b)))),null==e)throw"Unsupported storage type: "+c;return new a(-1,!1,e)}}();var suggestor_iife=function(a){"use strict";function b(a){var b=document.cookie.indexOf(a+"="),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length))return"";if(-1==b)return"";var d=document.cookie.indexOf(";",c);return-1==d&&(d=document.cookie.length),decodeURI(document.cookie.substring(c,d))}function c(a,b,d){this.maxSize_=a||-1,this.debug_=b||!1,this.storage_=d||new c.BasicCacheStorage,this.fillFactor_=.75,this.stats_={},this.stats_.hits=0,this.stats_.misses=0,this.log_("Initialized cache with size "+a)}function d(){}function e(a){l=[a]}function f(a,b,c){return a&&a.apply(b.context||b,c)}function g(a){return/\?/.test(a)?"&":"?"}function h(a){function b(b){W++||(X(),R&&(F[T]={s:[b]}),N&&(b=N.apply(a,[b])),f(K,a,[b,A,a]),f(M,a,[a,A]))}function c(b){W++||(X(),R&&b!=B&&(F[T]=b),f(L,a,[a,b]),f(M,a,[a,b]))}a=$.extend({},H,a);var h,i,j,k,m,K=a.success,L=a.error,M=a.complete,N=a.dataFilter,O=a.callbackParameter,P=a.callback,Q=a.cache,R=a.pageCache,S=a.charset,T=a.url,U=a.data,V=a.timeout,W=0,X=d;return D&&D(function(a){a.done(K).fail(L),K=a.resolve,L=a.reject}).promise(a),a.abort=function(){!W++&&X()},!1===f(a.beforeSend,a,[a])||W?a:(T=T||p,U=U?"string"==typeof U?U:$.param(U,a.traditional):p,T+=U?g(T)+U:p,O&&(T+=g(T)+encodeURIComponent(O)+"=?"),!Q&&!R&&(T+=g(T)+"_"+(new Date).getTime()+"="),T=T.replace(/=\?(&|$)/,"="+P+"$1"),R&&(h=F[T])?h.s?b(h.s[0]):c(h):(C[P]=e,j=$(z)[0],j.id=s+G++,S&&(j[o]=S),I&&I.version()<11.6?(k=$(z)[0]).text="document.getElementById('"+j.id+"')."+u+"()":j[n]=n,J&&(j.htmlFor=j.id,j.event=t),j[v]=j[u]=j[w]=function(a){if(!j[x]||!/i/.test(j[x])){try{j[t]&&j[t]()}catch(a){}a=l,l=0,a?b(a[0]):c(q)}},j.src=T,X=function(a){m&&clearTimeout(m),j[w]=j[v]=j[u]=null,E[y](j),k&&E[y](k)},E[r](j,i=E.firstChild),k&&E[r](k,i),m=V>0&&setTimeout(function(){c(B)},V)),a)}function i(){$(document).on("click.suggestor",function(a){var b=$(a.target).closest(".suggest");M[b.attr("id")]&&b.is(".suggest")||$.each(M,function(a,b){var c=$(this).attr("id").split("_")[1],d=$(this).parent().find(".sugInp"),e=d.val();e&&d.val(e.replace(/,\s*$/,"")),$(this).removeClass("slideDown"),delete M[c]})})}c.Priority={LOW:1,NORMAL:2,HIGH:4},c.BasicCacheStorage=function(){this.items_={},this.count_=0},c.BasicCacheStorage.prototype.get=function(a){return this.items_[a]},c.BasicCacheStorage.prototype.set=function(a,b){void 0===this.get(a)&&this.count_++,this.items_[a]=b},c.BasicCacheStorage.prototype.size=function(a,b){return this.count_},c.BasicCacheStorage.prototype.remove=function(a){var b=this.get(a);return void 0!==b&&this.count_--,delete this.items_[a],b},c.BasicCacheStorage.prototype.keys=function(){var a,b=[];for(a in this.items_)b.push(a);return b},c.LocalStorageCacheStorage=function(a){this.prefix_="cache-storage."+(a||"default")+".";var b=this.prefix_.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");this.regexp_=new RegExp("^"+b)},c.LocalStorageCacheStorage.prototype.get=function(a){var b=window.localStorage[this.prefix_+a];return b?JSON.parse(b):null},c.LocalStorageCacheStorage.prototype.set=function(a,b){window.localStorage[this.prefix_+a]=JSON.stringify(b)},c.LocalStorageCacheStorage.prototype.size=function(a,b){return this.keys().length},c.LocalStorageCacheStorage.prototype.remove=function(a){var b=this.get(a);return delete window.localStorage[this.prefix_+a],b},c.LocalStorageCacheStorage.prototype.keys=function(){var a,b=[];for(a in window.localStorage)a.match(this.regexp_)&&b.push(a.replace(this.prefix_,""));return b},c.prototype.getItem=function(a){var b=this.storage_.get(a);null!=b&&(this.isExpired_(b)?(this.removeItem(a),b=null):b.lastAccessed=(new Date).getTime());var c=b?b.value:null;return c?(this.stats_.hits++,this.log_("Cache HIT for key "+a)):(this.stats_.misses++,this.log_("Cache MISS for key "+a)),c},c._CacheItem=function(a,b,d){if(!a)throw new Error("key cannot be null or empty");this.key=a,this.value=b,d=d||{},d.expirationAbsolute&&(d.expirationAbsolute=d.expirationAbsolute.getTime()),d.priority||(d.priority=c.Priority.NORMAL),this.options=d,this.lastAccessed=(new Date).getTime()},c.prototype.setItem=function(a,b,d){if(null!=this.storage_.get(a)&&this.removeItem(a),this.addItem_(new c._CacheItem(a,b,d)),this.log_("Setting key "+a),this.maxSize_>0&&this.size()>this.maxSize_){var e=this;setTimeout(function(){e.purge_.call(e)},0)}},c.prototype.clear=function(){for(var a=this.storage_.keys(),b=0;b<a.length;b++)this.removeItem(a[b]);this.log_("Cache cleared")},c.prototype.getStats=function(){return this.stats_},c.prototype.toHtmlString=function(){for(var a=this.size()+" item(s) in cache<br /><ul>",b=this.storage_.keys(),c=0;c<b.length;c++){var d=this.storage_.get(b[c]);a=a+"<li>"+d.key.toString()+" = "+d.value.toString()+"</li>"}return a+="</ul>"},c.prototype.resize=function(a){this.log_("Resizing Cache from "+this.maxSize_+" to "+a);var b=this.maxSize_;this.maxSize_=a,a>0&&(b<0||a<b)&&this.size()>a&&this.purge_(),this.log_("Resizing done")},c.prototype.purge_=function(){var a=new Array,b=Math.round(this.maxSize_*this.fillFactor_);this.maxSize_<0&&(b=this.size()*this.fillFactor_);for(var c=this.storage_.keys(),d=0;d<c.length;d++){var e=c[d],f=this.storage_.get(e);this.isExpired_(f)?this.removeItem(e):a.push(f)}if(a.length>b)for(a=a.sort(function(a,b){return a.options.priority!=b.options.priority?b.options.priority-a.options.priority:b.lastAccessed-a.lastAccessed});a.length>b;){var g=a.pop();this.removeItem(g.key)}this.log_("Purged cached")},c.prototype.addItem_=function(a,b){try{this.storage_.set(a.key,a)}catch(c){if(b)throw this.log_("Failed setting again, giving up: "+c.toString()),c;this.log_("Error adding item, purging and trying again: "+c.toString()),this.purge_(),this.addItem_(a,!0)}},c.prototype.removeItem=function(a){var b=this.storage_.remove(a);return this.log_("removed key "+a),b&&b.options&&b.options.callback&&setTimeout(function(){b.options.callback.call(null,b.key,b.value)},0),b?b.value:null},c.prototype.removeWhere=function(a){for(var b=this.storage_.keys(),c=0;c<b.length;c++){var d=b[c];!0===a(d,this.storage_.get(d).value)&&this.removeItem(d)}},c.prototype.size=function(){return this.storage_.size()},c.prototype.isExpired_=function(a){var b=(new Date).getTime(),c=!1;if(a.options.expirationAbsolute&&a.options.expirationAbsolute<b&&(c=!0),!c&&a.options.expirationSliding){a.lastAccessed+1e3*a.options.expirationSliding<b&&(c=!0)}return c},c.prototype.log_=function(a){this.debug_};var j=window;"undefined"!=typeof module&&module.exports?module.exports=c:"function"==typeof define&&define.amd?define("ncCache",function(){return c}):j.Cache=c,c.UserDataCacheStorage=function(a){var a=a,b=document.createElement("div");b.style.display="none",document.getElementsByTagName("head")[0].appendChild(b),b.addBehavior("#default#userdata"),this.get=function(c){b.load(a);var d=b.getAttribute(c);return d?$.parseJSON(d):null},this.set=function(c,d){b.load(a),b.setAttribute(c,$.stringify(d)),b.save(a)},this.size=function(a,c){return b.XMLDocument.documentElement.attributes.length},this.remove=function(c){b.load(a),b.removeAttribute(c),b.save(a)},this.keys=function(){b.load(a);for(var c,d=-1,e=[];c=b.XMLDocument.documentElement.attributes[++d];)e.push(c.name);return e}};var l,m={getCache:function(a,b){if(void 0===a||parseInt(a)<=0)throw new"Invalid app id: "+a;b=b||"localStorage";var d=window.navigator.userAgent.match(/MSIE 7/),e=null;if("localStorage"==b&&(d?e=new c.UserDataCacheStorage(String(a)):void 0!==window.localStorage&&(e=new c.LocalStorageCacheStorage(String(a)))),null==e)throw"Unsupported storage type: "+b;return new c(-1,!1,e)}},n="async",o="charset",p="",q="error",r="insertBefore",s="_jqjsp",t="onclick",u="on"+q,v="onload",w="onreadystatechange",x="readyState",y="removeChild",z="<script>",A="success",B="timeout",C=window,D=$.Deferred,E=$("head")[0]||document.documentElement,F={},G=0,H={callback:s,url:location.href},I=C.opera,J=!!$("<div>").html("\x3c!--[if IE]><i><![endif]--\x3e").find("i").length;h.setup=function(a){$.extend(H,a)},$.jsonp=h;var K,L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},M={},N={},O=m.getCache("sgtr"),P=function(){return"undefined"!=typeof Storage},Q=function(a,b){var c=JSON.stringify(b);navigator.sendBeacon&&a?navigator.sendBeacon(a,c):P()&&O.setItem("sug_Tracking",b)},R=function(a,b,c,d,e,f){return"autoconcepts"==d?{type:"ac",acFor:c,sel:a,pos:b,cached:e}:"relatedConcept"==d?{type:"rc",rcFor:f,sel:a,pos:b,cached:e}:{sel:a,pos:b}},S=function(a,b,c,d,e,f,g){N[a]&&N[a].Events.push(R(b,c,d,e,f,g))},T=function(){$(".sugInp").each(function(a,b){var c,d=$(this),e=d.attr("trackParams"),f=d.val();(e=e?$.parseJSON(e):null)&&(f||N[e.id]&&N[e.id].Events.length?(N[e.id].Events.length||S(e.id,f,0),e.sourceId&&(N[e.id].sId=e.sourceId),e.appId&&(N[e.id].appId=e.appId),e.platform&&(N[e.id].platform=e.platform),e.formId&&(N[e.id].formId=e.formId),e.trackingSrc&&(N[e.id].trackingSrc=e.trackingSrc),(c=d.attr("vertical"))&&(N.vertical=c)):N[e.id]&&!N[e.id].Events.length&&delete N[e.id])}),$.isEmptyObject(N)||Q(K,{lgData:N})};window.onunload=function(){T()};var U=function(a){if(!(a.domain||a.url.autoComplete&&a.url.relatedConcept&&a.url.checkVersion&&a.url.prefetch))throw Error("One or more mandatory parameters are missing, please refer documentation. https://github.com/saeed3e/suggestjs/blob/gh-pages/README.md");var c={id:null,url:{autoComplete:a.domain+"/suggest/autosuggest?",relatedConcept:a.domain+"/suggest/autoconcepts?",checkVersion:a.domain+"/suggest/v?",prefetch:a.domain+"/suggest/prefetch?"},relatedConcept_dataLayer:!0,autoCorrect_dataLayer:!0,maxSuggestions:15,maxHeight:300,multiSearch:!1,startSearchAfter:1,suggestOnClick:!1,whiteListSpecialChar:[],relatedCorrectionText:"Did you mean ?",relatedConceptText:"Related Skills",glbArray:!1,placeholder:!1,trackUserInteraction:!1,grouping:!0,isPrefetch:!0,source:a.data?"local":"server",category:{},categoryOrder:[],qParams:{},searchLimit:{},relatedConceptCategory:null,getRelatedConcepts:null,onSelect:!1,scrollStyle:"",width:null,preventClose:!1,returnFocus:!0,form:!1,showDataOnFocus:!1,storageKey:{prefetchKey:"__suggest_prefetch",versionKey:"__suggest_versions"},userCookie:null,titleForSingleBucket:"Last Searched Keywords",appId:null,relatedConceptsLimit:1/0,defaultPrefetchLookup:!0,toolTip:!1,powerComments:!1,appendCommaAtLast_onSelect:!0,vertical:"",removeCommaAtLast_onBlur:!0};for(var d in a.category)"object"===L(a.category[d])?(c.category[d]=c.category[d]||a.category[d].title,c.searchLimit[d]=c.searchLimit[d]||a.category[d],c.categoryOrder.push(d)):c.category[d]=a.category[d]||c.categoryOrder;a.categoryOrder=a.category.order||c.categoryOrder,a.category=c.category,a.searchLimit=c.searchLimit;var e=$.extend(!0,{},c,a);e.storageKey.userCookie=e.storageKey.userCookie||e.userCookie,e.preventClose||i();var f=function(a,b,c){if(a){var d=this,f=d.id;$.jsonp({url:a+"&callback=suggestCallback",cache:!0,callback:"suggestCallback",beforeSend:function(){c||$("#"+f+" .nLoder").show()},success:function(a){d.cached=!1,a.resultList?$.isEmptyObject(a.resultList)&&d.dropCont.hasClass("slideDown")?Q.call(d):(d.dataType="autoconcepts",b(a),e.vertical=a.vertical,d.inpElm.attr("vertical",e.vertical)):a.resultConcepts?($.isEmptyObject(a.resultConcepts)?Q.call(d):(d.dataType="relatedConcept",e.getRelatedConcepts&&e.getRelatedConcepts(a,d.Qry),e.relatedConcept_dataLayer?b(a):Q.call(d)),d.RCMaxCntr++):a.resultCorrections?($.isEmptyObject(a.resultCorrections)?Q.call(d):(d.dataType="relatedConcept",e.getAutoCorrect&&e.getAutoCorrect(a,d.Qry),e.autoCorrect_dataLayer&&b(a)),d.RCMaxCntr++):b(a)},complete:function(){d.node.find(".nLoder").hide()},error:function(a,b){d.node.find(".nLoder").hide(),Q.call(d)}})}},g=function(){var a=this;a.rs_kWrds=[],a.rs_kWrdsStr="";var c=e.showDataOnFocus;c&&(a.rs_kWrds=c,a.rs_kWrds.length&&(a.rs_kWrdsStr=a.rs_kWrds.join(",").replace(/\s,|,\s/g,",")));var d=e.storageKey;a.isLoggedIn=!!d.userCookie&&b(d.userCookie);var f=e.vertical?"&vertical="+e.vertical:"",g=G();return a.isLoggedIn?{key:d.prefetchKey+"/uId/"+a.isLoggedIn,url:e.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+"&uid="+a.isLoggedIn+f+g,keywords:a.rs_kWrdsStr}:a.rs_kWrdsStr?{key:d.prefetchKey,url:e.url.prefetch+"&"+Math.random(1,100)+"&keywords="+a.rs_kWrdsStr+f+g,keywords:a.rs_kWrdsStr}:{key:d.prefetchKey,url:e.url.prefetch+"&"+Math.random(1,100)+"&keywords="+f+g,keywords:a.rs_kWrdsStr}},h=function(a,b){if(e.vertical=b.vertical,e.vertical){var c=b.ac,d=b.rc,f=e.category,g=e.relatedConceptCategory;for(key in c)for(k in c[key])if(f[k]){var h=k+"_"+e.vertical;c[key][h]=c[key][k],delete c[key][k]}else delete c[key][k];for(key in d)for(k in d[key])if(g[k]){var h=k+"_"+e.vertical;d[key][h]=d[key][k],delete d[key][k]}else delete d[key][k];var i=$.extend(!0,{},a.ac,c),j=$.extend(!0,{},a.rc,d)}else var i=$.extend(!0,{},a.ac,b.ac),j=$.extend(!0,{},a.rc,b.rc);return{ac:i,rc:j,ttl:b.ttl,segments:b.segments,keyword_based_data:b.keyword_based_data}},j=function(){var a=this;e.url.checkVersion+=Math.random(0,100),a.prefetchObj=g.call(a),!window.isFistCall&&e.url.prefetch&&P()&&e.isPrefetch&&(f.call(a,e.url.checkVersion,function(b){p(e.storageKey.versionKey,b);var c=O.getItem(a.prefetchObj.key);if(c)(a.prefetchObj.keywords&&!1===c.keyword_based_data||+new Date(c.ttl)-+new Date<0)&&f.call(a,a.prefetchObj.url+"&segments="+c.segments,function(b){p(a.prefetchObj.key,h(c,b))});else{var d=O.getItem(e.storageKey.prefetchKey),g=d?d.segments:"";f.call(a,a.prefetchObj.url+"&segments="+g,function(b){p(a.prefetchObj.key,b)},!0)}},!0),window.isFistCall=!0)},l=function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},m=function(a){return a?a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"):""},n=function(a){return a=$.trim(a).toLowerCase(),a=$.trim(a.substring(a.lastIndexOf(",")+1,a.length))},o=function(a){var b=$.trim(a).replace(/,*$/g,"");return $.trim(b.substring(b.lastIndexOf(",")+1,b.length)).toLowerCase()},p=function(a,b){O.setItem(a,b)},q=function(a,b){if(this.prefetchObj){var c=O.getItem(this.prefetchObj.key);return!e.defaultPrefetchLookup||c&&c[b]&&c[b][a]||(c=O.getItem(e.storageKey.prefetchKey)),!!c&&c[b][a]}return!1},r=function(){var a=this,b=a.inpElm.val();b&&a.inpElm.val(b.replace(/,\s*$/,""))},s=function(a){var b=this,c=b.inpElm.val(),d=c.substring(0,c.lastIndexOf(",")+1);return d=d?d+" ":"",a=$.trim(m(a).replace(/,*$/g,"")),e.multiSearch?d+a+", ":a},t=function(a,b){return $.inArray(a[0],b.find("li.sugTouple"))+1},u=function(a,b){var c=this,d=c.id,f=c.inpElm,g=a.text(),h=!1,i=function(){return e.localSuggestions?function(a){var b=c.trimSpace(a),d=b.match(/[a-zA-Z0-9- ]*$/g);if(d){var f=d[0];return f||(f=b.match(/\W(\w)*$/g),f=f[0],h=!0),e.localSuggestions.removeRepetedDelimiter&&(b=b.replace(new RegExp(f+"+$","g"),f)),h?b.substring(0,b.lastIndexOf(f)+1)+g+" ":b.substring(0,b.lastIndexOf(f))+g+" "}return g}(f.val()):s.call(c,g)}();c.enableRC_for_onfocus=!1,i.length<e.maxlength?(f.val(i),e.trackUserInteraction&&S(d,n(i.replace(/[,\s]*$/,"")),c.posIndex,n(c.queryChar),c.dataType,c.cached,c.Qry),e.returnFocus&&l(f[0],f.val().length),b&&c.get_RCdata(f.val()),e.onSelect&&e.onSelect(d,m(g),f,c)):e.onSelect&&e.onSelect(d,"Warning: maximum length reached",f,c),Q.call(c)},v=function(a){var b=this,c=b.dropCont.find(a);return c=c.hasClass("category")?c.next():c},w=function(a){a&&a.find(".sAct").removeClass("sAct")},x=function(a,b){var c=this,d=a;return a="prev"==b?a.prev().hasClass("category")?a.prev().prev().length?a.prev().prev():v.call(c," li:last-child"):a.prev().length?a.prev():v.call(c," li:last-child"):a.next().length?a.next().hasClass("category")?a.next().next():a.next():v.call(c," li:first-child"),c.curElm.find(".Sarw").hasClass("sAct")?a.find(".Sarw").addClass("sAct"):a.find(".Sbtn").addClass("sAct"),w(d),e.multiSearch||c.inpElm.val(m(a.find(".Sbtn").html())),a},y=function(a,b){var c=this;return b=$("#"+a),b=b.hasClass("category")?b.next():b,b.find(".Sbtn").addClass("sAct"),e.multiSearch||c.inpElm.val(m(b.find(".Sbtn").html())),b},z=function(a,b){var c,d=this;c="object"==(void 0===a?"undefined":L(a))?a.displayTextEn:a;var f="",g="",h="";c=c.replace(/&amp;/gi,"&"),b.split(",")[1]&&e.multiSearch&&(b=d.getlastChar(b)),b=b.replace(/[\s]+/g," ").replace(/^\s/,"").toLowerCase();var i=c,j=i.toLowerCase(),k=j.indexOf(b),l=j,m=b,n=!(l.indexOf(" "+m)<0)&&l.indexOf(" "+m),o=!(l.indexOf("("+m)<0)&&l.indexOf("("+m),p=!(l.indexOf("/"+m)<0)&&l.indexOf("/"+m);(k>=0&&(n||o||p)||0===k)&&(k&&(n?k=n+1:o?k=o+1:p&&(k=p+1)),f=i.substr(0,k),g=i.substr(k,b.length),h="<strong>"+i.substr(k+b.length,i.length)+"</strong>"),g=g||c;var q;q=b?f+g+h:g;var r=e.toolTip?f+g+new3:"";return'<li class="sugTouple">'+(e.suggestOnClick?'<div class="wrapTable"><div tabindex="-1" class="Sbtn" title="'+r+'">'+f+g+h+'</div></div><span class="Sarw"></span>':'<div tabindex="-1" class="Sbtn" title="'+r+'" style="width:100%">'+q+"</div>")+"</li>"},A=function(a,b){var c={},d=0,f="";for(var g in b)e.vertical&&(f=g+"_"+e.vertical),(a[f]||a[g])&&(c[g]=a[f]||a[g],d++);return[c,d]},B=function(a,b,c,d){var f,g=this,h="";d||(d="resultConcepts"==c?e.relatedConceptCategory:e.category),f=!c&&e.showTitleForSingleBucket?A(b,{rs:"rs"}):A(b,d);var i=f[1];b=f[0];var j="",k="";if(a=a.replace(/&amp;/gi,"&"),$.isEmptyObject(e.searchLimit))for(var l in b){var m=0;for(var n in b[l])if(c||m++<e.maxSuggestions){if(k=g.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase(),-1!=k.indexOf(",")&&-1!=$.inArray(b[l][n].displayTextEn.toLowerCase(),k.split(",")))continue;j+=z.call(g,b[l][n],a)}j&&i>1?e.grouping?h+='<li class="category '+l+'">'+(e.category[l]?e.category[l]:l)+"</li>"+j:h+=j:!c&&e.showTitleForSingleBucket?h+='<li class="category '+l+'">Last Searched Keywords</li>'+j:h=j}else for(var o=0;o<e.categoryOrder.length;o++)if(b.hasOwnProperty(e.categoryOrder[o])){for(var p=b[e.categoryOrder[o]].length>parseInt(e.searchLimit[e.categoryOrder[o]].limit)?parseInt(e.searchLimit[e.categoryOrder[o]].limit):b[e.categoryOrder[o]].length,q=0;q<p;q++)k=g.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase(),-1!=k.indexOf(",")&&-1!=$.inArray(b[e.categoryOrder[o]][q].displayTextEn.toLowerCase(),k.split(","))||(j+=z.call(g,b[e.categoryOrder[o]][q],a));h=j?e.grouping?'<li class="category '+e.categoryOrder[o]+'">'+(e.searchLimit[e.categoryOrder[o]].title?e.searchLimit[e.categoryOrder[o]].title:e.categoryOrder[o])+"</li>"+j:j:!c&&e.showTitleForSingleBucket?'<li class="category '+e.categoryOrder[o]+'">Last Searched Keywords</li>'+j:j}return $.isEmptyObject(b)||("resultCorrections"==c?h='<li class="category">'+e.relatedCorrectionText+"</li>"+h:"resultConcepts"==c&&(h='<li class="category">'+e.relatedConceptText+"</li>"+h)),h},C=function(){var a=this,b=a.inpElm;e.placeholderTxt=b?b[0].getAttribute("placeholder"):"",b.val(e.placeholderTxt)},D=function(){this.inpElm.val("").css({color:"#444"})},E=function(a,b){this.showSugt({val:b,data:a.resultList,relConcpt:"autoComplete"})},F=function(a,b){var c,d="",b=b||0;c=a?e.relatedConceptCategory:e.category;for(var f in c)!a&&e.searchLimit[f]&&e.searchLimit[f].startSearchAfter?b>=e.searchLimit[f].startSearchAfter&&(d+=f+","):d+=f+",";return d.replace(/,$/g,"")},G=function(){return $.isEmptyObject(e.qParams)?"":"&"+$.param(e.qParams)},H=function(a,b,c){var d=this,f=e.appId?"&appId="+e.appId:"",g=e.sourceId?"&sourceId="+e.sourceId:"",h=new RegExp("[^a-zA-Z0-9,\\s"+e.whiteListSpecialChar+"]","g");if(d.Qry=b.replace(h,""),d.Qry){if(P()&&d.prefetchObj){var i=O.getItem(e.storageKey.versionKey);i&&i.suggester_v}return a+"query="+encodeURIComponent(d.Qry)+f+"&vertical="+e.vertical+"&category="+F.call(d,c,d.Qry.length)+"&limit="+e.maxSuggestions+g+G()}return!1},I=function(a,b,c){var d,e=0;if(a&&P()&&(d=q.call(this,a,b)))for(var f in c)d[f]&&(e=1,this.cached=!0);return[e,d]},J=function(){var a=this;return function(b){var c,d,f;$(this);$(b.target).hasClass("Sarw")?(c=$(b.target).parents("li"),f=!0):($(b.target).hasClass("Sbtn")||$(b.target).is("strong"))&&(c=$(b.target).closest("li"),f=!e.suggestOnClick),d=c.find(".Sbtn"),(!e.relatedConceptCategory||a.RCMaxCntr>=e.relatedConceptsLimit-1)&&(f=!1,Q.call(a)),a.posIndex=t(c,a.dropCont),e.suggestOnClick&&Q.call(a),setTimeout(function(){u.call(a,d,f)},50)}},Q=function(){var a=this,b=a.id;w(a.curElm),a.dropCont.removeClass("slideDown"),a.curElm="",$("#"+b).find(".sWrap").removeClass("sOpen").addClass("sHide"),delete M[b],e.onHide&&e.onHide(),setTimeout(function(){a.enableRC_for_onfocus=!0},500)},R=function(){var a=this,b=a.id;e.width?a.wth=e.width:a.wth=$(document.getElementById(b)).outerWidth()+"px",a.dropCont.css({width:a.wth}).addClass("slideDown"),$("#"+b).find(".sWrap").removeClass("sHide").addClass("sOpen"),M[b]=a.dropCont,e.onShow&&e.onShow()},U=function(){var a=this;a.dropCont.on("mouseover",".Sbtn,.Sarw,strong",function(b){$(this).hasClass("Sbtn")?$(this).addClass("sAct"):$(this).is("strong")?$(this).parent().addClass("sAct"):$(this).addClass("sAct"),w(a.curElm),a.curElm=$(this)}).mouseout(function(b){a.curElm=void 0,w($(this))})},V=function(a){var b=a.target||a.srcElement;$(b).hasClass("inpWrap")&&$(this).find(".sugInp").focus()},W=function(){var a={},b=[];for(var c in this.rs_kWrds)b.push({displayTextEn:this.rs_kWrds[c]});return a.rs=b,a},X=function(a){var b=this,c=$.trim(b.inpElm.val());if(b.curOpenSugg=b.id,e.showDataOnFocus&&($.trim(b.inpElm.val())||(e.category=$.extend({},e.category,{rs:"rs"}),b.rs_kWrdsStr?this.showSugt({val:"",data:W.call(b)}):(g.call(b),b.rs_kWrdsStr&&this.showSugt({val:"",data:W.call(b)})))),e.multiSearch&&c&&c!=e.placeholderTxt){var d=void 0;d=e.appendCommaAtLast_onSelect?", ":" ",setTimeout(function(){b.inpElm.val(c.replace(/[,\s]*$/,d))},10),e.relatedConceptCategory&&b.enableRC_for_onfocus&&b.RCMaxCntr<e.relatedConceptsLimit-1&&b.get_RCdata(o(c))}else!$.support.placeholder&&e.placeholder&&e.placeholderTxt==c&&D.call(b)},Y=function(){var a=this.val();return a.charCodeAt(a.length-1)},Z=function(a,b){var c=this,d=(a.attr("id"),b.keyCode||b.which);0!=d&&229!=d||(d=Y.call(a));var f=c.inpElm,g=c.id,h=$.trim(f.val());if(c.queryChar=h,13==d&&"block"==c.dropCont.css("display"))if(c.curElm){b.stopPropagation(),c.posIndex=t(c.curElm,c.dropCont);var i;!e.relatedConceptCategory||c.RCMaxCntr>=e.relatedConceptsLimit-1?(i=!1,c.RCMaxCntr++):i=!e.suggestOnClick||!c.curElm.find(".Sbtn").hasClass("sAct"),u.call(c,c.curElm.find(".Sbtn"),i),i||Q.call(c)}else Q.call(c);else if(27==d)Q.call(c);else if(h||8!=d&&46!=d)if(d>=48&&d<90||d>=97&&d<=122||16==d||188==d||8==d){if(b.ctrlKey&&86===d&&(h=h.replace(/,$/,""),f.val(h)),h){var j=void 0;if(e.localSuggestions){var k="["+e.localSuggestions.delimiter.join("")+"](\\w)*$",l=new RegExp(k,"g");if(j=h.match(l))return void this.showSugt({val:j[0].substring(1,j[0].length),data:this.getLocalSuggestions(j[0],h),catagory:{tempCategory:"tempCategory"}})}if("server"==e.source)if(188==d&&-1!=h.lastIndexOf(",")&&e.multiSearch)e.relatedConceptCategory?c.get_RCdata(o(h)):Q.call(c);else{var m=e.multiSearch?this.extractTextAfterLastDelimiter(h):h;if(m.length>e.startSearchAfter-1){var n=I.call(c,m,"ac",e.category);n[0]?e.bypassPrefetchAfter&&e.bypassPrefetchAfter<=parseInt(m.length)?c.getAutoCompletes(h,m):(c.dataType="autoconcepts",this.showSugt({val:m,data:n[1],relConcpt:"autoComplete"})):c.getAutoCompletes(m,m)}}else"local"==e.source&&c.returnDataArray({data:e.data,val:h})}$("#"+g).find(".sCross").show().click(function(){c.inpElm.val("").focus(),$(this).hide(),Q.call(c),c.dropCont.find("ul").html("")})}else b.ctrlKey&&39==d||b.ctrlKey&&40==d?(c.curElm.find(".Sbtn").removeClass("sAct"),c.curElm.children(".Sarw").addClass("sAct")):b.ctrlKey&&37==d||b.ctrlKey&&38==d?(c.curElm.children(".Sarw").removeClass("sAct"),c.curElm.find(".Sbtn").addClass("sAct")):c.dropCont.find("li").length&&("none"==c.dropCont.css("display")&&40==d?R.call(c):38==d?(c.curElm?c.curElm=x.call(c,c.curElm,"prev"):c.curElm=y.call(c,g+" li:last-child",c.curElm),R.call(c)):40==d&&(c.curElm?c.curElm=x.call(c,c.curElm,"next"):c.curElm=y.call(c,g+" li:first-child",c.curElm)));else $("#"+g+" .sCross").hide(),Q.call(c)},_=function(a){var b=this,c=a.which||a.keyCode;if(38==c)a.preventDefault();else if(13==c)"block"==b.dropCont.css("display")&&b.curElm&&a.preventDefault();else if(9==c){if(b.curElm){var d=b.curElm.html().replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&");b.inpElm.val(s.call(b,d))}r.call(b),Q.call(b)}},aa=function(a){var b,c=this;if(K=e.url.trackingURL,c.id=e.id||a.attr("id"),c.enableRC_for_onfocus=!0,c.RCMaxCntr=0,c.inpElm=a.find(".sugInp"),e.placeholderTxt=c.inpElm.attr("placeholder"),N[c.id]={},N[c.id].Events=[],e.trackUserInteraction&&(b={trackParams:JSON.stringify({id:c.id?c.id:"",sourceId:e.sourceId?e.sourceId:"",platform:e.platform?e.platform:"",appId:e.appId?e.appId:"",trackingSrc:e.trackingSrc?e.trackingSrc:""})}),c.inpElm.attr($.extend({autocomplete:"off"},b)),e.maxlength=c.inpElm.attr("maxlength")||1e4,c.dropCont=$('<div class="sugCont '+e.scrollStyle+'" id="sugDrp_'+c.id+'">').append('<ul class="Sdrop"></ul>'),a.append(c.dropCont),!e.placeholder||$.support.placeholder||$.trim(c.inpElm.val())||C.call(this),c.inpElm.focus(function(){X.call(c)}).keyup(function(a){Z.call(c,$(this),a)}).keydown(function(a){c.curOpenSugg||(c.curOpenSugg=c.id),_.call(c,a)}),e.removeCommaAtLast_onBlur&&c.inpElm.blur(function(){this.value=this.value.replace(/[,\s]*$/,"")}),a.find(".sWrap").click(V),U.call(c),c.dropCont.on("click",".sugTouple",J.call(c)),j.call(c),e.trackUserInteraction&&P()&&K){var d=O.getItem("sug_Tracking");d&&f.call(c,K+"?lgData="+JSON.stringify(d),function(){O.removeItem("sug_Tracking")})}},ba=function(a){this.node=a,aa.call(this,a),this.setTrackingObject=S};ba.prototype=function(){var a=function(a){return this.inpElm.val()},b=function(a){var b=this,c=b.getlastChar(a),d=I.call(b,c,"rc",e.relatedConceptCategory);if(d[0])Q.call(b),b.dataType="relatedConcept",this.showSugt({val:c,data:d[1],relConcpt:"resultConcepts"}),b.RCMaxCntr++;else{var g=H.call(b,e.url.relatedConcept,c,!0);f.call(b,g,function(a){Q.call(b);for(var d in a);this.showSugt({val:c,data:a[d],relConcpt:d})})}},c=function(a,b){var c=0,d=b.match(/[#@](\w)*$/g)[0].replace(/^[#@]/,"").toLowerCase(),f=new RegExp("^"+[d]+"|\\s"+[d]);return{tempCategory:e.localSuggestions.data(a[0]).filter(function(a,b){return c<e.maxSuggestions&&!(d&&!a.displayTextEn.toLowerCase().match(f))})}},d=function(a){var b=a.data,c=a.val,d=this,e=(d.id,{}),f=c.toLowerCase(),g=new RegExp("^"+[f]+"|\\s"+[f]);for(var h in b[0]){var i=b[0][h].filter(function(a,b){return!!a.displayTextEn.toLowerCase().match(g)});e[h]=i}this.showSugt({val:c,data:e})},g=function(a){return a.replace(/^\s*|\s*$/g,"")},h=function(a){var b=$.trim(a).replace(/,*$/g,"").toLowerCase();return $.trim(b.substring(b.lastIndexOf(",")+1,b.length))};return{getValue:a,get_RCdata:b,sendTrackingData:T,getLocalSuggestions:c,returnDataArray:d,extractTextAfterLastDelimiter:function(a){return a=g(a).toLowerCase(),g(a.substring(a.lastIndexOf(",")+1,a.length))},getlastChar:h,getAutoCompletes:function(a,b){var c=this;if(e.localSuggestions?a=b:e.multiSearch&&(a=c.getlastChar(a)),a){var d=H.call(c,e.url.autoComplete,a,!1);f.call(c,d,function(b){E.call(c,b,a)})}},showSugt:function(a){var b=a.val,c=a.data,d=a.relConcpt,e=a.catagory,f=this;f.curElm=void 0;var g=B.call(f,f.getlastChar(b),c,d,e);g?(f.dropCont.find("ul").html(g),R.call(f)):Q.call(f)},trimSpace:g}}()
;var ca=$(e.trigger),da=ca.data("suggestor");return da||ca.each(function(a,b){var c=$(b);da=new ba(c),c.data("suggestor",da)}),da};return a.suggestor=U,a}({});!function(a){var b,c,d,e,f={},g={},h=[];a(document).on("click.suggestor",function(e){var g=a(e.target).closest(".suggest");f[g.attr("id")]&&g.is(".suggest")||a.each(f,function(e,g){b=a(this).attr("id").split("_")[1],c=a(this).parent().find(".sugInp"),d=c.val(),d&&c.val(d.replace(/,\s*$/,"")),a(this).removeClass("slideDown"),delete f[b]})});var i=ncCacheFactory.getCache("sgtr"),j=function(){return"undefined"!=typeof Storage},k=function(b,c){var d=a.stringify(c);navigator.sendBeacon?navigator.sendBeacon(b,d):j()&&i.setItem("sug_Tracking",c)},l=function(a,b,c,d,e,f){return"autoconcepts"==d?{type:"ac",acFor:c,sel:a,pos:b,cached:e}:"relatedConcept"==d?{type:"rc",rcFor:f,sel:a,pos:b,cached:e}:{sel:a,pos:b}},m=function(a,b,c,d,e,f,h){g[a].Events.push(l(b,c,d,e,f,h))};a(window).unload(function(){a(".sugInp").each(function(b,c){var d=a(this).attr("trackParams"),e=a(this).val();(d=d?a.parseJSON(d):null)&&(e||g[d.id].Events.length?(g[d.id].Events.length||(h=[],m(d.id,e,0)),d.sourceId&&(g[d.id].sId=d.sourceId),d.appId&&(g[d.id].appId=d.appId),d.platform&&(g[d.id].platform=d.platform),d.formId&&(g[d.id].formId=d.formId)):g[d.id].Events.length||delete g[d.id])}),a.isEmptyObject(g)||k(e,{lgData:g})}),a.fn.suggestor=function(b){if(!(b.domain||b.url.autoComplete&&b.url.relatedConcept&&b.url.checkVersion&&b.url.prefetch))throw Error("Domain parameter is missing, please refer documentation. https://github.com/saeed3e/suggestjs/blob/gh-pages/README.md");var c={url:{autoComplete:b.domain+"/suggest/autosuggest?",relatedConcept:b.domain+"/suggest/autoconcepts?",checkVersion:b.domain+"/suggest/v?",prefetch:b.domain+"/suggest/prefetch?"},showRelatedConcept:!0,relatedConcept_dataLayer:!0,autoCorrect_dataLayer:!0,maxSuggestions:15,maxHeight:300,multiSearch:!1,startSearchAfter:1,suggestOnClick:!1,whiteListSpecialChar:[],relatedCorrectionText:"Did you mean ?",relatedConceptText:"Related Skills",glbArray:!1,placeholder:!1,trackUserInteraction:!1,grouping:!0,isPrefetch:!0,source:"server",scrollStyle:"",returnFocus:!0,relatedConceptCategory:{skill:"Skills"},form:!1,showDataOnFocus:!1,storageKey:{prefetchKey:"__suggest_prefetch",versionKey:"__suggest_versions"},titleForSingleBucket:"Last Searched Keywords"},d=a.extend(!0,{},c,b),k=function(b,c,e){if(b){var f=this,g=f.id;a.jsonp({url:b+"&callback=suggestCallback",cache:!0,callback:"suggestCallback",beforeSend:function(){e||a("#"+g+" .nLoder").show()},success:function(b){f.cached=!1,b.resultList?a.isEmptyObject(b.resultList)&&f.dropCont.hasClass("slideDown")?T.call(f):(f.dataType="autoconcepts",c(b)):b.resultConcepts?(a.isEmptyObject(b.resultConcepts)?T.call(f):(f.dataType="relatedConcept",d.getRelatedConcepts&&d.getRelatedConcepts(b,f.Qry),d.relatedConcept_dataLayer&&c(b)),f.RCMaxCntr++):b.resultCorrections?(a.isEmptyObject(b.resultCorrections)?T.call(f):(f.dataType="relatedConcept",d.getAutoCorrect&&d.getAutoCorrect(b,f.Qry),d.autoCorrect_dataLayer&&c(b)),f.RCMaxCntr++):c(b)},complete:function(){f.node.find(".nLoder").hide()},error:function(a,b){f.node.find(".nLoder").hide(),T.call(f)}})}},l=function(){var b=this,c=[];if(b.rs_kWrds=[],b.rs_kWrdsStr="",d.showDataOnFocus){for(var e=d.showDataOnFocus,f=e.length-1;f>=0;f--){var g=a.trim(decodeURIComponent(e[f][0]));g&&-1==a.inArray(g.toLowerCase(),c)&&(c.push(g.toLowerCase()),b.rs_kWrds.push(g))}b.rs_kWrdsStr=b.rs_kWrds.join(",").replace(/\s,|,\s/g,",")}var h=d.storageKey,i=!!h.userCookie&&getCookie(h.userCookie);return i?{key:h.prefetchKey+"/uId/"+i,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords="+b.rs_kWrdsStr+"&uid="+i,keywords:b.rs_kWrdsStr}:b.rs_kWrdsStr?{key:h.prefetchKey,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords="+b.rs_kWrdsStr,keywords:b.rs_kWrdsStr}:{key:h.prefetchKey,url:d.url.prefetch+"&"+Math.random(1,100)+"&keywords=",keywords:b.rs_kWrdsStr}},n=function(b,c){return{ac:a.extend({},b.ac,c.ac),rc:a.extend({},b.rc,c.rc),ttl:c.ttl,segments:c.segments,keyword_based_data:c.keyword_based_data}},o=function(){var a=this;d.url.checkVersion+=Math.random(0,100),a.prefetchObj=l.call(a),!window.isFistCall&&d.url.prefetch&&j()&&d.isPrefetch&&(k.call(a,d.url.checkVersion,function(b){t(d.storageKey.versionKey,b);var c=i.getItem(a.prefetchObj.key);if(c)(a.prefetchObj.keywords&&!1===c.keyword_based_data||+new Date(c.ttl)-+new Date<0)&&k.call(a,a.prefetchObj.url+"&segments="+c.segments,function(b){t(a.prefetchObj.key,n(c,b))});else{isDataExist=i.getItem(d.storageKey.prefetchKey);var e=isDataExist?isDataExist.segments:"";k.call(a,a.prefetchObj.url+"&segments="+e,function(b){t(a.prefetchObj.key,b)},!0)}},!0),isFistCall=!0)},p=function(a,b){var c=b,d=b;if(a.setSelectionRange)a.focus(),a.setSelectionRange(c,d);else if(a.createTextRange){var e=a.createTextRange();e.collapse(!0),e.moveEnd("character",d),e.moveStart("character",c),e.select()}},q=function(a){return a.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&")},r=function(b){return b=a.trim(b).toLowerCase(),b=a.trim(b.substring(b.lastIndexOf(",")+1,b.length))},s=function(b){var c=a.trim(b).replace(/,*$/g,"");return a.trim(c.substring(c.lastIndexOf(",")+1,c.length)).toLowerCase()},t=function(a,b){i.setItem(a,b)},u=function(a,b){if(this.prefetchObj){var c=i.getItem(this.prefetchObj.key);return c&&c[b][a]||(c=i.getItem(d.storageKey.prefetchKey)),!!c&&c[b][a]}return!1},v=function(){var a=this,b=a.inpElm.val();b&&a.inpElm.val(b.replace(/,\s*$/,""))},w=function(b){var c=this,e=c.inpElm.val(),f=e.substring(0,e.lastIndexOf(",")+1);return f=f?f+" ":"",b=a.trim(q(b).replace(/,*$/g,"")),d.multiSearch?f+b+", ":b},x=function(b,c){return a.inArray(b[0],c.find("li.sugTouple"))+1},y=function(a,b){var c=this,e=c.id,f=c.inpElm,g=a.html(),i=w.call(c,g);c.enableRC_for_onfocus=!1,i.length<d.maxlength?(f.val(i),d.trackUserInteraction&&(h=[],m(e,r(i.replace(/[,\s]*$/,"")),c.posIndex,r(c.queryChar),c.dataType,c.cached,c.Qry)),d.returnFocus&&p(f[0],f.val().length),b&&O.call(c,f.val()),d.onSelect&&d.onSelect(e,q(g),f,c)):d.onSelect&&d.onSelect(e,"Warning: maximum length reached",f,c)},A=function(a){var b=this,c=b.dropCont.find(a);return c=c.hasClass("category")?c.next():c},B=function(a){a&&a.find(".sAct").removeClass("sAct")},C=function(a,b){var c=this,e=a;return a="prev"==b?a.prev().hasClass("category")?a.prev().prev().length?a.prev().prev():A.call(c," li:last-child"):a.prev().length?a.prev():A.call(c," li:last-child"):a.next().length?a.next().hasClass("category")?a.next().next():a.next():A.call(c," li:first-child"),c.curElm.find(".Sarw").hasClass("sAct")?a.find(".Sarw").addClass("sAct"):a.find(".Sbtn").addClass("sAct"),B(e),d.multiSearch||c.inpElm.val(q(a.find(".Sbtn").html())),a},D=function(b,c){var e=this;return c=a("#"+b),c=c.hasClass("category")?c.next():c,c.find(".Sbtn").addClass("sAct"),d.multiSearch||e.inpElm.val(q(c.find(".Sbtn").html())),c},E=function(a,b){var c;c="object"==typeof a?a.displayTextEn:a;var e="",f="",g="";c=c.replace(/&amp;/gi,"&"),b.split(",")[1]&&d.multiSearch&&(b=Q(b)),b=b.replace(/[\s]+/g," ").replace(/^\s/,"").toLowerCase();var h=c,i=h.toLowerCase(),j=i.indexOf(b),k=i,l=b,m=!(k.indexOf(" "+l)<0)&&k.indexOf(" "+l),n=!(k.indexOf("("+l)<0)&&k.indexOf("("+l),o=!(k.indexOf("/"+l)<0)&&k.indexOf("/"+l);(j>=0&&(m||n||o)||0===j)&&(j&&(m?j=m+1:n?j=n+1:o&&(j=o+1)),e=h.substr(0,j),f=h.substr(j,b.length),g="<strong>"+h.substr(j+b.length,h.length)+"</strong>"),f=f||c;var p;return p=b?e+f+g:f,'<li class="sugTouple">'+(d.suggestOnClick?'<div class="wrapTable"><div tabindex="-1" class="Sbtn">'+e+f+g+'</div></div><span class="Sarw"></span>':'<div tabindex="-1" class="Sbtn" style="width:100%">'+p+"</div>")+"</li>"},F=function(a,b){var c={},d=0;for(var e in b)a[e]&&(c[e]=a[e],d++);return[c,d]},G=function(b,c,e){var f,g,h=this,i="";f="resultConcepts"==e?d.relatedConceptCategory:d.category,g=!e&&d.showTitleForSingleBucket?F(c,{rs:"rs"}):F(c,f);var j=g[1];c=g[0],b=b.replace(/&amp;/gi,"&");for(var k in c){var l="",m=0;for(var n in c[k])if(e||m++<d.maxSuggestions){var o=h.inpElm.val().replace(/\s,/g,",").replace(/,\s/g,",").toLowerCase();if(-1!=o.indexOf(",")&&-1!=a.inArray(c[k][n].displayTextEn.toLowerCase(),o.split(",")))continue;l+=E.call(h,c[k][n],b)}l&&j>1?d.grouping?i+='<li class="category '+k+'">'+(d.category[k]?d.category[k]:k)+"</li>"+l:i+=l:!e&&d.showTitleForSingleBucket?i+='<li class="category '+k+'">Last Searched Keywords</li>'+l:i=l}return a.isEmptyObject(c)||("resultCorrections"==e?i='<li class="category">'+d.relatedCorrectionText+"</li>"+i:"resultConcepts"==e&&(i='<li class="category">'+d.relatedConceptText+"</li>"+i)),i},H=function(){var a=_t.inpElm;d.placeholderTxt=a?a[0].getAttribute("placeholder"):"",a.val(d.placeholderTxt).css({color:"#8B8B8B"})},I=function(){_t.inpElm.val("").css({color:"#444"})},J=function(a){var b=this;M.call(b,b.queryChar,a.resultList,"autoComplete")},K=function(a){var b,c="";b=a?d.relatedConceptCategory:d.category;for(var e in b)c+=e+",";return c.replace(/,$/g,"")},L=function(a,b,c){var e=this,f=d.appId?"&appId="+d.appId:"",g=d.sourceId?"&sourceId="+d.sourceId:"",h=new RegExp("[^a-zA-Z0-9,\\s"+d.whiteListSpecialChar+"]","g");if(e.Qry=b.replace(h,""),e.Qry){if(j()&&e.prefetchObj){var k=i.getItem(d.storageKey.versionKey);k&&k.suggester_v}return a+"query="+encodeURIComponent(e.Qry)+f+"&category="+K.call(e,c)+"&limit="+d.maxSuggestions+g}return!1},M=function(a,b,c){var d=this;d.curElm=void 0;var e=G.call(d,Q(a),b,c);e?(d.dropCont.find("ul").html(e),U.call(d)):T.call(d)},N=function(a){var b=this;if(d.multiSearch&&(a=Q(a)),a){var c=L.call(b,d.url.autoComplete,a,!1);k.call(b,c,function(a){J.call(b,a)})}},O=function(a){var b=this;z=Q(a);var c=P.call(b,z,"rc",d.relatedConceptCategory);if(c[0])T.call(b),b.dataType="relatedConcept",M.call(b,z,c[1],"resultConcepts"),b.RCMaxCntr++;else{T.call(b);var e=L.call(b,d.url.relatedConcept,z,!0);k.call(b,e,function(a){for(var c in a);M.call(b,z,a[c],c)})}},P=function(a,b,c){var d,e=0;if(a&&j()&&(d=u.call(this,a,b)))for(var f in c)d[f]&&(e=1,this.cached=!0);return[e,d]},Q=function(b){var c=a.trim(b).replace(/,*$/g,"").toLowerCase();return a.trim(c.substring(c.lastIndexOf(",")+1,c.length))},R=function(){var b=this;return function(c){var e,f;a(this);a(c.target).hasClass("Sarw")?(e=a(c.target).parents("li"),flag=!0):(a(c.target).hasClass("Sbtn")||a(c.target).is("strong"))&&(e=a(c.target).closest("li"),flag=!d.suggestOnClick),f=e.find(".Sbtn"),(!d.showRelatedConcept||b.RCMaxCntr>=d.relatedConceptsLimit-1)&&(flag=!1,T.call(b)),b.posIndex=x(e,b.dropCont),d.suggestOnClick&&T.call(b),setTimeout(function(){y.call(b,f,flag)},50)}},T=function(){var b=this,c=b.id;B(b.curElm),b.dropCont.removeClass("slideDown"),b.curElm="",a("#"+c).find(".sWrap").removeClass("sOpen").addClass("sHide"),delete f[c],d.onHide&&d.onHide(),setTimeout(function(){b.enableRC_for_onfocus=!0},500)},U=function(){var b=this,c=b.id;d.width?b.wth=d.width:b.wth=a(document.getElementById(c)).outerWidth()+"px",b.dropCont.css({width:b.wth}).addClass("slideDown"),a("#"+c).find(".sWrap").removeClass("sHide").addClass("sOpen"),f[c]=b.dropCont,d.onShow&&d.onShow()},V=function(){var b=this;b.dropCont.on("mouseover",".Sbtn,.Sarw,strong",function(c){a(this).hasClass("Sbtn")?a(this).addClass("sAct"):a(this).is("strong")?a(this).parent().addClass("sAct"):a(this).addClass("sAct"),B(b.curElm),b.curElm=a(this)}).mouseout(function(c){b.curElm=void 0,B(a(this))})},W=function(b){var c=b.target||b.srcElement;a(c).hasClass("inpWrap")&&a(this).find(".sugInp").focus()},X=function(){var a={};return a.rs=d.showDataOnFocus,a},Y=function(b){var c=this;val=a.trim(c.inpElm.val()),c.curOpenSugg=c.id,d.showDataOnFocus&&(a.trim(c.inpElm.val())||(d.category=a.extend({},d.category,{rs:"rs"}),c.rs_kWrdsStr?M.call(c,"",X.call(c)):(l.call(c),c.rs_kWrdsStr&&M.call(c,"",X.call(c))))),d.multiSearch&&val&&val!=d.placeholderTxt?(a.support.placeholder?c.inpElm.val(val.replace(/[,\s]*$/,", ")):setTimeout(function(){c.inpElm.val(val.replace(/[,\s]*$/,", "))},10),d.showRelatedConcept&&c.enableRC_for_onfocus&&c.RCMaxCntr<d.relatedConceptsLimit-1&&O.call(c,s(val))):!a.support.placeholder&&d.placeholder&&d.placeholderTxt==val&&I.call(c)},Z=function(){var a=this.val();return a.charCodeAt(a.length-1)},$=function(b,c){var e=this,f=(b.attr("id"),c.keyCode||c.which);0!=f&&229!=f||(f=Z.call(b));var g=e.inpElm,h=e.id,i=a.trim(g.val());if(e.queryChar=i,13==f&&"block"==e.dropCont.css("display"))if(e.curElm){e.posIndex=x(e.curElm,e.dropCont);var j;!d.showRelatedConcept||e.RCMaxCntr>=d.relatedConceptsLimit-1?(j=!1,e.RCMaxCntr++):j=!d.suggestOnClick||!e.curElm.find(".Sbtn").hasClass("sAct"),y.call(e,e.curElm.find(".Sbtn"),j),j||T.call(e)}else T.call(e);else if(27==f)T.call(e);else if(i||8!=f&&46!=f)if(f>=48&&f<90||f>=97&&f<=122||16==f||188==f||8==f){if(c.ctrlKey&&86===f&&(i=i.replace(/,$/,""),g.val(i)),i)if("server"==d.source)if(188==f&&-1!=i.lastIndexOf(",")&&d.multiSearch)d.showRelatedConcept&&O.call(e,s(i));else{var k=d.multiSearch?r(i):i;if(k.length>d.startSearchAfter-1){var l=P.call(e,k,"ac",d.category);l[0]?(e.dataType="autoconcepts",M.call(e,i,l[1],"autoComplete")):N.call(e,i)}}else"local"==S.client[h]&&S.returnDataArray(h,i);a("#"+h).find(".sCross").show().click(function(){e.inpElm.val("").focus(),a(this).hide(),T.call(e),e.dropCont.find("ul").html("")})}else c.ctrlKey&&39==f||c.ctrlKey&&40==f?(e.curElm.find(".Sbtn").removeClass("sAct"),e.curElm.children(".Sarw").addClass("sAct")):c.ctrlKey&&37==f||c.ctrlKey&&38==f?(e.curElm.children(".Sarw").removeClass("sAct"),e.curElm.find(".Sbtn").addClass("sAct")):e.dropCont.find("li").length&&("none"==e.dropCont.css("display")&&40==f?U.call(e):38==f?(e.curElm?e.curElm=C.call(e,e.curElm,"prev"):e.curElm=D.call(e,h+" li:last-child",e.curElm),U.call(e)):40==f&&(e.curElm?e.curElm=C.call(e,e.curElm,"next"):e.curElm=D.call(e,h+" li:first-child",e.curElm)));else a("#"+h+" .sCross").hide(),T.call(e)},_=function(a){var b=this,c=a.which||a.keyCode;if(38==c)a.preventDefault();else if(13==c)"block"==b.dropCont.css("display")&&b.curElm&&a.preventDefault();else if(9==c){if(b.curElm){var d=b.curElm.html().replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&");b.inpElm.val(w.call(b,d))}v.call(b),T.call(b)}},aa=function(b){var c,f=this;if(e=d.url.trackingURL,f.id=b.attr("id"),f.enableRC_for_onfocus=!0,f.RCMaxCntr=0,f.inpElm=b.find(".sugInp"),d.placeholderTxt=f.inpElm.attr("placeholder"),g[f.id]={},g[f.id].Events=[],d.trackUserInteraction&&(c={trackParams:a.stringify({id:f.id?f.id:"",sourceId:d.sourceId?d.sourceId:"",platform:d.platform?d.platform:"",appId:d.appId?d.appId:""})}),f.inpElm.attr(a.extend({autocomplete:"off"},c)),d.maxlength=f.inpElm.attr("maxlength")||1e4,f.dropCont=a('<div class="sugCont '+d.scrollStyle+'" id="sugDrp_'+f.id+'">').append('<ul class="Sdrop"></ul>'),b.append(f.dropCont),!d.placeholder||a.support.placeholder||a.trim(f.inpElm.val())||H.call(this),f.inpElm.focus(function(){Y.call(f)}).keyup(function(b){$.call(f,a(this),b)}).keydown(function(a){f.curOpenSugg||(f.curOpenSugg=f.id),_.call(f,a)}),b.find(".sWrap").click(W),V.call(f),f.dropCont.on("click",".sugTouple",R.call(f)),o.call(f),d.trackUserInteraction&&j()){var h=i.getItem("sug_Tracking");h&&k.call(f,e+"?lgData="+a.stringify(h),function(){i.removeItem("sug_Tracking")})}},ba=function(a){this.node=a,aa.call(this,a),this.setTrackingObject=m},ca=this.data("suggestor");return ca||this.each(function(b,c){var d=a(c);ca=new ba(d),d.data("suggestor",ca)}),ca}}(window.jQuery||window.Zepto),$(document).click(function(a){$(a.target).parents(".singleDD").length||$(".singleDD .sDrop").slideUp(200)});var previousOpen;if(function(a){a.fn.singleDD=function(b){function c(){var b,c=this;c.inpWrap.on("click",".sdTxt, .smArw, .arw",function(d){if("block"==c.dropCont.css("display"))c.dropCont.slideUp(g.animationSpeed,function(){g.onClose&&g.onClose()});else if(c.currentActive){if(c.inpWrap[0].focus(),c.width=g.width&&"auto"!=g.width?g.width:c.elm.width()+"px",c.dropCont.css({width:c.width}).slideDown(g.animationSpeed,function(){b=c.elm.find(".content"),c.hidElm.val()&&(c.selectedLi=c.elm.find("#"+(g.sortPrefix?g.sortPrefix:"")+c.hidElm.val()),c.elm.find(".content").length||(b=c.elm.find(".nScroll")),scrollToMid(b,c.elm.find("ul"),c.selectedLi,"sAct")),c.innerDropLayer[0].csb&&!c.hidElm.val()&&(c.innerDropLayer[0].csb.reset(),c.dropCont.find(".content").animate({scrollTop:"0px"},500)),g.onOpen&&g.onOpen()}),g.changeDirection){null==h?(mainEle=a(window).height(),eleTop=c.elm.find(".dWrap").offset().top-a(window).scrollTop()):(mainEle=a(h).height(),eleTop=a(h).scrollTop()+c.elm.find(".dWrap").offset().top);g.width&&"auto"!=g.width?g.width:elm.width();mainEle>=g.maxHeight?mainEle>=eleTop+g.maxHeight?c.dropCont.css({top:c.elm.find(".dWrap").outerHeight(),left:0,display:"block"}):c.dropCont.css({top:"-"+g.maxHeight+"px",left:0,display:"block"}):c.dropCont.css({top:c.elm.find(".dWrap").outerHeight(),left:0,display:"block"})}else c.dropCont.css({top:c.elm.find(".dWrap").outerHeight(),left:0,display:"block"});a(this).parents(".singleDD").addClass("zIndexIE7"),g.onOpen&&g.onOpen()}}).on("keydown",function(b){var d,e=c.keyCode(b),f=c.dropCont.find(":first-child"),h=c.dropCont.find("ul"),i=(h.parents(".sDrop"),h.parent());39==e||40==e?(d=c.nextSelection.call(c,c.currActiveItem),g.autoSelect&&c.setValue.call(c,d),ieObj.scrollHandler(i,h.parent(),f,d)):37==e||38==e?(d=c.prevSelection.call(c,c.currActiveItem),g.autoSelect&&c.setValue.call(c,d),ieObj.scrollHandler(i,h.parent(),f,d)):9!=e&&13!=e&&27!=e||(g.autoSelect||c.setValue.call(c,c.currActiveItem),c.currentActive=!1,c.onblur(b,a(this)),c.currentActive=!0)}).on("focus",function(a){g.onFocus&&g.onFocus(),c.disableScroll(a),c.currActiveItem=c.dropCont.find("li:first-child"),c.inpTextElm.val()||c.currActiveItem.addClass("sAct")}).on("blur",function(b){c.enableScroll(b),c.onblur(b,a(this))}).mousedown(function(){return!1})}function d(b){var d=this;d.elm=b;var e=b.attr("id"),f=d.elm.find(".sdTxt"),h=f.attr("name");d._this=d,d.inpTextElm=f.attr({name:"",readonly:"readonly",autocomplete:"off",tabIndex:"-1"}),d.inpWrap=d.elm.find(".dWrap").attr({tabIndex:"0"});var i=g.customScroll?'class="nScroll"':"";d.hidElm=a("<input>").attr({type:"hidden",id:e+"Hid",name:h}),d.dropCont=a('<div class="sDrop"></div>'),d.innerDropLayer=a("<div "+i+"><ul></ul></div>").css({maxHeight:g.maxHeight}),d.dropCont.append(d.innerDropLayer),d.currentActive=!1,d.inpWrap.append(d.hidElm),d.elm.append(d.dropCont),d.replaceData=function(a){d.prefillData(a),d.dropCont.find("ul").html(d.appendData(a.data))},d.select=function(a){d.setVal_inHiddenField.call(d,g.data[a],a)},d.deselect=function(){d.setVal_inHiddenField.call(d,"","")},d.elm.on("mouseenter",function(){d.currentActive=!0}).on("mouseleave",function(){d.currentActive=!1}),c.call(d),d.dropCont.on("click","li",function(){var b=a(this).text(),c=a(this).attr("id");g.defaultIndex&&0===a(this).index()?d.setVal_inHiddenField("","",!0):d.setVal_inHiddenField(b,c),d.inpWrap[0].focus(),d.dropCont.slideUp(g.animationSpeed,function(){g.onClose&&g.onClose()})}).on("mouseover","li",function(){d.selectedLi&&d.selectedLi.removeClass("sAct"),a(this).addClass("sAct")}).on("mouseout","li",function(){a(this).removeClass("sAct")}).find("ul").html(d.appendData(g.data)),d.prefillData(g)}function e(a){d.call(this,a)}var f={maxHeight:200,data:{},defaultIndex:!0,customScroll:!0,placeholderColor:"#a9a9a9",selectColor:"#333",animationSpeed:200,autoSelect:!0},g=a.extend({},f,b),h=b.wrap?b.wrap:null,i={prefillData:function(a){var b=a.sortPrefix?a.sortPrefix+a.prefillData:a.prefillData;a.data[b]?i.setVal_inHiddenField.call(this,a.data[b],a.prefillData):0!=a.isReset&&this.setVal_inHiddenField("","")},setVal_inHiddenField:function(a,b,c){var d,e=i.remDelimiter(b);jQuery.support.placeholder||(a?d=g.selectColor:(a=this.inpTextElm.attr("placeholder"),d=g.placeholderColor)),this.inpTextElm.val(a).css({color:d}),this.hidElm.val(e),(e||c)&&g.callBack&&g.callBack(e)},disable:function(){this.inpWrap.off("click keydown focus blur")},enable:function(){c.call(this._this)},onblur:function(a,b){var c=this;c.currentActive||(c.dropCont.slideUp(g.animationSpeed,function(){g.onClose&&g.onClose()}),b.parents(".singleDD").removeClass("zIndexIE7"),g.onClose&&g.onClose(),previousOpen=c.dropCont)},setValue:function(a){var b=a.attr("id");g.defaultIndex&&0==a.index()?i.setVal_inHiddenField.call(this,"",""):a&&a.length&&i.setVal_inHiddenField.call(this,a.text(),b)},appendData:function(a){var b="";for(var c in a)g.textWrap?b+='<li id="'+c+'"><'+g.textWrap+">"+a[c]+"</"+g.textWrap+"></li>":b+='<li id="'+c+'">'+a[c]+"</li>";return b},keyCode:function(a){return a.keyCode||a.which},disb_Scroll_handler:function(a){var b=i.keyCode(a);if(40===b||38===b||32===b)return a.preventDefault(),!1},disableScroll:function(b){a(window).on("keydown",i.disb_Scroll_handler)},enableScroll:function(b){a(window).off("keydown",i.disb_Scroll_handler)},nextSelection:function(a){var b=a.next();return b.length?(a.removeClass("sAct"),this.currActiveItem=b,b.addClass("sAct")):b=a,b},prevSelection:function(a){var b=a.prev();return b.length&&(a.removeClass("sAct"),this.currActiveItem=b,b.addClass("sAct")),b},remDelimiter:function(a){return a&&g.sortPrefix?a.toString().replace(new RegExp("^"+g.sortPrefix),""):a}};return e.prototype=i,this.each(function(){if(!a(this).data("singleDD")){var b=new e(a(this));a(this).data("singleDD",b)}}),this.data("singleDD")}}(jQuery),function(a){a.fn.tabs=function(b){var c=a.extend({},a.fn.tabs.defaults,b);return this.each(function(){var b=a(this),d=b.children("ul").children(),e=d.eq(c.active);c.disabled&&d.eq(c.disabled).addClass("disable"),jQuery.data(b,"tab",{id:b.attr("id"),prevAct:e.addClass("active")}),a("#"+e.attr("bind")).show(),a.each(d,function(){a(this).hasClass("disable")||a(a(this)).on(c.openEvent,function(){var d=a("#"+a(this).attr("bind"));if("block"!=d.css("display")){var e=jQuery.data(b,"tab");a("#"+e.id+" .tabCont").hide(),d.fadeIn(),e.prevAct.removeClass("active"),c.onClick&&c.onClick(a(this),e.prevAct),e.prevAct=a(this).addClass("active")}})})})},a.fn.tabs.defaults={active:0,disabled:!1,onClick:!1,openEvent:"click",heightStyle:"auto"}}(jQuery),"undefined"!=typeof jQuery)$("body").append('\x3c!--[if IE 7]><script type="text/javascript">$("body").addClass("ie7")<\/script><![endif]--\x3e\x3c!--[if IE 8]><script type="text/javascript">$("body").addClass("ie8")<\/script><![endif]--\x3e\x3c!--[if IE 9]><script type="text/javascript">$("body").addClass("ie9")<\/script><![endif]--\x3e');else{var ieVer=isIE();if(ieVer)switch(ieVer){case 7:addClass("ie7");break;case 8:addClass("ie8");break;case 9:addClass("ie9")}}customScroll=function(){if($("body").append('\x3c!--[if IE 7]><script type="text/javascript">$("body").addClass("ie7")<\/script><![endif]--\x3e'),$("body").hasClass("ie7"))return{init:function(){}};if($(window).width()<500&&$(window).height()<180)return{init:function(){}};var a={barSize:"0"},b={anchorScrollSpeed:10,pageScrollSpeed:20,clientX:0,clientY:0,type:{0:"vertical",1:"horizontal"},vertical:{cSize:"clientHeight",func:"height",css1:"top",css2:"height",sSize:"scrollHeight",sStart:"scrollTop"},horizontal:{cSize:"clientWidth",func:"width",css1:"left",css2:"width",sSize:"scrollWidth",sStart:"scrollLeft"}},c={type:{0:"vertical",1:"horizontal"},injectStructure:function(){function a(a){this[a]={scroll:$("<div>").addClass("csb matchParent "+a),head:$("<div>").addClass("matchParent anchor head"),foot:$("<div>").addClass("matchParent anchor foot"),bar:$("<div>").addClass("bar")},this[a].scroll.append(this[a].head).append(this[a].bar).append(this[a].foot),this.cover.append(this[a].scroll),this.anchorSize=this[a].head[this.getProperty(a,"func")](),this[a].bar[0].style[this.getProperty(a,"css1")]=this.anchorSize+"px"}for(var b=document.createDocumentFragment(),c=this.elem[0].childNodes;c.length;)b.appendChild(c[0]);this.cover=$("<div>").addClass("cover"),this.content=$("<div>").addClass("matchParent content"),this.content.append($(b));var d={minWidth:this.elem.css("min-width"),maxWidth:this.elem.css("max-width"),minHeight:this.elem.css("min-height"),maxHeight:this.elem.css("max-height")};this.content.css(d),this.cover[0].setAttribute("onscroll","this.scrollLeft=this.scrollTop=0"),this.cover.append(this.content),this.elem.append(this.cover),a.call(this,this.type[0]),a.call(this,this.type[1])},getPaneSize:function(a){var b=this.getProperty(a,"func"),c=this[a].head[b](),d=this[a].scroll[b]()-2*c;return{aSize:c,pSize:d>-1?d:0}},setRatio:function(a){var b=(this.getProperty(a,"css1"),this.getProperty(a,"css2")),c=this.getProperty(a,"sSize"),d=this.getProperty(a,"sStart"),e=this.getPaneSize(a),f=Math.max(this.params.barSize,Math.pow(e.pSize,2)/this.content[0][c]);this[a].bar[0].style[b]=f+"px";var g=this.content[0][d];this.content[0][d]=this.content[0][c],this[a].maxsSize=this.content[0][d],this.content[0][d]=g,0!=this[a].maxsSize?this[a].RATIO=(e.pSize-f)/this[a].maxsSize:this[a].RATIO=0},isScrollable:function(a){var b=this.getProperty(a,"sSize");b=this.content[0][b];var c=this.getProperty(a,"cSize");return c=this.content[0][c],b>c},show:function(a){var c=a?{0:a}:b.type;for(key in c)a=c[key],this.isScrollable(a)?(this[a].scroll.stop(!0,!0),this[a].scroll.fadeIn("slow")):this.hide(a)},hide:function(a){var c=a?{0:a}:b.type;for(key in c)a=c[key],this[a].scroll.stop(!0,!0),this[a].scroll.fadeOut("slow")},onScrollSizeUpdate:function(a){this.setRatio(a),this.show()},setBarStart:function(a,b){var c=this.getProperty(a,"css1");this.getProperty(a,"func");b=b*this[a].RATIO+this.anchorSize,this[a].bar[0].style[c]=b+"px"},onScrollChange:function(){if(!this.synching){this.synching=!0;var a=this.getProperty("type");for(key in a){var b=a[key],c=this[b]._sSize||0,d=this[b]._sStart||0,e=this[b]._cSize||0,f=this.content[0][this.getProperty(b,"cSize")];e!=f&&(this.onScrollSizeUpdate(b),this[b]._cSize=f);var g=this.content[0][this.getProperty(b,"sSize")];c!=g&&(this.onScrollSizeUpdate(b),this[b]._sSize=g);var h=this.content[0][this.getProperty(b,"sStart")];d!=h&&(this.setBarStart(b,h),this[b]._sStart=h)}this.synching=!1}},getProperty:function(a,c){return c?b[a][c]:b[a]},scrollTo:function(a,b){var c=this.getProperty(a,"sStart");this.content[0][c]=b},scrollToward:function(a,b){var c=this.getProperty(a,"sStart");this.content[0][c];this.content[0][c]+=b},attachEvents:function(){var a=this,c=b.type;for(key in c){var d=c[key];this.mouseEvents(d)}this.onScrollChange(),this.content.on("scroll\t",function(b){a.onScrollChange()}),this.cover.mouseenter(function(){a.show()}).mouseleave(function(){b.drag||a.hide()})}},d=function(a,b){a.csb={reset:function(){b.onScrollChange()},scrollToHead:function(a){},scrollToHead:function(a){},scrollTo:function(){},remove:function(){}}},e=function(b,c){this.elem=b,this.params=$.extend({},a,c),this.injectStructure(),this.attachEvents(),d(b[0],this)},f=function(){var a=function(a,d,e,f){var g=e.scrollToward,h=0,i=e[a].bar[0];if(d.hasClass("anchor")){h=b.anchorScrollSpeed;var j=d.hasClass("head")?-h:h}else{var k=e[a].bar[0].getBoundingClientRect(),l=("vertical"==a?f.clientY<k.top:f.clientX<k.left)?"head":"foot";h=b.pageScrollSpeed;var j="head"==l?-h:h}g.interval=setInterval(function(){if(document.elementFromPoint(b.clientX,b.clientY)==i)return void clearInterval(c.scrollToward.interval);e.scrollToward(a,j)},100)},d=function(a,c){b.drag={dir:a,obj:c,prev_clientX:b.clientX,prev_clientY:b.clientY}};return{mouseEvents:function(b){var c=this;this[b].scroll.mousedown(function(b,e){var f=$(b.target||b.srcElement);e=f.hasClass("bar")||f.hasClass("anchor")?f.parent().attr("class").match(/vertical|horizontal/):f.attr("class").match(/vertical|horizontal/),f.hasClass("bar")?d(e,c):a(e,f,c,b),b.preventDefault()}).click(function(a){a.stopPropagation()})}}}();for(key in f)c[key]=f[key];e.prototype=c;var g=function(a){for(var b=$(".nScroll"),c=b.length-1;c>-1;c--)b.eq(c).css({overflow:"visisble"}),new e(b.eq(c),a);b.removeClass("nScroll").addClass("nScrollable")};return $(document).on("mouseup",function(a){b.drag=null,clearInterval(c.scrollToward.interval)}).on("mousemove",function(a){if(b.clientX=a.clientX,b.clientY=a.clientY,b.drag){var c=b.clientX-b.drag.prev_clientX,d=b.clientY-b.drag.prev_clientY,e=b.drag.obj,f=b.drag.dir,g=("vertical"==f?d:c)/e[f].RATIO;e.scrollToward(b.drag.dir,g),b.drag.prev_clientX=b.clientX,b.drag.prev_clientY=b.clientY}}),{init:g}}(),function(a){var b=function(b){return"maxLength"in a(b)[0]},c=function(b,c){var d=a(b),e=c[d.attr("id")].counter||null,f=c[d.attr("id")].helptext||null,g=d.val().length,h=d.attr("maxlength");!g||f&&d.val()==f?d.val(f).removeClass("txtClr").addClass("hlpClr"):(h-=g,d.removeClass("hlpClr").addClass("txtClr")),d.focus(function(){f&&a(this).val()==f&&a(this).val("").removeClass("hlpClr").addClass("txtClr")}),d.blur(function(){f&&""==a(this).val()&&(a(this).val(f).removeClass("txtClr").addClass("hlpClr"),e.html(d.attr("maxlength")))}),e.html(h)},d=function(c,d,f){var g=a(c),h=d[g.attr("id")].counter,i=g.attr("maxlength"),j=b(g);g.on("keypress",function(b){b.which>31&&b.which<127&&i-e(a(this))==0&&b.preventDefault()}),g.on("keyup",function(b){var c=a(this),d=e(c),g=i-d;if(k=c.val(),d<i&&c.unbind("paste"),!j&&d>=i){var k=c.val(),l=k.substring(0,i);c.val(l),c.on("paste",function(a){return a.preventDefault(),!1})}h&&h.html(g<0?0:g),g>=0&&String.fromCharCode(b.which).match(/^[a-z0-9]+$/i)&&f&&-1!=g&&f(a(this),g)})},e=function(b){return a(b).val().length+(a(b).val().match(/\n\r|\n|\r/g)||[]).length};a.fn.textLimter=function(b){var e=b.options||null,f=b.callBack||null;a.each(this,function(b,g){c(g,e),d(g,e,f),a(g).data("updateCounter",function(){c(g,e)})})}}(jQuery),$.fn.sticky=function(a){function b(){(h||i)&&(c=!!h&&h.inView().status,d=h?h.inView().position:"bottom",e=!!i&&i.inView().status,f=i?i.inView().position:"bottom"),m=!("bottom"!=k||(!c||e)&&(c||e||"top"!=d||"bottom"!=f))||!("top"!=k||c||"top"!=d||"bottom"!=f&&"inside"!=f),m?(g.addClass(j),l&&l.call(g)):g.removeClass(j)}var c,d,e,f,g=$(this),h=a.topLimit||null,i=a.bottomLimit||null,j=(a.container,a.class),k=a.relatedTo||"bottom",l=a.callback||null,m=!1;k=k.toLowerCase(),$(window).on("scroll",function(){b()}),b()},$.fn.inViewCallback=function(a){var b=this,c=a.inCallback,d=a.outCallback,e=void 0===a.repeatInCbFlag||a.repeatInCbFlag,f=void 0===a.repeatOutCbFlag||a.repeatOutCbFlag,g=b.attr("id"),h=!0,i=!1;$(window).scroll(function(){var a=b.inView().status;a!=i&&(i=a,i&&g?(e||(g=e),c&&c()):!i&&h&&(f||(h=!1),d&&d()))}),$(window).scroll()},$.fn.inView=function(a){var b,c,d=0,e=0,f=$(window),g=$(this),h=f.scrollTop(),i=f.scrollTop()+f.height(),j=g.length?g.offset().top+g.outerHeight():null;return a&&(d=a.topOff||0,e=a.bottomOff||0),c=h>j+e?"top":i<j-d?"bottom":"inside",b=i>=j-d&&h<=j+e,{status:b,position:c}},function(a){a.fn.accordion=function(b){function c(a,c){!c&&a.hasClass("disable")||(a.removeClass(b.icons.header).addClass(b.icons.activeHeader).next().slideDown(b.showHideSpeed,b.completeAnimation()).data("openState",1).removeClass("close").addClass("open"),b.onClick?b.onClick():b.callBack&&b.callBack(a,"expand"))}function d(a,c){!c&&a.hasClass("disable")||(a.removeClass(b.icons.activeHeader).addClass(b.icons.header).next().slideUp(b.showHideSpeed,b.completeAnimation()).data("openState",0).removeClass("open").addClass("close"),b.onClick?b.onClick():b.callBack&&b.callBack(a,"collapse"))}function e(b,e,f,g){b.each(function(b,h){-1===a.inArray(b,e)&&e.length||("collapse"==f?d(a(this),g):(k=a(this).next(),c(a(this),g)))})}function f(a,b,c,d){b||0===b?"object"==typeof b?e(a.find(".acord_head"),b,c,d):e(a.find(".acord_head"),[b],c,d):e(a.find(".acord_head"),[],c,d)}function g(a){var e=(a.find("span"),a.next());b.collapsible&&!b.previousOpen?e.data("openState")?d(e.prev()):(k&&k.length&&k.data("openState")&&d(k.prev()),k=e,c(e.prev())):b.collapsible&&b.previousOpen?e.data("openState")?d(e.prev()):c(e.prev()):e.data("openState")||a.hasClass("disable")||(k&&d(k.prev()),k=e,c(e.prev()))}
function h(a,b){"disable"==b?a.addClass("disable"):"enable"==b&&a.removeClass("disable")}function i(b,c,d){c||0===c?"[object Array]"==Object.prototype.toString.call(c)?c.length?b.each(function(b,e){-1!=a.inArray(b,c)&&h(a(this),d)}):h(b,d):h(b.eq(c),d):h(b,d)}var j={active:0,completeAnimation:function(){},showHideSpeed:"fast",openEvent:"click",icons:{header:"acordUp",activeHeader:"acordDown"}};b&&!1===b.active?b.active="false":b&&b.active&&!b.active.length&&(b.active=0),b&&!0===b.disabled&&(b.disabled=[]);var k,b=a.fn.extend({},j,b);return this.each(function(){var c=a(this).find(".acord_head");b.disabled?i(c,b.disabled,"disable"):a(this).on(b.openEvent,".acord_head",function(){g(a(this))}),c.each(function(){a(this).addClass(b.icons.header).prepend('<span class="icon"></span>').next().addClass("close")}),b.openAll?e(c,[],"expand"):"false"!=b.active&&("object"==typeof b.active?e(c,b.active,"expand"):e(c,[b.active],"expand")),a(this).find(".acord_head").find("span").css("zoom",1)}),this.expand=function(b){f(a(this),b,"expand","forceExpand")},this.collapse=function(b){f(a(this),b,"collapse","forceCollapse")},this.disabled=function(b){i(a(this).find(".acord_head"),b,"disable")},this.enabled=function(b){i(a(this).find(".acord_head"),b,"enable")},this}}(jQuery);var DD=function(a,b,c){function d(){return arguments.length?function(a){}:function(){}}function e(a){var b=$(a.target).parents(".ddwn");if(!b.length&&!0!==Boolean(b.attr("searchDisabled"))){var c=$(".ddwn");c.find(".DDwrap").removeClass("brBotN"),c.find(".drop").hide()}}function f(){var a=k.id;lastOpen=a,$("#"+a).find(".DDwrap").addClass("brBotN"),$("#"+a).find(".drop").show(),$("#ul_"+a)[0].scrollTop=0;var b=$("#"+a).outerWidth()-2+"px";k.dpLyr.css({width:b}),k.max_height(),k.chkBox||k.firstHighlight()}function g(a){$(document).on("keydown",k.disb_Scroll_handler)}function h(a){$(document).off("keydown")}function i(a){if(a>m)return m+=5;m+=1}function j(a,b){if(""!==k.inpElm.val()&&m>l){if(b>m)return m-=5;m-=1}}var k=this,l=30;k.obj=a;var m=k.obj.postPlaceholder?k.obj.postPlaceholder.width:30;k.prefillData=a.prefillData,k.parentRefData={},k.liCntrFx=[],k.preventClickFor=a.preventClickFor||[],k.onDeselect=a.onDeselect,k.liCntr=[],k.isReset=!0,k.sortPrefix=a.sortPrefix,k.idKey=[],k.hidValue=[],k.maxTagsCount=a.maxTagsCount||999,k.pKey=c,k.idLen=0,k.tagwithOptGroup=a.tagwithOptGroup||!1,k.srchBx=!1!==a.searchBox,k.clrId=a.clearTagId,k.tagsSorting=!1!==a.tagsSorting,k.MrgPrfAryOrdr=a.appendTags||!1,k.onClearTag=[];for(k.idKey[k.idKey.length]in a.id);k.idLen=k.idKey.length,k.sugHgt=a.maxHeight||300,k.clearAllInside=a.clearAllInside||!1,k.parentChkBox=a.parentChkBox||!1,k.chkBox=a.checkBox||!1,k.allChk=a.allChk||!1,k.allChecked=a.allChecked||!1,k.layerOpenStatus=!1,k.tags=!1!==a.tags||a.tags,k.TagSpCnt=a.tagInSepContainer||!1,k.id=k.idKey[0],k.preTxt=!1===a.preText?"":a.preText||"You have selected",k.Allflg="",k.postTxt=!1===a.postText?"":a.postText||"item(s)",k.curActElm="",k.Tagfocus=0,k.onClickAll=a.onClickAll||d(),k.onClickLi=a.onClickReq||d(),k.onTagClk=a.onTagClick||d(),k.onTagCrt=a.onTagCreate||d(),k.outerCont=$("#"+k.id),k.inpElm=k.outerCont.find(".srchTxt"),k.TagCnt=0,k.tagTitle=a.tagTitle||!1,k.optgrpNameRef=[],k.optgrpObject={},k.onChange=a.onChange||d(),k.showSelText=a.showSelText||!1,k.isReadOnly=k.inpElm.is("[readonly]"),k.preserveText=a.preserveText||!1,k.removeHiddenVal=a.removeHiddenVal||!1,k.pKey?(k.chkBox||(DD.Ary[k.id]={}),DD.Ary[k.id]||(DD.Ary[k.id]={}),DD.Ary[k.id][k.pKey]=a.id[k.id][0],k.Ary=DD.Ary[k.id]):(k.Ary={},k.Ary.A=a.id[k.id][0]),k.prefillData=a.prefillData||k.obj.id[k.id][1],k.isSearch=0!=a.isSearch,k.selectOnBlur=void 0===a.selectOnBlur||a.selectOnBlur,k.blurDelay=a.blurDelay,k.onBlur=a.onBlur||d(),k.toggleDropLayer=void 0===a.toggleDropLayer||a.toggleDropLayer,DD.lastRef.iseventBindOnDocument||($(document).on("click touchstart",function(a){e(a)}),$(document).on("focus",".srchTxt",function(a){window.lastOpen&&"block"==$("#"+window.lastOpen).find(".drop").css("display")&&(e(a),$("#"+window.lastOpen).find(".drop").hide(),$("#"+window.lastOpen).find(".DDwrap").removeClass("brBotN"))}),DD.lastRef.iseventBindOnDocument=!0);var n=function(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;")},o=function(a){if(-1!=a.indexOf("<b>")){a=a.split("<b>");var b=a[1].split("</b>"),c=[a[0],b[0],b[1]],d=[];for(var e in c)d.push(n(c[e]));return d[0]+"<b>"+d[1]+"</b>"+d[2]}return n(a)};k.replaceTag=function(a){return-1!=a.toString().indexOf("<")?o(a):a},k.setLi=function(a){var b=this;if($("#ul_"+a).find("li").length<b.liCntr){var c=b.appendData(b.Ary,"","",!0);b.dpLyr.find("ul").html(c[0]),b.liCntr=b.liCntrFx}},k.obj.resetPrefillValues?k.ChkBoxContr={}:k.ChkBoxContr||(k.ChkBoxContr={});for(var p in a.clearTagId)for(var q in a.clearTagId[p])k.onClearTag[p]=a.clearTagId[p][q];k.Fn={preserveEventafterClone:function(b,c){var d,e=k.id;d=k.TagSpCnt?$("#"+k.TagSpCnt).find('[data-id="'+b+'"]'):$("#"+e).find(".DDsearch").find('[data-id="'+b+'"]'),d.on("click",".dCross",function(d){d.stopPropagation(),k.removeTag(b,$(this).find(".tagTxt").text(),c),k.max_height(),c&&k.onTagClk(a,k.TagCnt,$(this).parent().attr("data-id")),k.setInputText(),"block"==k.dpLyr.css("display")&&$("#"+e).find(".srchTxt")[0].focus()})},keyUpEv:function(a){var b=$(this).data("id"),c=$("#"+b).width()-15,d=(b.split("_")[1],a.keyCode||a.which),e=$(this).val().replace(/\b/g,"");if(13==d&&k.curActElm&&k.curActElm.length&&!k.curActElm.hasClass("noData")&&k.curActElm.hasClass("active")){var f=k.curActElm.children("a");if(k.chkBox){var g=f.data("id")+"_"+k.Escp(k.curActElm.attr("bindto"));f.hasClass("chkd")?k.removeTag("tg_"+g,f.html(),!0):k.CreateTags(f,g,"",k.tags)}else k.SingleSelection(f.text(),f.data("id").split("_")),k.hideDD()}8==d&&k.chkBox&&!k.TagSpCnt&&!1!==k.tags&&(e?wth=j(b,c)+"px":""!=k.inpHid.val()?wth=m+"px":wth="",k.inpElm.css({width:wth})),k.isReadOnly||9==d||13==d||18==d||32==d||37==d||38==d||39==d||40==d||16==d||(k.Fn.initSearch(e,b,d),"none"==k.dpLyr.css("display")&&k.dpLyr.show()),k.removeHiddenVal&&(e||k.inpHid.attr("value",""))},initSearch:function(a,b,c){var d="";srchCntr=0,b=b.split("_")[1];var e=k.Ary;if(a){a=a.replace(/&amp;/gi,"&").replace(/[\s]+/g," ").replace(/^\s/,"");for(var f in e)for(var g in e[f])if("object"==typeof e[f][g]){var h,i="";h=e[f][g];for(var j in h)i+=k.searchData(h[j],a,b,b+"_"+j+"_"+k.eUnderScore(g),k.Escp(f));i&&(d+='<li class="optgroup">'+k.eUnderScore(g)+"</li>"+i,srchCntr++)}else $("#"+b).find(".cross").show(),d+=k.searchData(e[f][g],a,b,b+"_"+k.eUnderScore(g),k.Escp(f)),srchCntr++}else $("#"+b).find(".cross").hide(),d=k.appendData(k.Ary,"","",c)[0],srchCntr=k.liCntrFx;if(!d){d='<li class="noData">'+(k.obj.noDataTxt?k.obj.noDataTxt:"No data found in search")+"</li>",srchCntr++}k.dpLyr.find("ul").html(d),k.liCntr=srchCntr,k.max_height(),k.firstHighlight()}},window.intervalX=0,k.blurEv=function(a){var b=k.id,c=k.selectOnBlur;if(!k.TagSpCnt&&k.chkBox&&$("#"+b).find(".tagit:last").removeClass("TagSelected"),k.isReadOnly&&h(a),k.layerOpenStatus||k.hideDD(),!k.chkBox){var d,e,f,g=k.inpHid,i=k.inpElm,j=k.uEscp(g.attr("opt")),l=g.val(),m=k.Ary.A;f=k.getKeyFromVal(k.Ary.A,i.val()),c?(d=f.retKey,e=f.parentKey?j?m[j][l]:m?m[f.parentKey][d]?m[f.parentKey][d]:m[f.parentKey][l]:"":j?m[j][l]:m?m[d]?m[d]:m[l]:""):e=f.parentKey?j?m[j][l]:m?m[f.parentKey][l]:"":j?m[j][l]:m?m[l]:"",i.val()?e&&(i.val(e).css({color:"#444"}),k.blurClearTimeoutId=setTimeout(function(){if(c){var a=d||k.getKeyFromVal(k.Ary.A,e).retKey,b=a.replace(k.sortPrefix,"");g.val(b),k.onBlur(b)}},k.blurDelay||0)):(g.val(""),"none"==k.dpLyr.css("display")&&k.onChange(""),k.onDeselect&&k.onDeselect())}},k.getKeyFromVal=function(a,b,c){var d=a,e={};for(var f in d){if("object"==typeof d[f])return k.getKeyFromVal(d[f],b,f);if($.trim(d[f].toLowerCase())==$.trim(b.toLowerCase())){e.retKey=f;break}}return c&&(e.parentKey=c),e},k.focusEv=function(a){k.layerOpenStatus=!1!==k.srchBx,k.inpt=$(this);var b=$(this).data("id");b.split("_")[1];k.DDSearch=$(this).parent(".DDSearch"),f(),k.isReadOnly&&g(a),$("#"+b).css({color:"#444"}),setTimeout(function(){intervalX=1},200)},k.keyDownEv=function(a,b){var c,d=k.id,e=a.keyCode||a.which,g=$("#"+d).width()-15,h=b.val().replace(/\b/g,""),j=k.dpLyr.css("display");if(13!=e&&38!=e||a.preventDefault(),13==e&&"none"==j&&!k.chkBox&&k.obj.form&&k.obj.form[0].submit(),(9==e||27==e)&&k.hideDD(),(e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57)&&!k.TagSpCnt&&k.chkBox&&!1!==k.tags&&(c=i(g),k.inpElm.css({width:c+"px"})),!h&&k.chkBox){var l=$("#"+d).find(".tagit:last"),m=l.data("id");k.TagCnt>0&&8==a.keyCode&&!k.TagSpCnt&&m&&m.length>0?k.Tagfocus?(k.removeTag(m,l.children(".tagTxt").html(),!0),k.Tagfocus=0):($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').addClass("TagSelected"),k.Tagfocus=1):m&&($("#"+d).find(".DDsearch").find('[data-id="'+m+'"]').removeClass("TagSelected"),k.Tagfocus=0)}var n=$("#ul_"+d),o=n.find("ul"),p=o.find("li:first-child");if(k.curActElm.length||(k.curActElm=p),40==e)if("none"==j)k.hideDD(),f();else{var q,r=k.curActElm.next();r.length&&!r.hasClass("noData")&&(q=r.hasClass("optgroup")?r.next():r,k.curActElm.removeClass("active"),q.addClass("active"),k.curActElm=q,ieObj.scrollHandler(k.dpLyr,o.parent(),p,k.curActElm))}else if(38==e){var s,t=k.curActElm.prev();t.length&&(s=t.hasClass("optgroup")?t.prev():t,s.length&&(k.curActElm.removeClass("active"),s.addClass("active"),k.curActElm=s,ieObj.scrollHandler(k.dpLyr,o.parent(),p,k.curActElm)))}},k.fillDatainDropdwonLayer=function(a,b,c,d,e){k.inpElm;k.chkBox&&k.inpHid.attr({value:""}),!1===k.srchBx?($("#"+a).attr("searchDisabled",!0).find(".DDwrap").hide(),$("#"+a).find(".drop").css({position:"static"})):$("#"+a).find("div.drop").css({borderTop:0}),$("#ul_"+a).find("ul").html(b),b="",!1===k.srchBx&&f(),(k.allChk||k.parentChkBox)&&k.chkForParent(k.optgrpObject,k.DATA,a)},k.liMousehover=function(){k.id;k.dpLyr.on("mouseover","li.pickVal",function(){k.curActElm.length||k.firstHighlight(),k.curActElm.removeClass("active"),$(this).addClass("active"),k.curActElm=$(this)}).on("mouseout","a",function(){$(this).removeClass("active")})},k.max_height=function(){for(var a=k.id,b=$("#ul_"+a),c=0,d=$("#ul_"+a).find(" ul li:first");d.length&&k.sugHgt>=c;)c+=d.outerHeight(),d=d.next();k.sugHgt<c?b.css({height:k.sugHgt+"px"}):b.css({height:c+"px",width:"100%"}),b.length&&b[0].csb&&b[0].csb.reset()},k.PickValuesFromDD=function(){var b;k.id;k.dpLyr.on("click",".pickVal a",function(c){if(k.chkBox){var d=0,e=$(this),f=e.data("id");if(k.parentChkBox)var g=$(this).data("id").split("_"),h=g[g.length-1];if($(this).hasClass("chkd")&&(d=1),b=e.html(),f.split("_")[1]==k.eUnderScore(k.otherLabId))1==d?k.onClickLi(a,k.otherLabId,"unChecked"):k.onClickLi(a,k.otherLabId,"checked"),k.hideDD();else{var g=$(this).data("id").split("_");if(k.parentChkBox)var h=k.dUnderScore(k.uEscp(g[g.length-1])),i=k.uEscp(g[g.length-2]);else var h="All",i=k.uEscp(g[g.length-1]);if(1==d){var j=f;if($(this).parent().attr("bindto")&&(j=f+"_"+k.Escp($(this).parent().attr("bindto"))),k.removeTag("tg_"+j,b,!0),k.parentChkBox||k.allChk){var l=k.optgrpObject[h].checked.indexOf(i);l>-1&&k.optgrpObject[h].checked.splice(l,1),k.optgrpObject[h].unchecked.push(i),k.chkForParent(k.optgrpObject,"",f)}}else{var m=$(this).parent().attr("bindto");if(m&&(f=f+"_"+k.Escp(m)),k.CreateTags(e,f,"",k.tags),k.parentChkBox||k.allChk){var l=k.optgrpObject[h].unchecked.indexOf(i);l>-1&&k.optgrpObject[h].unchecked.splice(l,1),k.optgrpObject[h].checked.push(i),k.chkForParent(k.optgrpObject,"",f)}}!1!==k.srchBx&&!0!==k.allChk&&setTimeout(function(){k.inpElm[0].focus()},100)}}else k.SingleSelection($(this).text(),$(this).data("id").split("_"))})},k.SingleSelection=function(b,c){var d=c[0],e=c[2]?c[2]:"";k.inpElm&&k.inpElm.val(b),$("#"+d).find(".cross").show();var f=k.dUnderScore(k.uEscp(c[1])).replace(k.sortPrefix,"");k.inpHid.attr({value:f}).data("optGroupKey",e),k.layerOpenStatus&&k.hideDD(),k.onClickLi(a,f),k.onChange(f)},k.CreateTags=function(b,c,d,e){var f=k.id,g=c.split("_")[1];if(e="-1"==$.inArray(g,k.preventClickFor)&&0!=e,k.hidValue.length<k.maxTagsCount){var h,i=k.uEscp(c).split("_"),j=c.split("_"),l=3==j.length?j[0]+"_"+j[1]:j[0]+"_"+j[1]+"_"+j[2];if("string"!=typeof b?(h=b.html(),b.addClass("chkd")):h=b,k.TagCnt++,k.obj.postPlaceholder&&k.obj.postPlaceholder.text?k.inpElm.attr("placeholder",k.obj.postPlaceholder.text):k.inpElm.attr("placeholder",""),!1!==e){h=h.replace(/(<([^>]+)>)/gi,"").replace(/&amp;/gi,"&"),k.tagwithOptGroup&&(h="<b>"+i[2].replace("xSlashX","/").replace(/SxP/gi," ")+"</b>("+h+")");var n=$("<li>").append('<span class="tagTxt">'+h+"</span>"),o="tg_"+c;k.tagTitle&&n.attr("title",h);var p=k.TagSpCnt;if(p||!1===e){var q=n.append($("<a>").addClass("dCross")).addClass("tagit").attr({"data-id":o}),r=$("#"+p)[0];if(k.MrgPrfAryOrdr){var s=r.children[d];s?s.parentNode.insertBefore(q[0],s):$("#"+p).append(q)}else!1===e||r.insertBefore(q[0],r.firstChild);k.inpElm.css({color:"#444"}),o+" a.dCross"}else k.MrgPrfAryOrdr?$("#"+f).find(".DDsearch li:last").before(n.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":o})):$("#"+f).find(".DDsearch").prepend(n.append($("<span>").addClass("dCross")).addClass("tagit").attr({"data-id":o})),k.inpElm.css({width:m+"px"}),o+" span.dCross";k.Fn.preserveEventafterClone(o,!0)}$("#ul_"+k.id).find('[data-id="'+l+'"]').addClass("chkd"),k.setValueInHiddenField(i[1],h),k.ChkBoxContr[i[1]]=c,k.onClickLi(a,k.dUnderScore(k.uEscp(i[1])),"Checked",$('li[data-id="tg'+c+'"]'),k.TagCnt),k.setInputText()}else k.onTagCrt("Maximum Tags Created");k.tags&&!k.TagSpCnt&&(k.inpElm.val(""),k.setLi(k.id),k.max_height())},k.disb_Scroll_handler=function(a){var b=a.keyCode;if(40===b||38===b||32===b)return a.preventDefault(),!1},k.setValueInHiddenField=function(a,b,c){var d=k.id;if(a&&b){"all"==b.toLowerCase()&&(k.Allflg="all"),a=k.dUnderScore(k.uEscp(a)).replace(k.sortPrefix,"");k.inpHid.val()?(k.hidValue.push(a),k.inpHid.val($.stringify(k.hidValue))):(k.hidValue.push(a),k.inpHid.val($.stringify(k.hidValue)),$("#clrAll_"+d).show(),k.TagSpCnt?$("#"+k.TagSpCnt).show():$("#"+d).find("li.frst").css({float:"left"})),k.onTagCrt()}else!1!==c&&(k.inpElm.val(""),k.inpHid.val(""));k.onChange(k.hidValue)},function(a){for(var b=0;b<k.idLen;b++){var c,d=k.idKey[b];if(k.clearAllInside){var e="Clear All";for(var f in k.clearAllInside)e=k.clearAllInside[f];c=$("<div>").addClass("DDclearAll").attr({id:"clrAll_"+d}).html(e)}var g=$("#"+d).find(".srchTxt");if(!k.dpLyr||!k.dpLyr.length){var h=g.attr("name");g.data({name:h});var i;$("#"+d).find(".arw").addClass("DDarwDwn"),k.chkBox?i=$("#"+d).find(".DDsearch li"):(i=$("#"+d).find(".DDsearch"),$("#"+d).addClass("singleSelect")),g.data({id:"inp_"+d,placeholder:g.attr("placeholder")}).attr({name:"",autocomplete:"off"}),k.isSearch||g.attr("readonly","readonly"),k.outerCont.find(".frst").css({float:"none"}),$("#hid_"+d).length?k.inpHid=$("#hid_"+d):(k.inpHid=$("<input>").attr({type:"hidden",id:"hid_"+d,name:h}),i.append(k.inpHid));var j=$("<div>"),l=$("<div>"),m=$("<ul>"),n=$("#"+d),o=k.chkBox?"ChkboxEnb":"";k.dpLyr=j,l.addClass("nScroll").attr("id","ul_"+d),j.addClass("drop").attr("id","dp_"+d),m.addClass(o),l.append(m),c&&j.append(c),j.append(l),n.append(j),$("#"+d).on("click",".DDinputWrap, .DDsearch, .arw",function(a){a.stopPropagation(),g[0].focus()}).on("mouseenter",function(){k.layerOpenStatus=!1!==k.srchBx}).on("mouseleave",function(){k.layerOpenStatus=!1})}k.bindEvents(g),k.layerOpenStatus=!1!==k.srchBx}if(k.fillData(),k.clrId)for(var f in k.clrId)$("#"+f).on("click",function(a){return function(){var b=$(this).attr("id"),c=a[b],d=c.id;if(d)for(var e in d)d[e],k.chkBox?k.removeAllTags():(k.inpElm.val(""),k.inpHid.data("optGroupKey","")),k.Allflg="",k.hideDD();c.clrCalbackfun&&k.onClearTag[b](k.obj,0,$(this))}}(k.clrId))}(),k.PickValuesFromDD(),k.liMousehover(),k.clickParent(),k.clickMain(),this.allChecked&&$('li.optgroup[data-id="opt_all"]').click()};DD.prototype.bindEvents=function(a){function b(a){intervalX?c.hideDD():isFocus||c.focusEv.call(this,a)}var c=this;c.toggleDropLayer?(c.inpElm.on("touchstart click",function(a){a.stopPropagation(),"touchstart"==a.type?(c.inpElm.off("click"),b.call(this,a)):"click"==a.type&&b.call(this,a)}),c.inpElm.on("focus",function(a){window.isFocus=1,c.focusEv.call(this,a)}),c.inpElm.on("keydown",function(a){c.keyDownEv(a,$(this))}).on("keyup",c.Fn.keyUpEv).on("blur",c.blurEv)):c.inpElm.on("focus click",c.focusEv).on("keydown",function(a){c.keyDownEv(a,$(this))}).on("keyup",c.Fn.keyUpEv).on("blur",c.blurEv)},DD.prototype.disable=function(){var a=this;$("#"+a.id).addClass("disable"),a.inpElm.attr("readonly","readonly"),a.inpElm.off("click focus keydown keyup blur")},DD.prototype.enable=function(){var a=this,b=$("#"+a.id);b.hasClass("disable")&&(b.removeClass("disable"),a.inpElm.removeAttr("readonly"),a.bindEvents())},DD.prototype.prefillDataFormation=function(a){var b=this,c=(b.id,{});if(b.chkBox){if(a)for(var d in a)c[a[d]]="1"}else c=a;return c},DD.prototype.removeAllTags=function(){var a=this,b=a.id;for(var c in a.ChkBoxContr){var d,e=a.ChkBoxContr[c],f=e.split("_");if(3==f.length?d=f[0]+"_"+f[1]:4==f.length&&(d=f[0]+"_"+f[1]+"_"+f[2]),$("#ul_"+b).find('[data-id="'+d+'"]').removeClass("chkd"),a.TagSpCnt?$("#"+a.TagSpCnt).find('[data-id="tg_'+e+'"]').remove():$("#"+b).find(".DDsearch").find('[data-id="tg_'+e+'"]').remove(),a.parentChkBox||a.allChk){if(a.parentChkBox)var g=a.dUnderScore(a.uEscp(f[2]));else var g="All";var h=f[1],i=a.optgrpObject[g].checked.indexOf(h);i>-1&&a.optgrpObject[g].checked.splice(i,1),a.optgrpObject[g].unchecked.push(h)}}a.parentChkBox&&$("#ul_"+b).find('li a[data-id="'+b+'"]').removeClass("chkd"),a.allChk&&($("#ul_"+b).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),a.onClickAll("unchecked")),a.resetInpWidth(b),a.ChkBoxContr={},a.inpHid.val(""),a.hidValue=[],a.TagCnt=0,a.setPlaceHolderAttribute()},DD.prototype.destroy=function(){var a=this,b=a.id;a.dpLyr.remove(),a.inpHid.remove(),$("#"+b).find(".DDsearch .tagit").remove(),a.inpElm.val("").attr({placeholder:a.inpElm.data("placeholder"),name:a.inpElm.data("name")}),a.inpElm.removeAttr("autocomplete style"),a.inpElm.off("focus keydown keyup blur")},DD.prototype.removeTag=function(a,b,c,d){var e=this,f=e.id,g=a.replace("tg_",""),h=e.uEscp(g).split("_"),i=$.parseJSON($("#hid_"+f).val()),j=4==h.length?h[0]+"_"+h[1]+"_"+h[2]:h[0]+"_"+h[1];if(-1!=$.inArray(e.dUnderScore(e.uEscp(h[1])),i)){if($("#ul_"+f).find('[data-id="'+e.Escp(j)+'"]').removeClass("chkd"),e.parentChkBox){var k=j.split("_");k=k[k.length-1];for(key in e.parentRefData[k])$(e.parentRefData[k][key]).find("a").hasClass("chkd")||($("#ul_"+f).find('li[data-id="opt_'+k+'"]').find("a").removeClass("chkd"),$("#ul_"+f).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+f).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),e.onClickAll("unchecked")))}d?$("#"+d).remove():e.TagSpCnt?$("#"+e.TagSpCnt).find('[data-id="'+a+'"]').remove():$("#"+f).find(".DDsearch").find('[data-id="'+a+'"]').remove(),e.emptyHidField(g.split("_")[1],f,b),e.TagCnt--,e.TagCnt||e.setPlaceHolderAttribute();for(var l in e.ChkBoxContr)e.ChkBoxContr[l]==g&&delete e.ChkBoxContr[l];c&&e.onClickLi(e.obj,e.dUnderScore(e.uEscp(h[1])),"Unchecked","",e.TagCnt),e.setInputText()}},DD.prototype.fillData=function(){for(var a=[],b=this,c=b.id,d=0;d<b.idLen;d++){var e=b.prefillDataFormation(b.prefillData);a[c]=e;b.inpHid.val()&&b.removeAllTags(),b.NLi=b.appendData(b.Ary,a,e),b.fillDatainDropdwonLayer(c,b.NLi[0],d,b.NLi[3],b.NLi[4]),b.liCntrFx=b.liCntr=b.NLi[1],b.createTags_ifPrefillData(b.NLi[2])}},DD.prototype.appendData=function(a,b,c,d){var e,f,g="",h=this,i=h.id,j=[],k="",l=0,m=0;h.allChk&&(g+=h.createParLi("all","All","0",!0));for(var n in a){f=n;for(var o in a[n]){var p=o.replace(h.sortPrefix,""),q=h.eUnderScore(h.Escp(p));if("object"==typeof a[n][o]){var r=h.parentChkBox;g+=h.createParLi(q,o,i,r);var s=[];l++;var t=[];h.optgrpObject[o]={},h.optgrpObject[o].checked=t,h.optgrpObject[o].unchecked=s;for(var u in a[n][o]){c&&void 0!=c[u]?t.push(u):s.push(u),h.optgrpNameRef[u]={pName:o,text:a[n][o][u]};var v=h.Escp(u).replace(h.sortPrefix,"");if(b[i])if(b[i][u]){var w;if(parseInt(b[i][u])&&(w=u),w===u){h.inpVal=u,k=a[n][o][u];var x=n?i+"_"+v+"_"+q+"_"+n:i+"_"+v+"_"+q,y=[k,x,i,v];j[m++]=y,l++,g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n),e=q}}else{c===u&&(h.inpVal=u,k=a[n][o][u],e=q),l++;var z=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,z)}else{c===u&&(h.inpVal=u,k=a[n][o][u]);var A=h.selCheckBox(i,q,n,v);g+=h.createLi(i+"_"+v+"_"+q,a[n][o][u],n,A),l++}}}else{if(h.optgrpNameRef[o]={text:a[n][o]},h.allChk){var s=[],t=[];h.optgrpObject.All={},h.optgrpObject.All.checked=t,h.optgrpObject.All.unchecked=s;for(var u in a[n])void 0!=c[u]?t.push(u):s.push(u)}if(h.optgrpNameRef[o]={text:a[n][o]},h.chkBox){var B="";if(b&&!$.isEmptyObject(b[i])&&b[i][p]&&(B=p),B==p){var C=[a[n][o],i+"_"+q+"_"+n,i,o];j[m++]=C,g+=h.createLi(i+"_"+q,a[n][o],n,""),l++}else{var D=h.selCheckBox(i,q,n);g+=h.createLi(i+"_"+q,a[n][o],n,D),l++}}else h.prefillData==p?(g+=h.createLi(i+"_"+q,a[n][o]),h.inpVal=p,k=a[n][o],l++,d||h.SingleSelection(a[n][o],[i,p])):(g+=h.createLi(i+"_"+q,a[n][o]),l++)}}}if(h.chkBox&&!1===h.tagsSorting){var E=[],F=0;for(var G in c)for(var H in j)j[H][3]==G&&(E[F++]=j[H]);j=E}return $.extend(h.Ary[f],a[f]),[g,l,j,k,e]},DD.prototype.chkForParent=function(a,b,c){var d=0,e=0,c=c.split("_")[0];for(key in a)d++,0==a[key].unchecked.length?($('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").addClass("chkd"),e++):($("#ul_"+c).find('li[data-id="opt_'+this.eUnderScore(this.Escp(key))+'"]').find("a").removeClass("chkd"),$("#ul_"+c).find('li[data-id="opt_all"]').find("a").hasClass("chkd")&&($("#ul_"+c).find('li[data-id="opt_all"]').find("a").removeClass("chkd"),this.onClickAll("unchecked")));d==e&&($("#ul_"+c).find('li[data-id="opt_all"]').find("a").addClass("chkd"),this.onClickAll("checked"))},DD.prototype.Escp=function(a){return a?a.replace(/\s/g,"SxP"):""},DD.prototype.uEscp=function(a){return!!a&&a.replace(/SxP/g," ")},DD.prototype.eUnderScore=function(a){return a?a.replace(/\_/g,"undrxxscr"):""},DD.prototype.dUnderScore=function(a){return a?a.replace(/undrxxscr/gi,"_"):""},DD.prototype.clickParent=function(){var a=this,b=a.id;$("#ul_"+b).on("click","li.optgroup",function(){var a=this,b=$(this).nextUntil("li.optgroup"),c=b.length;if($(this).children("a").hasClass("chkd")){for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")&&$(b).eq(i).find("a").click();$(a).children("a").removeClass("chkd")}else{for(i=0;i<=c;i++)$(b).eq(i).find("a").hasClass("chkd")||$(b).eq(i).find("a").click();$(a).children("a").addClass("chkd")}})},DD.prototype.clickMain=function(){var a=this,b=a.id;$("#ul_"+b).on("click",'li.optgroup[data-id="opt_all"]',function(b){b.stopImmediatePropagation();var c=this,d=$(this).siblings("li.optgroup"),e=d.length;if($(this).children("a").hasClass("chkd")){for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")||$(d).eq(j).click();$(c).children("a").addClass("chkd")}else{for(j=0;j<=e;j++)$(d).eq(j).find("a").hasClass("chkd")&&$(d).eq(j).click();$(c).children("a").removeClass("chkd"),a.onClickAll("unchecked")}})},DD.prototype.searchData=function(a,b,c,d,e){var f="",g=this,a=a.toString();if(getPos=a.toLowerCase().indexOf(b.toLowerCase()),strLower=a.toLowerCase(),sTxtValueLower=b.toLowerCase(),spaceVal=!(strLower.indexOf(" "+sTxtValueLower)<0)&&strLower.indexOf(" "+sTxtValueLower),bracketVal=!(strLower.indexOf("("+sTxtValueLower)<0)&&strLower.indexOf("("+sTxtValueLower),slashVal=!(strLower.indexOf("/"+sTxtValueLower)<0)&&strLower.indexOf("/"+sTxtValueLower),getPos>=0&&(spaceVal||bracketVal||slashVal)||0===getPos){getPos&&(spaceVal?getPos=spaceVal+1:bracketVal?getPos=bracketVal+1:slashVal&&(getPos=slashVal+1));var h=a.substr(0,getPos),i="<b>"+a.substr(getPos,b.length)+"</b>",j=a.substr(getPos+b.length,a.length),k=g.Escp(d).replace(g.sortPrefix,"");f=g.selChkBox(k+"_"+e,c)?g.createLi(k,h+i+j,e,"chkd"):g.createLi(k,h+i+j,e)}return f},DD.prototype.selChkBox=function(a,b){var c=0,d=this;for(var e in d.ChkBoxContr)a==d.ChkBoxContr[e]&&(c=1);return!!c},DD.prototype.selCheckBox=function(a,b,c,d){var e=0;for(var f in this.ChkBoxContr){e=1;break}if(e)return d?this.selChkBox(a+"_"+d+"_"+b+"_"+c,a)?"chkd":"":this.selChkBox(a+"_"+b+"_"+c,a)?"chkd":""},DD.prototype.createParLi=function(a,b,c,d){return d=d?'class="'+d+'"':"",d?'<li class="optgroup" data-id=opt_'+a+'><a href="javascript:;" data-id='+c+">"+b+"</li>":'<li class="optgroup" data-id=opt_'+a+">"+b+"</li>"},DD.prototype.createLi=function(a,b,c,d){return c=c?'bindTo="'+c+'"':"",d=d?'class="'+d+'"':"",'<li class="pickVal" '+c+'><a href="javascript:;" '+d+" data-id="+a+">"+this.replaceTag(b)+"</a></li>"},DD.prototype.resetInpWidth=function(a){$("#clrAll_"+a).hide(),this.inpElm.css({width:""}),$("#"+a).find("li.frst").css({float:"none"})},DD.prototype.firstHighlight=function(){var a,b=this,c=b.id,d=$("#ul_"+c),e=d.find("ul");b.curActElm&&b.curActElm.removeClass("active"),b.curActElm=e.find("li:first-child");var f=b.Escp(b.inpHid.attr("value"));f&&!b.chkBox?(b.curActElm.removeClass("active"),f=b.eUnderScore(f),a=b.inpHid.data("optGroupKey")?c+"_"+f+"_"+b.inpHid.data("optGroupKey"):c+"_"+f,b.curActElm=e.find('[data-id="'+a+'"]').parent().addClass("active")):b.curActElm.addClass("active")},DD.prototype.emptyHidField=function(a,b,c){var d=this;c&&"all"==c.toLowerCase()&&(d.Allflg="");var e,f=d.dUnderScore(d.uEscp(a)).replace(d.sortPrefix,""),g=$.inArray(f,d.hidValue);-1!==g&&(d.hidValue.splice(g,1),e=$.stringify(d.hidValue)),0==d.hidValue.length&&(d.resetInpWidth(b),e=d.hidValue),d.inpHid.val(e),d.onChange(d.hidValue)},DD.prototype.setInputText=function(){var a,b=this,c=b.id,d="";if(a="all"==b.Allflg?"all":b.TagCnt,b.TagCnt)if(b.showSelText&&b.hidValue.length){for(var e=0;e<b.hidValue.length;e++)d+=b.Ary.A[b.hidValue[e]]+", ";d=d.slice(0,-2),(b.TagSpCnt||!1===b.tags)&&b.inpElm.val(d)}else(b.TagSpCnt||!1===b.tags)&&b.inpElm.val(b.preTxt+" "+a+" "+b.postTxt);else b.inpHid.val()||b.preserveText||($("#"+c).find(".cross").hide(),b.chkBox&&b.inpElm.val(""),b.inpElm.css({width:""}))},DD.prototype.setPlaceHolderAttribute=function(){var a=this;a.inpElm.attr("placeholder",a.inpElm.data("placeholder")),a.inpElm.parents(".frst").css({"float-left":"none"})},DD.prototype.removeData=function(a){var b=this,c=(b.id,0);b.dpLyr.find("ul li").each(function(){if($(this).attr("bindTo")==a.key){var d=$(this).children("a");if(d.length){var e=d.data("id");d.hasClass("chkd")&&(delete b.ChkBoxContr[b.uEscp(e.split("_")[1])],b.removeTag("tg_"+e+"_"+b.Escp(a.key),d.html(),!0))}c++,$(this).remove()}}),delete b.Ary[a.key],b.liCntr=b.liCntr-c,$("#ul_"+b.id).find("li").length||$("#"+b.id).find(".tagit").remove()},DD.prototype.removeBlockofData=function(a){this.removeData(a)},DD.prototype.addSelected=function(a,b){var c=this.id;for(var d in a)this.CreateTags(a[d],c+"_"+d+"_A",0,b)},DD.prototype.deleteSelected=function(a){var b=this.id;for(var c in a.keyObject)this.removeTag("tg_"+b+"_"+a.keyObject[c]+"_A","",a.tag_onof_flag,a.remId)},DD.prototype.select=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];-1==$.inArray(e[0],b.hidValue)&&(g.pName?b.CreateTags(g.text,c+"_"+e+"_"+g.pName+"_A"):b.CreateTags(g.text,c+"_"+e+"_A"))}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection(b.optgrpNameRef[a.key].text,[c,a.key])}},DD.prototype.deselect=function(a){var b=this,c=b.id;if(b.chkBox)for(var d in a.key){var e=a.key[d],f=b.sortPrefix?b.sortPrefix+e:e,g=b.optgrpNameRef[f];g.pName?b.removeTag("tg_"+c+"_"+a.key[d]+"_"+g.pName+"_A"):b.removeTag("tg_"+c+"_"+a.key[d]+"_A")}else{if(!b.optgrpNameRef[a.key])throw"DD: Key not exist";b.SingleSelection("",[c])}},DD.prototype.addData=function(a){var b=this,c={},d=[];b.Ary.A=$.extend(b.Ary.A,a.data),a.status||(a.status="Checked");var e=a.key?a.key:"A";if("Checked"==a.status){c[e]=a.data;var f=b.prefillDataFormation(a.prefillData);d[b.id]=f,b.NLi=b.appendData(c,d,f),$("#ul_"+b.id).find("ul").append(b.NLi[0]),b.createTags_ifPrefillData(b.NLi[2]),b.liCntr+=b.NLi[1]}else"Unchecked"==a.status&&this.removeBlockofData(a)},DD.prototype.createTags_ifPrefillData=function(a){var b=this;b.id;if(b.chkBox&&a)for(var c=0;c<a.length;c++){for(var d in b.prefillData)if(b.prefillData[d]==a[c][3])break;b.CreateTags(a[c][0],a[c][1],d,b.tags)}b.setInputText()},DD.prototype.replaceData=function(a){var b=this;id=b.id;var c=!1===a.isReset?a.isReset:b.isReset,d=[],e=b.inpHid,f=$.trim(e.val());b.prefillData=a.prefillData;if(b.chkBox&&f&&(b.TagSpCnt?$("#"+b.TagSpCnt).find(".tagit").remove():$("#"+id).find(".DDsearch").find(".tagit").remove(),b.resetInpWidth(id),b.ChkBoxContr={},e.val(""),b.hidValue=[],b.TagCnt=0,b.setPlaceHolderAttribute()),c&&(b.inpElm.val(""),e.val("")),$.isEmptyObject(a.data))throw"Either data object is empty or undefined";b.Ary={A:a.data},b.ChkBoxContr=[];var g=b.prefillDataFormation(a.prefillData);d[id]=g;var h=b.appendData(b.Ary,d,g);b.dpLyr.find("ul").html(h[0]),b.createTags_ifPrefillData(h[2]),b.liCntr=h[1],b.firstHighlight(),b.max_height()},DD.prototype.hideDD=function(){var a=this,b=a.id;if("block"==a.dpLyr.css("display")){if(a.dpLyr.hide(),$("#"+b).find(".DDwrap").removeClass("brBotN"),!a.chkBox)if(a.curActElm&&a.curActElm.removeClass("active"),a.selectOnBlur){var c,d=a.inpHid,e=a.inpElm;rr=a.uEscp(d.attr("opt")),dataAry=a.Ary.A,retObj=a.getKeyFromVal(a.Ary.A,e.val()),keySel=retObj.retKey,c=retObj.parentKey?rr?dataAry[rr][d.val()]:dataAry&&dataAry[retObj.parentKey][keySel]?dataAry[retObj.parentKey][keySel]:"":rr?dataAry[rr][d.val()]:dataAry&&dataAry[keySel]?dataAry[keySel]:"",a.inpHid.val()||a.preserveText||c||a.inpElm.val("")}else a.inpHid.val()||a.preserveText||a.inpElm.val("");a.setInputText()}!1!==a.srchBx&&a.setLi(b),window.isFocus=0,window.intervalX=0},DD.Ary={},DD.lastRef={},window.DD=DD,createTags.prototype=function(){var a=function(a){var b=this;a.children(".dCross").on("click",function(){b.remValue($(this).parent())}).on("keydown",function(a){b.keyHandling.call($(this),a,b.contId)})};return{setValue:function(a,b){var c,d=this,e=d.hdElm.val()||"",f=e.toLowerCase().split(",");-1==$.inArray(a.toLowerCase(),f)||d.allowDuplicate?(1==d.placeTagEnd?(c=d.container.find(".lastLi"),c.before(b),d.onCreate(a,b)):(d.container.append(b),d.onCreate(a,b)),d.setValInLowercase&&(a=a.toLowerCase()),e?d.hdElm.val(e+","+a):d.hdElm.val(a)):d.tagExists(b)},remValue:function(a){var b=a.next().children(".dCross"),c=a.prev().children(".dCross"),d=this;b.length?b.focus():c.length&&c.focus();var e=a.attr("data-id").split("_")[1].replace(/&gt;/g,">").replace(/&lt;/g,"<"),f=d.hdElm.val().toLowerCase().split(",");index=$.inArray(e.replace("|xudrscrx|","_"),f),-1!=index&&f.splice(index,1),e=f,d.retainText&&d.sugElm&&d.sugElm.val(e),d.hdElm.val(e),setTimeout(function(){a.remove(),d.onDelete(a)},100)},keyHandling:function(a,b){var c=a.keyCode||a.which,d=this.parent(),e=d.prev().children(".dCross"),f=d.next().children(".dCross");37==c?e.length&&e[0].focus():39==c?f.length&&f[0].focus():38==c?b.find(".tagit").first().children(".dCross")[0].focus():40==c&&b.find(".tagit").last().children(".dCross")[0].focus()},bindEvent_cross:a}}(),window.createTags=createTags,$.fn.infotip=function(a){function b(a,b){this.toolTipCont.css({left:a,top:b})}function c(a){this.toolTipCont.addClass("right").find("em").removeClass().addClass("arrow-leftC"),b.call(this,a.rigthDir_LeftPos,a.nodeTop-a.tooltipHt/2),this.toolTipCont.removeClass(a.animatnGrp[0],a.animatnGrp[2],a.animatnGrp[3]).addClass(a.animatnGrp[1])}function d(a){this.toolTipCont.find("em").removeClass().addClass("arrow-upC"),b.call(this,a.nodeLeft-a.tooltipWdth/2+a.nodeWidth/2,a.bottomDir_topPos+a.ttTipHeight),this.toolTipCont.removeClass(a.animatnGrp[0],a.animatnGrp[1],a.animatnGrp[3]).addClass(a.animatnGrp[2])}function e(a){
this.toolTipCont.find("em").removeClass().addClass("arrow-rightC"),b.call(this,a.leftDir_leftPos,a.nodeTop-a.tooltipHt/2),this.toolTipCont.removeClass(a.animatnGrp[0],a.animatnGrp[2],a.animatnGrp[1]).addClass(a.animatnGrp[3])}function f(a){this.toolTipCont.find("em").removeClass().addClass("arrow-downC"),b.call(this,a.nodeLeft-a.tooltipWdth/2+a.nodeWidth/2,a.topDir_topPos-a.ttTipHeight),this.toolTipCont.removeClass(a.animatnGrp[1],a.animatnGrp[2],a.animatnGrp[3]).addClass(a.animatnGrp[0])}function g(b){return b.counter<=l.length?b.wrapperWd-(b.nodeLeft-b.wrapperLeft-b.nodeWidth)>=b.tooltipWdth&&b.horizontal_distance>=b.tooltipWdth&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.vertical_distance>=b.tooltipHt?(c.call(this,b),!0):(b.counter++,!1):(c.call(this,b),!0)}function h(a){return a.counter<=l.length?a.wrapperHt-(a.nodeTop+a.nodeHeight)>=a.tooltipHt&&a.nodeLeft-a.wrapperLeft+a.nodeCentre>=a.tooltipCentre&&a.vertical_distance>=a.tooltipHt&&a.viewportLeft+a.nodeCentre>=a.tooltipCentre&&a.horizontal_distance>=a.nodeCentre?(d.call(this,a),!0):(a.counter++,!1):(d.call(this,a),!0)}function i(b){return b.counter<=l.length?b.nodeLeft-b.wrapperLeft>b.tooltipWdth&&b.viewportLeft>=b.tooltipWdth&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.vertical_distance>=b.tooltipHt?(e.call(this,b),!0):(b.counter++,!1):(e.call(this,b),!0)}function j(b){return b.counter<=l.length?b.nodeTop-b.wrapperTop>b.tooltipHt&&b.nodeLeft-b.wrapperLeft+b.nodeCentre>=b.tooltipCentre&&b.nodeTop-(a(window).scrollTop()+b.wrapperTop)>b.tooltipHt&&b.viewportLeft+b.nodeCentre>=b.tooltipCentre&&b.horizontal_distance>=b.nodeCentre?(f.call(this,b),!0):(b.counter++,!1):(f.call(this,b),!0)}var k="undefined"!=typeof qunitTest?qunitTest:{},l=["top","right","bottom","left"],m=null,n={list:{},class:"tooltipDflt animated",addClass:"",dir:"left",tipWidth:20,tipHeight:20,wrapper:"body",open:{success:function(){},event:"mouseover",anim:""},close:{event:"mouseleave",node:"",anim:""}},o=function(b){this.options=a.extend(!0,{},n,b),void 0!==b&&void 0!==b.order&&0!=b.order.length&&(l=b.order)},p=k.checkPosition=function(a,b){return"top"==a?j.call(this,b):"right"==a?g.call(this,b):"bottom"==a?h.call(this,b):"left"==a?i.call(this,b):void 0},q=function(b,c){var d=p.call(this,b,c);if(d)return this.options.open.success(this.node,c.toolTipCont),d;var e=a.inArray(b,l),f=(e+1)%l.length;a.inArray(this.options.dir,l);q.call(this,l[f],c)},r=function(){var a=this.options.open.event,b=this.options.close.event,c=this.options.close.node,d=this;this.node.on(a,function(){d.open()}),this.node.on(b,function(){var a=0;d.toolTipCont.on("mouseenter",function(){a=1}),setTimeout(function(){a?d.toolTipCont.on("mouseleave",function(){d.close()}):d.close()},100)}),c&&this.node.on("click",c,function(){d.close()})},s={open:function(){var b=k.commonParam={};if(void 0===this.toolTipCont){var c=this.toolTipCont=a('<div class="tooltipContainer">');c.appendTo("body");var d=this.options.class+","+this.options.addClass,e=d.replace(/\,/g," ");c.addClass(e)}a(".tooltipContainer");b.counter=1,b.ttDirection=this.options.dir;var f=this.options.open.anim,g=b.animatnGrp=f.split(",");if(1==g.length)for(var h=0;h<3;h++)g.push(f);b.wrapElem=a(this.options.wrapper);var i=b.wrapElem.offset();b.wrapperLeft=i.left,b.wrapperTop=i.top,b.wrapperHt=b.wrapElem.height(),b.wrapperWd=b.wrapElem.width(),b.ttTipWidth=this.options.tipWidth,b.ttTipHeight=this.options.tipHeight;var j=this.node.attr("tooltip")||a(this.node).data("tooltip"),l=this.options.list[j],n="function"==typeof l?l(this.node):l;a(this.toolTipCont).css("max-width",b.wrapElem.width()/2);var c=this.toolTipCont;b.nodeHeight=this.node.outerHeight(),b.nodeWidth=this.node.outerWidth(),b.nodeCentre=this.node.outerWidth()/2;var o=this.node.offset();b.nodeLeft=o.left,b.nodeTop=o.top,c.html(n).show(),b.tooltipHt=c.height(),b.tooltipOuterHt=c.outerHeight(),b.tooltipWdth=c.outerWidth(),b.tooltipCentre=c.outerWidth()/2,b.rigthDir_LeftPos=b.nodeLeft+b.nodeWidth+b.ttTipWidth,b.topDir_topPos=b.nodeTop-b.tooltipOuterHt,b.leftDir_leftPos=b.nodeLeft-b.tooltipWdth-b.ttTipWidth,b.bottomDir_topPos=b.nodeTop+b.nodeHeight;var p=this.node.offset().left,r=this.node.offset().top,s=p+this.node.outerWidth(),t=r+this.node.outerHeight(),u=a(window).width()+a(window).scrollLeft(),v=a(window).height()+a(window).scrollTop();b.viewportLeft=p-a(window).scrollLeft(),b.horizontal_distance=u-s,b.vertical_distance=v-t,q.call(this,b.ttDirection,b),m&&m.close(),c.fadeIn(),m=this},close:function(){this.toolTipCont.hide()}},t=function(a,b){o.call(this,a),this.node=b,r.call(this)};return t.prototype=s,function(b){return a.each(this,function(c,d){if(!a(d).data("infotip")){var e=new t(b,a(d));a(d).data("infotip",e)}}),this.data("infotip")}}(jQuery),function(a){a.fn.jqte=function(b){function c(a,b,c,d,e){var f=k.length+1;return k.push({name:a,cls:f,command:b,key:c,tag:d,emphasis:e})}var d=[{title:"Text Format"},{title:"Font Size"},{title:"Color"},{title:"Bold",hotkey:"B"},{title:"Italic",hotkey:"I"},{title:"Underline",hotkey:"U"},{title:"Ordered List",hotkey:"."},{title:"Unordered List",hotkey:","},{title:"Subscript",hotkey:"down arrow"},{title:"Superscript",hotkey:"up arrow"},{title:"Outdent",hotkey:"left arrow"},{title:"Indent",hotkey:"right arrow"},{title:"Justify Left"},{title:"Justify Center"},{title:"Justify Right"},{title:"Strike Through",hotkey:"K"},{title:"Add Link",hotkey:"L"},{title:"Remove Link"},{title:"Cleaner Style",hotkey:"Delete"},{title:"Horizontal Rule",hotkey:"H"},{title:"Source"}],e=[["p","Normal"],["h1","Header 1"],["h2","Header 2"],["h3","Header 3"],["h4","Header 4"],["h5","Header 5"],["h6","Header 6"],["pre","Preformatted"]],f=["10","12","16","18","20","24","28"],g=["0,0,0","68,68,68","102,102,102","153,153,153","204,204,204","238,238,238","243,243,243","255,255,255",null,"255,0,0","255,153,0","255,255,0","0,255,0","0,255,255","0,0,255","153,0,255","255,0,255",null,"244,204,204","252,229,205","255,242,204","217,234,211","208,224,227","207,226,243","217,210,233","234,209,220","234,153,153","249,203,156","255,229,153","182,215,168","162,196,201","159,197,232","180,167,214","213,166,189","224,102,102","246,178,107","255,217,102","147,196,125","118,165,175","111,168,220","142,124,195","194,123,160","204,0,0","230,145,56","241,194,50","106,168,79","69,129,142","61,133,198","103,78,167","166,77,121","153,0,0","180,95,6","191,144,0","56,118,29","19,79,92","11,83,148","53,28,117","116,27,71","102,0,0","120,63,4","127,96,0","39,78,19","12,52,61","7,55,99","32,18,77","76,17,48"],h=["Web Address","E-mail Address","Picture URL"],i=a.extend({status:!0,css:"jqte",title:!0,titletext:d,button:"OK",format:!1,formats:e,fsize:!1,fsizes:f,funit:"px",color:!1,linktypes:h,b:!1,i:!1,u:!1,ol:!1,ul:!1,sub:!1,sup:!1,outdent:!1,indent:!1,left:!1,center:!1,right:!1,strike:!1,link:!1,unlink:!1,remove:!1,rule:!1,source:!1,placeholder:!1,br:!1,p:!1,change:"",focus:"",blur:""},b);a.fn.jqteVal=function(b){a(this).closest("."+i.css).find("."+i.css+"_editor").html(b)};var j=navigator.userAgent.toLowerCase();/msie [1-7]./.test(j)&&(i.title=!1);var k=[];return c("format","formats","","",!1),c("fsize","fSize","","",!1),c("color","colors","","",!1),c("b","Bold","B",["b","strong"],!0),c("i","Italic","I",["i","em"],!0),c("u","Underline","U",["u"],!0),c("ol","insertorderedlist","",["ol"],!0),c("ul","insertunorderedlist","",["ul"],!0),c("sub","subscript","(",["sub"],!0),c("sup","superscript","&",["sup"],!0),c("outdent","outdent","%",["blockquote"],!1),c("indent","indent","'",["blockquote"],!0),c("left","justifyLeft","","",!1),c("center","justifyCenter","","",!1),c("right","justifyRight","","",!1),c("strike","strikeThrough","K",["strike"],!0),c("link","linkcreator","L",["a"],!0),c("unlink","unlink","",["a"],!1),c("remove","removeformat",".","",!1),c("rule","inserthorizontalrule","H",["hr"],!1),c("source","displaysource","","",!1),this.each(function(){function b(){return window.getSelection?window.getSelection():document.selection&&document.selection.createRange&&"None"!=document.selection.type?document.selection.createRange():void 0}function c(a,c){var d;b();if(window.getSelection){if(j.match(/msie/)||document.execCommand("StyleWithCSS",!1,!1),document.execCommand(a,!1,c),"createlink"==a){var f=document.getSelection();j.match(/trident.*rv\:11\./)?(f.anchorNode.parentNode.href="#",f.anchorNode.parentNode.setAttribute("onclick","window.open('"+c+"');return false;")):/chrome/.test(j)||/safari/.test(j)||/yandex/.test(j)?(f.anchorNode.parentElement.href="#",f.anchorNode.parentElement.setAttribute("onclick","window.open('"+c+"');return false;")):/mozilla/.test(j)&&(f.anchorNode.href="#",f.anchorNode.setAttribute("onclick","window.open('"+c+"');return false;"))}}else document.selection&&document.selection.createRange&&"None"!=document.selection.type&&(d=document.selection.createRange(),d.execCommand(a,!1,c));e(!1,!1)}function d(c,d,f){if(H.not(":focus")&&H.focus(),window.getSelection){var g,h,i,j=b();j.anchorNode&&j.getRangeAt&&(g=j.getRangeAt(0),h=document.createElement(c),a(h).attr(d,f),i=g.extractContents(),h.appendChild(i),g.insertNode(h),j.removeAllRanges(),"style"==d?e(a(h),f):e(a(h),!1))}else if(document.selection&&document.selection.createRange&&"None"!=document.selection.type){var k=document.selection.createRange(),l=k.htmlText,m="<"+c+" "+d+'="'+f+'">'+l+"</"+c+">";document.selection.createRange().pasteHTML(m)}}function e(a,b){var c=ba();if((c=c||a)&&0==b)c.parent().is("[style]")&&c.attr("style",c.parent().attr("style")),c.is("[style]")&&c.find("*").attr("style",c.attr("style"));else if(a&&b&&a.is("[style]")){var d=b.split(";");d=d[0].split(":"),a.is("[style*="+d[0]+"]")&&a.find("*").css(d[0],d[1]),f(a)}}function f(b){if(b){var b=b[0];if(document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(b),c.select()}else if(window.getSelection){var d=window.getSelection(),c=document.createRange();"undefined"!=b&&null!=b&&(c.selectNodeContents(b),d.removeAllRanges(),d.addRange(c),a(b).is(":empty")&&(a(b).append("&nbsp;"),f(a(b))))}}}function h(){if(F.data("sourceOpened"))m(!1);else{var b=ba(),c="http://";if(m(!0),b){"a"==b.prop("tagName").toLowerCase()&&b.is("[href]")?(c=b.attr("href"),b.attr(O,"")):d("a",O,"")}else K.val(c).focus();J.click(function(b){(a(b.target).hasClass(i.css+"_linktypetext")||a(b.target).hasClass(i.css+"_linktypearrow"))&&n(!0)}),M.find("a").click(function(){var b=a(this).attr(i.css+"-linktype");M.data("linktype",b),N.find("."+i.css+"_linktypetext").html(M.find("a:eq("+M.data("linktype")+")").text()),o(c),n()}),o(c),K.focus().val(c).bind("keypress keyup",function(a){if(13==a.keyCode)return l(E.find("["+O+"]")),!1}),L.click(function(){l(E.find("["+O+"]"))})}}function l(b){K.focus(),f(b),b.removeAttr(O),"2"!=M.data("linktype")?c("createlink",K.val()):(c("insertImage",K.val()),H.find("img").each(function(){var b=a(this).prev("a"),c=a(this).next("a");b.length>0&&""==b.html()?b.remove():c.length>0&&""==c.html()&&c.remove()})),m(),H.trigger("change")}function m(a){r("["+O+"]:not([href])"),E.find("["+O+"][href]").removeAttr(O),a?(F.data("linkOpened",!0),G.show()):(F.data("linkOpened",!1),G.hide()),n()}function n(a){a?M.show():M.hide()}function o(a){var b=M.data("linktype");"1"!=b||"http://"!=K.val()&&!K.is("[value^=http://]")&&K.is("[value^=mailto]")?"1"==b||K.is("[value^=http://]")?K.val(a):K.val("http://"):K.val("mailto:")}function p(b){F.data("sourceOpened")?q(styleField,!1):("fSize"==b?styleField=_:"colors"==b&&(styleField=aa),q(styleField,!0),styleField.find("a").unbind("click").click(function(){var c=a(this).attr(i.css+"-styleval");"fSize"==b?(styleType="font-size",c+=i.funit):"colors"==b&&(styleType="color",c="rgb("+c+")");var e=s(styleType);d("span","style",styleType+":"+c+";"+e),q("",!1),a("."+i.css+"_title").remove(),H.trigger("change")})),m(!1)}function q(a,b){var c="",d=[{d:"fsizeOpened",f:_},{d:"cpallOpened",f:aa}];if(""!=a)for(var e=0;e<d.length;e++)a==d[e].f&&(c=d[e]);if(b){F.data(c.d,!0),c.f.slideDown(100);for(var e=0;e<d.length;e++)c.d!=d[e].d&&(F.data(d[e].d,!1),d[e].f.slideUp(100))}else for(var e=0;e<d.length;e++)F.data(d[e].d,!1),d[e].f.slideUp(100)}function r(b){E.find(b).each(function(){a(this).before(a(this).html()).remove()})}function s(a){var b=ba();if(b&&b.is("[style]")&&""!=b.css(a)){var c=b.css(a);b.css(a,"");var d=b.attr("style");return b.css(a,c),d}return""}function t(){u(!0),$.find("a").click(function(){a("*",this).click(function(a){return a.preventDefault(),!1}),v(a(this).text()),c("formatBlock","<"+a(this).attr(i.css+"-formatval")+">"),u(!1)})}function u(a){var b=!!a;b=!(!a||!$.data("status")),b||!a?$.data("status",!1).slideUp(200):$.data("status",!0).slideDown(200)}function v(a){var b=$.closest("."+i.css+"_tool").find("."+i.css+"_tool_label").find("."+i.css+"_tool_text");a.length>10&&(a=a.substr(0,7)+"..."),b.html(a)}function w(a){var b,c,d;for(b=a.replace(/\n/gim,"").replace(/\r/gim,"").replace(/\t/gim,"").replace(/&nbsp;/gim," "),c=[/\<span(|\s+.*?)><span(|\s+.*?)>(.*?)<\/span><\/span>/gim,/<(\w*[^p])\s*[^\/>]*>\s*<\/\1>/gim,/\<div(|\s+.*?)>(.*?)\<\/div>/gim,/\<strong(|\s+.*?)>(.*?)\<\/strong>/gim,/\<em(|\s+.*?)>(.*?)\<\/em>/gim],d=["<span$2>$3</span>","","<p$1>$2</p>","<b$1>$2</b>","<i$1>$2</i>"],W=0;W<5;W++)for(var e=0;e<c.length;e++)b=b.replace(c[e],d[e]);if(i.p||(b=b.replace(/\<p(|\s+.*?)>(.*?)\<\/p>/gi,"<br/>$2")),!i.br){c=[/\<br>(.*?)/gi,/\<br\/>(.*?)/gi],d=["<p>$1</p>","<p>$1</p>"];for(var e=0;e<c.length;e++)b=b.replace(c[e],d[e])}return i.p||i.br||(b=b.replace(/\<p>(.*?)\<\/p>/gi,"<div>$1</div>")),b}function x(){var a=""==H.text()&&H.html().length<12?"":H.html();B.val(w(a))}function y(){H.html(w(B.val()))}function z(b){var c,d=!1,e=ba();return!!e&&(a.each(b,function(b,f){c=e.prop("tagName").toLowerCase(),c==f?d=!0:e.parents().each(function(){(c=a(this).prop("tagName").toLowerCase())==f&&(d=!0)})}),d)}function A(b){for(var c=0;c<k.length;c++)i[k[c].name]&&k[c].emphasis&&""!=k[c].tag&&(z(k[c].tag)?F.find("."+i.css+"_tool_"+k[c].cls).addClass(I):a("."+i.css+"_tool_"+k[c].cls).removeClass(I));if(i.format&&a.isArray(i.formats)){for(var d=!1,e=0;e<i.formats.length;e++){var f=[];if(f[0]=i.formats[e][0],i.formats[e][0].length>0&&z(f)){v(i.formats[e][1]),d=!0;break}}d||v(i.formats[0][1])}q("",!1),u(!1)}if(a(this).data("jqte")&&null!=a(this).data("jqte")&&"undefined"!=a(this).data("jqte")?a(this).data("jqte",!1):a(this).data("jqte",!0),i.status&&a(this).data("jqte")){var B=a(this),C=a(this).prop("tagName").toLowerCase();a(this).attr("data-origin",C);var D=a(this).is("[value]")||"textarea"==C?a(this).val():a(this).html();D=D.replace(/&#34;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&"),a(this).after('<div class="'+i.css+'"></div>');var E=a(this).next("."+i.css);E.html('<div class="'+i.css+'_toolbar" role="toolbar" unselectable></div><div class="'+i.css+'_linkform" style="display:none" role="dialog"></div><div class="'+i.css+'_editor"></div>');var F=E.find("."+i.css+"_toolbar"),G=E.find("."+i.css+"_linkform"),H=E.find("."+i.css+"_editor"),I=i.css+"_tool_depressed";G.append('<div class="'+i.css+'_linktypeselect" unselectable></div><input class="'+i.css+'_linkinput" type="text/css" value=""><div class="'+i.css+'_linkbutton" unselectable>'+i.button+'</div> <div style="height:1px;float:none;clear:both"></div>');var J=G.find("."+i.css+"_linktypeselect"),K=G.find("."+i.css+"_linkinput"),L=G.find("."+i.css+"_linkbutton");J.append('<div class="'+i.css+'_linktypeview" unselectable></div><div class="'+i.css+'_linktypes" role="menu" unselectable></div>');var M=J.find("."+i.css+"_linktypes"),N=J.find("."+i.css+"_linktypeview"),O=i.css+"-setlink";H.after('<div class="'+i.css+"_source "+i.css+'_hiddenField"></div>');var P=E.find("."+i.css+"_source");if(B.appendTo(P),"textarea"!=C){var Q="";a(B[0].attributes).each(function(){"type"!=this.nodeName&&"value"!=this.nodeName&&(Q=Q+" "+this.nodeName+'="'+this.nodeValue+'"')}),B.replaceWith("<textarea "+Q+">"+D+"</textarea>"),B=P.find("textarea")}H.attr("contenteditable","true").html(D);for(var R=0;R<k.length;R++)if(i[k[R].name]){var S=k[R].key.length>0&&null!=i.titletext[R].hotkey&&"undefined"!=i.titletext[R].hotkey&&""!=i.titletext[R].hotkey?" (Ctrl+"+i.titletext[R].hotkey+")":"",T=null!=i.titletext[R].title&&"undefined"!=i.titletext[R].title&&""!=i.titletext[R].title?i.titletext[R].title+S:"";if(F.append('<div class="'+i.css+"_tool "+i.css+"_tool_"+k[R].cls+'" role="button" data-tool="'+R+'" unselectable><a class="'+i.css+'_tool_icon" unselectable></a></div>'),F.find("."+i.css+"_tool[data-tool="+R+"]").data({tag:k[R].tag,command:k[R].command,emphasis:k[R].emphasis,title:T}),"format"==k[R].name&&a.isArray(i.formats)){var U=i.formats[0][1].length>0&&"undefined"!=i.formats[0][1]?i.formats[0][1]:"";F.find("."+i.css+"_tool_"+k[R].cls).find("."+i.css+"_tool_icon").replaceWith('<a class="'+i.css+'_tool_label" unselectable><span class="'+i.css+'_tool_text" unselectable>'+U+'</span><span class="'+i.css+'_tool_icon" unselectable></span></a>'),F.find("."+i.css+"_tool_"+k[R].cls).append('<div class="'+i.css+'_formats" unselectable></div>');for(var V=0;V<i.formats.length;V++)F.find("."+i.css+"_formats").append("<a "+i.css+'-formatval="'+i.formats[V][0]+'" class="'+i.css+"_format "+i.css+"_format_"+V+'" role="menuitem" unselectable>'+i.formats[V][1]+"</a>");F.find("."+i.css+"_formats").data("status",!1)}else if("fsize"==k[R].name&&a.isArray(i.fsizes)){F.find("."+i.css+"_tool_"+k[R].cls).append('<div class="'+i.css+'_fontsizes" unselectable></div>');for(var V=0;V<i.fsizes.length;V++)F.find("."+i.css+"_fontsizes").append("<a "+i.css+'-styleval="'+i.fsizes[V]+'" class="'+i.css+'_fontsize" style="font-size:'+i.fsizes[V]+i.funit+'" role="menuitem" unselectable>Abcdefgh...</a>')}else if("color"==k[R].name&&a.isArray(g)){F.find("."+i.css+"_tool_"+k[R].cls).append('<div class="'+i.css+'_cpalette" unselectable></div>');for(var W=0;W<g.length;W++)null!=g[W]?F.find("."+i.css+"_cpalette").append("<a "+i.css+'-styleval="'+g[W]+'" class="'+i.css+'_color" style="background-color: rgb('+g[W]+')" role="gridcell" unselectable></a>'):F.find("."+i.css+"_cpalette").append('<div class="'+i.css+'_colorSeperator"></div>')}}M.data("linktype","0");for(var R=0;R<3;R++)M.append("<a "+i.css+'-linktype="'+R+'" unselectable>'+i.linktypes[R]+"</a>"),N.html('<div class="'+i.css+'_linktypearrow" unselectable></div><div class="'+i.css+'_linktypetext">'+M.find("a:eq("+M.data("linktype")+")").text()+"</div>");var X="";if(X=/msie/.test(j)?"-ms-":/chrome/.test(j)||/safari/.test(j)||/yandex/.test(j)?"-webkit-":/mozilla/.test(j)?"-moz-":/opera/.test(j)?"-o-":/konqueror/.test(j)?"-khtml-":"",i.placeholder&&""!=i.placeholder){E.prepend('<div class="'+i.css+'_placeholder" unselectable><div class="'+i.css+'_placeholder_text">'+i.placeholder+"</div></div>");var Y=E.find("."+i.css+"_placeholder");Y.click(function(){H.focus()})}E.find("[unselectable]").css(X+"user-select","none").addClass("unselectable").attr("unselectable","on").on("selectstart mousedown",!1);var Z=F.find("."+i.css+"_tool"),$=F.find("."+i.css+"_formats"),_=F.find("."+i.css+"_fontsizes"),aa=F.find("."+i.css+"_cpalette"),ba=function(){var b,c;if(window.getSelection&&(c=getSelection(),b=c.anchorNode),!b&&document.selection&&document.selection.createRange&&"None"!=document.selection.type){c=document.selection;var d=c.getRangeAt?c.getRangeAt(0):c.createRange();b=d.commonAncestorContainer?d.commonAncestorContainer:d.parentElement?d.parentElement():d.item(0)}return!!b&&a("#text"==b.nodeName?b.parentNode:b)};Z.unbind("click").click(function(b){"displaysource"!=a(this).data("command")||F.data("sourceOpened")?(F.data("sourceOpened")?(F.data("sourceOpened",!1),F.find("."+i.css+"_tool").removeClass(i.css+"_hiddenField"),P.addClass(i.css+"_hiddenField"),H.removeClass(i.css+"_hiddenField")):"linkcreator"==a(this).data("command")?F.data("linkOpened")?(m(!1),u(!1)):h():"formats"==a(this).data("command")?("formats"!=a(this).data("command")||a(b.target).hasClass(i.css+"_format")||t(),q("",!1),H.not(":focus")&&H.focus()):"fSize"==a(this).data("command")||"colors"==a(this).data("command")?(("fSize"==a(this).data("command")&&!a(b.target).hasClass(i.css+"_fontsize")||"colors"==a(this).data("command")&&!a(b.target).hasClass(i.css+"_color"))&&p(a(this).data("command")),u(!1),H.not(":focus")&&H.focus()):(H.not(":focus")&&H.focus(),c(a(this).data("command"),null),q("",!1),u(!1),n(),1!=a(this).data("emphasis")||a(this).hasClass(I)?a(this).removeClass(I):a(this).addClass(I),P.addClass(i.css+"_hiddenField"),H.removeClass(i.css+"_hiddenField")),i.placeholder&&""!=i.placeholder&&(""!=H.html()?Y.hide():Y.show())):(F.find("."+i.css+"_tool").addClass(i.css+"_hiddenField"),a(this).removeClass(i.css+"_hiddenField"),F.data("sourceOpened",!0),B.css("height",H.outerHeight()),P.removeClass(i.css+"_hiddenField"),H.addClass(i.css+"_hiddenField"),B.focus(),m(!1),q("",!1),u(),i.placeholder&&""!=i.placeholder&&Y.hide()),H.trigger("change")}).hover(function(b){if(i.title&&""!=a(this).data("title")&&(a(b.target).hasClass(i.css+"_tool")||a(b.target).hasClass(i.css+"_tool_icon"))){a("."+i.css+"_title").remove(),E.append('<div class="'+i.css+'_title"><div class="'+i.css+'_titleArrow"><div class="'+i.css+'_titleArrowIcon"></div></div><div class="'+i.css+'_titleText">'+a(this).data("title")+"</div></div>");var c=a("."+i.css+"_title:first"),d=(c.find("."+i.css+"_titleArrowIcon"),a(this).position()),e=d.left+a(this).outerWidth()-c.outerWidth()/2-a(this).outerWidth()/2,f=d.top+a(this).outerHeight()+5;c.delay(400).css({top:f,left:e}).fadeIn(200)}},function(){a("."+i.css+"_title").remove()});var ca=null;H.bind("keypress keyup keydown drop cut copy paste DOMCharacterDataModified DOMSubtreeModified",function(){F.data("sourceOpened")||a(this).trigger("change"),n(),a.isFunction(i.change)&&i.change(),i.placeholder&&""!=i.placeholder&&(""!=a(this).text()?Y.hide():Y.show())}).bind("change",function(){F.data("sourceOpened")||(clearTimeout(ca),ca=setTimeout(x,10))}).keydown(function(a){if(a.ctrlKey)for(var b=0;b<k.length;b++)if(i[k[b].name]&&a.keyCode==k[b].key.charCodeAt(0))return""!=k[b].command&&"linkcreator"!=k[b].command?c(k[b].command,null):"linkcreator"==k[b].command&&h(),!1}).bind("mouseup keyup",A).focus(function(){if(a.isFunction(i.focus)&&i.focus(),E.addClass(i.css+"_focused"),/opera/.test(j)){var b=document.createRange();b.selectNodeContents(H[0]),b.collapse(!1);var c=window.getSelection();c.removeAllRanges(),c.addRange(b)}}).focusout(function(){Z.removeClass(I),q("",!1),u(!1),n(),a.isFunction(i.blur)&&i.blur(),E.removeClass(i.css+"_focused"),a.isArray(i.formats)&&v(i.formats[0][1])}),B.bind("keydown keyup",function(){setTimeout(y,0),a(this).height(a(this)[0].scrollHeight),""==a(this).val()&&a(this).height(0)}).focus(function(){E.addClass(i.css+"_focused")}).focusout(function(){E.removeClass(i.css+"_focused")})}else if(a(this).closest("."+i.css).length>0){var da=a(this).closest("."+i.css).find("."+i.css+"_editor").html(),Q="";a(a(this)[0].attributes).each(function(){"style"!=this.nodeName&&(Q=Q+" "+this.nodeName+'="'+this.nodeValue+'"')});var C=a(this).is("[data-origin]")&&""!=a(this).attr("data-origin")?a(this).attr("data-origin"):"textarea",ea=">"+da;"input"!=C&&"option"!=C||(da=da.replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),ea='value="'+da+'">');var fa=a(this).clone();a(this).data("jqte",!1).closest("."+i.css).before(fa).remove(),fa.replaceWith("<"+C+Q+ea+"</"+C+">")}})}}(jQuery),function(a){var b=function(b,d){if(this.element=a(b),this.format=c.parseFormat(d.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=a(c.template).appendTo("body").on({click:a.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on"),this.isInput?this.element.on({focus:a.proxy(this.show,this),keyup:a.proxy(this.update,this)}):this.component?this.component.on("click",a.proxy(this.show,this)):this.element.on("click",a.proxy(this.show,this)),this.minViewMode=d.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=d.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=d.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=d.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};b.prototype={constructor:b,show:function(b){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),a(window).on("resize",a.proxy(this.place,this)),b&&(b.stopPropagation(),b.preventDefault()),this.isInput;var c=this;a(document).on("mousedown",function(b){0===a(b.target).closest(".datepicker").length&&c.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),a(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||a(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var a=c.formatDate(this.date,this.format);this.isInput?this.element.prop("value",a):(this.component&&this.element.find("input").prop("value",a),this.element.data("date",a))},setValue:function(a){this.date="string"==typeof a?c.parseDate(a,this.format):new Date(a),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var a=this.component?this.component.offset():this.element.offset();this.picker.css({top:a.top+this.height,left:a.left})},update:function(a){this.date=c.parseDate("string"==typeof a?a:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var a=this.weekStart,b="<tr>";a<this.weekStart+7;)b+='<th class="dow">'+c.dates.daysMin[a++%7]+"</th>";b+="</tr>",this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a="",b=0;b<12;)a+='<span class="month">'+c.dates.monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").append(a)},fill:function(){var a=new Date(this.viewDate),b=a.getFullYear(),d=a.getMonth(),e=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(c.dates.months[d]+" "+b);var f=new Date(b,d-1,28,0,0,0,0),g=c.getDaysInMonth(f.getFullYear(),f.getMonth());f.setDate(g),f.setDate(g-(f.getDay()-this.weekStart+7)%7);var h=new Date(f);h.setDate(h.getDate()+42),h=h.valueOf();for(var i,j,k,l=[];f.valueOf()<h;)f.getDay()===this.weekStart&&l.push("<tr>"),i=this.onRender(f),j=f.getFullYear(),k=f.getMonth(),k<d&&j===b||j<b?i+=" old":(k>d&&j===b||j>b)&&(i+=" new"),f.valueOf()===e&&(i+=" active"),l.push('<td class="day '+i+'">'+f.getDate()+"</td>"),f.getDay()===this.weekEnd&&l.push("</tr>"),f.setDate(f.getDate()+1);this.picker.find(".datepicker-days tbody").empty().append(l.join(""));var m=this.date.getFullYear(),n=this.picker.find(".datepicker-months").find("th:eq(1)").text(b).end().find("span").removeClass("active");m===b&&n.eq(this.date.getMonth()).addClass("active"),l="",b=10*parseInt(b/10,10);var o=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");b-=1;for(var p=-1;p<11;p++)l+='<span class="year'+(-1===p||10===p?" old":"")+(m===b?" active":"")+'">'+b+"</span>",b+=1;o.html(l)},click:function(b){b.stopPropagation(),b.preventDefault();var d=a(b.target).closest("span, td, th");if(1===d.length)switch(d[0].nodeName.toLowerCase()){case"th":switch(d[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+c.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+c.modes[this.viewMode].navFnc].call(this.viewDate)+c.modes[this.viewMode].navStep*("prev"===d[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(d.is(".month")){var e=d.parent().find("span").index(d);this.viewDate.setMonth(e)}else{var f=parseInt(d.text(),10)||0;this.viewDate.setFullYear(f)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(d.is(".day")&&!d.is(".disabled")){var g=parseInt(d.text(),10)||1,h=this.viewDate.getMonth();d.is(".old")?h-=1:d.is(".new")&&(h+=1);var i=this.viewDate.getFullYear();this.date=new Date(i,h,g,0,0,0,0),this.viewDate=new Date(i,h,Math.min(28,g),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:c.modes[this.viewMode].clsName})}}},mousedown:function(a){a.stopPropagation(),a.preventDefault()},showMode:function(a){a&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+a))),this.picker.find(">div").hide().filter(".datepicker-"+c.modes[this.viewMode].clsName).show()}},a.fn.datepicker=function(c,d){return this.each(function(){var e=a(this),f=e.data("datepicker"),g="object"==typeof c&&c;f||e.data("datepicker",f=new b(this,a.extend({},a.fn.datepicker.defaults,g))),"string"==typeof c&&f[c](d)})},a.fn.datepicker.defaults={onRender:function(a){return""}},a.fn.datepicker.Constructor=b;var c={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(a){return a%4==0&&a%100!=0||a%400==0},getDaysInMonth:function(a,b){return[31,c.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},parseFormat:function(a){var b=a.match(/[.\/\-\s].*?/),c=a.split(/\W+/);if(!b||!c||0===c.length)throw new Error("Invalid date format.");return{separator:b,parts:c}},parseDate:function(a,b){var d,e=a.split(b.separator),f=new Date;if(f.setHours(0),f.setMinutes(0),f.setSeconds(0),f.setMilliseconds(0),e.length===b.parts.length){for(var g,h=f.getFullYear(),i=f.getDate(),j=f.getMonth(),k=0,l=b.parts.length;k<l;k++)switch(g=isNaN(parseInt(e[k],10)),d=g?c.getMonthIdx(e[k]):parseInt(e[k],10),b.parts[k]){case"dd":case"d":i=d,f.setDate(d);break;case"mm":case"m":j=d-1,f.setMonth(d-1);break;case"yy":h=2e3+d,f.setFullYear(2e3+d);break;case"yyyy":h=d,f.setFullYear(d);break;case"mName":j=d,f.setMonth(d)}f=new Date(h,j,i,0,0,0)}return f},formatDate:function(a,b){var d={d:a.getDate(),m:a.getMonth()+1,yy:a.getFullYear().toString().substring(2),yyyy:a.getFullYear(),mName:c.dates.months[a.getMonth()].substring(0,3)};d.dd=(d.d<10?"0":"")+d.d,d.mm=(d.m<10?"0":"")+d.m;for(var e=[],f=0,g=b.parts.length;f<g;f++)e.push(d[b.parts[f]]);return e.join(b.separator)},getMonthIdx:function(a){for(var b=0,d=c.dates.months.length;b<d;b++)if(c.dates.months[b].indexOf(a)>-1)return b},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};c.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+c.headTemplate+'<tbody></tbody></table></div><div class="datepicker-months"><table class="table-condensed">'+c.headTemplate+c.contTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+c.headTemplate+c.contTemplate+"</table></div></div>"}(window.jQuery);var colorPalette={selectedColor:{
bg:"none",fg:"none"},createPalette:function(a){var b=a.containerID||null,c=a.backgrounds||null,d=a.foregrounds||null,e=a.onColorSelect||null;this.params=a;var f,g=$("#"+b);if(c){var h=this.createPaletteButton(b+"BgBtn",c,"bg");g.append(h),f=$("<i>"),f.attr("id","hexError"),f.addClass("dspB error"),g.append(f);var i=this.createLayer(h,c,b);$("body").append(i)}if(d){var j=this.createPaletteButton(b+"FgBtn",c,"fg");g.append(j);var k=this.createLayer(j,d,b);$("body").append(k)}this.handelShowHide(b,h,j,i,k,e),window.onresize=function(){i&&i.removeClass("dspB"),k&&k.removeClass("dspB")}},createPaletteButton:function(a,b,c){var d=$("<div>");d.attr("id",a),d.addClass("clrBtn");var e=$("<span>");if("bg"==c){if(this.params.userInput){var f=$("<input>");if(f.attr("type","text").addClass("txtBtn").attr("placeholder","Select").prop("disabled",this.params.isInputDisable?"disabled":"").css("background","#ffffff"),this.params.userInput.preFill&&f.val(this.params.userInput.preFill),f.on("focus",function(a){g.css({display:"inline-block"})}),e.addClass("iptPaltCont").append(f),this.params.userInput.save){var g=$("<span>");g.css({display:"none"}).addClass("linkCont");var h=$("<a>");h.html("Reset"),h.addClass("cancelCol"),h.attr("href","javascript:;"),h.attr("data-prefill",this.params.userInput.preFill),h.css({"margin-left":"5px"}),saveLnk=$("<a>"),saveLnk.html("Apply"),saveLnk.attr("id",this.params.userInput.save),saveLnk.attr("href","javascript:;"),g.append(saveLnk),g.append(h)}}else e.html("Background ");d.attr("rel","bg")}else"fg"==c&&(e.html("Foreground "),d.attr("rel","fg"));var i=$("<em>");if(i.addClass("demoColor"),"bg"==c){var j=$(".bg").css("backgroundColor"),k="none";(""!=j||null!=j||"undefined"!=j)&&(k=j),i.css({background:this.params.userInput.preFill?this.params.userInput.preFill:k}),colorPalette.selectedColor.bg=this.rgbToHex(k)}if("fg"==c){var l=$(".fg").eq(0).currObj().style.backgroundColor,k="none";(""!=l||null!=l||"undefined"!=l)&&(k=l),i.css({background:k}),colorPalette.selectedColor.fg=this.rgbToHex(k)}var m=$("<span>");return m.addClass("arwCls"),d.append(e),d.append(i),d.append(m),g&&$("#"+this.params.containerID).append(g),d},colorLuminance:function(a,b){a=String(a).replace(/[^0-9a-f]/gi,""),a.length<6&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),b=b||0;var c,d,e="#";for(d=0;d<3;d++)c=parseInt(a.substr(2*d,2),16),c=Math.round(Math.min(Math.max(0,c+c*b),255)).toString(16),e+=("00"+c).substr(c.length);return e},createLayer:function(a,b,c){var d=$("<div>");d.attr("id",a.attr("id")+"_lay"),d.addClass("pLayer");for(var e=$("<ul>"),f=0;f<b.length;f++){var g=$("<li>"),h=$("<a>");"none"==b[f]?(h.css({background:"none"}),h.html("N/A")):h.css({background:"#"+b[f]}),h.attr("href","javascript:void(0)"),h.attr("rel",f),g.append(h),e.append(g)}return d.append(e),d},handelShowHide:function(a,b,c,d,e,f){var g=this;$("body").on("click",function(a){var c=a.target?a.target:a.srcElement;try{if("pCont"==c.parentNode.parentNode.id||"pContBgBtn"==c.id||"INPUT"==c.nodeName||c.id==b.attr("id")||c.parentNode.id==b.attr("id")||c.id==d.attr("id")||c.parentNode.id==d.attr("id")||c.parentNode.parentNode.id==d.attr("id")||c.parentNode.parentNode.parentNode.id==d.attr("id"));else{$(".pLayer").removeClass("dspB"),$("#pCont").find(".linkCont").hide()}}catch(a){}}),b&&(b.on("click",function(){colorPalette.handelClick(a,b,d,f)}),b.on("keydown",function(b){colorPalette.handelKey(b,a,this,d,f)}),this.params.userInput.save&&$("#"+a).find(".linkCont a").on("click",function(c){var e=$(this);"cancelCol"!=$.trim(e.attr("class"))&&"savCol"!=e.attr("id")?($("#pCont").find(".linkCont").hide(),g.handelPaletteClick(a,b,d,f,!0)):("cancelCol"==$.trim(e.attr("class"))&&$("#pContBgBtn input").val($(e).attr("data-prefill")),g.handelPaletteClick(a,b,d,f,!0))})),c&&(c.on("click",function(){colorPalette.handelClick(a,c,e,f)}),c.on("keydown",function(b){colorPalette.handelKey(b,a,this,e,f)}))},handelClick:function(a,b,c,d){var e=b.offset(),f=$(".pLayer"),g=!1;if(g=!!c.hasClass("dspB"),f.removeClass("dspB"),g)c.removeClass("dspB");else{c.addClass("dspB"),c.css({left:e.left+"px"}),c.css({top:e.top+b.height()+"px"});c.find("a").each(function(){$(this).unbind("click").click(function(){$("#pCont").find(".linkCont").hide(),colorPalette.handelPaletteClick($(this),b,a,d)})})}},handelKey:function(a,b,c,d){var e,c=$(c);if(40==(e=a.which?a.which:a.keyCode)&&"dspB"==d.hasClass("dspB")){var f=d.find("a");this.handelHighlight(f.eq(0));for(var g=0;g<f.length;g++)f.eq(g).on("keydown",function(a){colorPalette.handelPaletteKey(a,this,f,b,c)});this.preventDefaultAction(a)}else if(9==e||27==e){var h=$(".pLayer");h.removeClass("dspB")}},handelPaletteKey:function(a,b,c,d,e){var f,g=$(b),h=parseInt(g.attr("rel"));if(27==(f=a.which?a.which:a.keyCode)){e.setFocus();$(".pLayer").removeClass("dspB")}else if(37==f)h-1<0?this.handelHighlight(c.eq(c.length-1)):this.handelHighlight(c.eq(h-1)),this.preventDefaultAction(a);else if(38==f){if(h-6<0){var i=6*Math.ceil(c.length/6)+(h-6);i>c.length-1?this.handelHighlight(c.eq(i-6)):this.handelHighlight(c.eq(i))}else this.handelHighlight(c.eq(h-6));this.preventDefaultAction(a)}else if(39==f)h+1>c.length-1?this.handelHighlight(c.eq(0)):this.handelHighlight(c.eq(h+1)),this.preventDefaultAction(a);else if(40==f){if(h+6<c.length)this.handelHighlight(c.eq(h+6));else{var i=h%6;this.handelHighlight(c.eq(i))}this.preventDefaultAction(a)}else 9===f?a.shiftKey?0==h?(this.preventDefaultAction(a),h=c.length-1,this.handelHighlight(c.eq(h))):this.handelHighlight(c.eq(h),c.eq(h-1)):h==c.length-1?(this.preventDefaultAction(a),h=0,this.handelHighlight(c.eq(h))):this.handelHighlight(c.eq(h),c.eq(h+1)):32==f&&(c.eq(h).currObj().click(),this.preventDefaultAction(a))},handelPaletteClick:function(a,b,c,d,e){var f=this.params,g=f.userInput&&e?this.HextoRgb(b.find("input").val()):a.css("backgroundColor");if($("#hexError").html(""),g&&this.validateHex(this.rgbToHex(g))){b.find("em").css({background:g}),this.params.userInput&&b.find("input").val(this.rgbToHex(g));var h=$(".pLayer");h.removeClass("dspB"),this.changeColor(g,b.attr("rel")),d(colorPalette.selectedColor),b.focus()}else{var h=$(".pLayer");h.removeClass("dspB"),$("#hexError").html("Enter Valid Hexadecimal Code")}},changeColor:function(a,b){if("bg"==b){var c,d=$(".changeColor_1");$(".bg").css({background:a}),$(".bdr").css({borderColor:a}),colorPalette.selectedColor.bg=this.rgbToHex(a),d.length&&(c=this.colorLuminance(colorPalette.selectedColor.bg,.2),d.css({background:c}),$("#foregrcolor").val(c.split("#")[1]))}else"fg"==b&&($(".fg").css({background:a}),colorPalette.selectedColor.fg=this.rgbToHex(a))},validateHex:function(a){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a)},preventDefaultAction:function(a){return a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0,a.returnValue=!1,!1},handelHighlight:function(a,b){b?("sel"==b.hasClass("sel")||b.addClass("sel"),b.on("blur",function(){b.removeClass("sel")})):(a.setFocus(),"sel"==a.hasClass("sel")||a.addClass("sel"),a.on("blur",function(){a.removeClass("sel")}))},rgbToHex:function(a){if(a){if("#"===a.substr(0,1))return a;var b=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(a),c=parseInt(b[2]),d=parseInt(b[3]),e=parseInt(b[4]),f=e|d<<8|c<<16;return b[1]+"#"+(16777216|f).toString(16).substring(1)}},HextoRgb:function(a){var b=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return b?"rgb("+parseInt(b[1],16)+", "+parseInt(b[2],16)+", "+parseInt(b[3],16)+")":null}};!function(a){a.fn.suggest_dropdown=function(b){var c=b.url,d=b.liClick,e=this,f=b.maxHeight,g=!!b.data&&b.data,h=!1,i=!1,j=!1,k=!1,l=!!b.prefillData&&b.prefillData,m=b.sortPrefix?b.sortPrefix:"",n=function(){e.dropCont=a('<div class="suggestCont" id="sugDrp_'+e.attr("id")+'">'),e.scrollContainer=a('<div class="nScroll" style="max-height:'+f+'px"><</div>'),ulDrop=a('<ul class="Sdrop"></ul>'),e.scrollContainer.html(ulDrop),e.dropCont.html(e.scrollContainer),e.append(e.dropCont),e.find(".suggestCont").css({width:e.searchInput.outerWidth()+"px"})},o=function(b){e.searchInput.val(a(this).text()),e.hdnInput.val(a(this).data("id").split(m)[1]),e.dropCont.removeClass("showLayer"),i={id:a(this).data("id").split(m)[1],name:a(this).text()},d()},p=function(b){var c=b.keyCode||b.which,d=a(this);setTimeout(function(){(c>=48&&c<90||c>=97&&c<=122||16==c||188==c||8==c)&&u(d)},700)},q=function(b){var c=b.keyCode||b.which;if(40==c)s(b),t(e.dropCont.find("ul").parent(),e.curElm);else if(38==c)r(b),t(e.dropCont.find("ul").parent(),e.curElm);else if(13==c)e.curElm.click();else if(9==c){if(i&&a.trim(e.searchInput.val())){var d=z(j,e.searchInput.val());e.hdnInput.val(d||i.id),e.searchInput.val(d?j[m+d]:i.name)}e.dropCont.removeClass("showLayer")}},r=function(a){e.curElm?(e.curElm.removeClass("suggTupleActive"),e.curElm.prev().length?(e.curElm.prev().addClass("suggTupleActive"),e.curElm=e.curElm.prev()):(e.dropCont.find("li:last").addClass("suggTupleActive"),e.curElm=e.dropCont.find("li:last"))):(e.dropCont.find("li:last").addClass("suggTupleActive"),e.curElm=e.dropCont.find("li:first"))},s=function(a){e.curElm?(e.curElm.removeClass("suggTupleActive"),e.curElm.next().length?(e.curElm.next().addClass("suggTupleActive"),e.curElm=e.curElm.next()):(e.dropCont.find("li:first").addClass("suggTupleActive"),e.curElm=e.dropCont.find("li:first"))):e.dropCont.find("li:first").hasClass("noData")||(e.dropCont.find("li:first").addClass("suggTupleActive"),e.curElm=e.dropCont.find("li:first"))},t=function(a,b){if(b&&b.length){var c,d=a.height(),e=a.scrollTop(),f=d+e,g=b.position().top+a.scrollTop(),h=g+b.outerHeight();return h>=f?(c=h-d>0?h-d:0,a.scrollTop(c)):g<a.scrollTop()&&(c=g,a.scrollTop(c)),c}},u=function(b){var c=b.val();c?a.trim(c).length>=2&&c!==k&&(B(c),k=c):(C(g,c),D())},v=function(a){var b=a?w(a):g;C(b,a),D()},w=function(b){var c={},d=a.isEmptyObject(j)?g:j;for(var e in d)d[e].toLowerCase().indexOf(b.toLowerCase())>-1&&(c[e]=d[e]);return c},x=function(b){var c=a(this).val();h||a.trim(c)?!a.trim(c)||k&&k.toLowerCase()==c.toLowerCase()?v(a.trim(c)):B(c):B("")},y=function(b){var c=a.trim(a(this).val()),d=z(j,c);d?(e.searchInput.val(j[m+d]),e.hdnInput.val(d),i={id:d,name:j[m+d]}):(e.searchInput.val(i?i.name:""),e.hdnInput.val(i?i.id:""))},z=function(b,c){var d=b,e=!1;for(var f in d)if(a.trim(d[f].toString().toLowerCase())==a.trim(c.toLowerCase())){e=f.split(m)[1];break}return e},A=function(c,d){var e="";if(a.isEmptyObject(c))e+='<li class="noData active">'+b.noText+"</li>";else for(var f in c)e+='<li data-id="'+f+'" class="sugTuple">'+c[f]+"</li>";return e},B=function(b){a.ajax({type:"POST",url:c,data:{searchText:b},beforeSend:function(){},success:function(c){if(c.constructor===String&&(c=a.parseJSON(c)),c.status&&c.url)return void(window.location.href=c.url);j=c.data,a.trim(b)||(h=!0),C(c.data,b),D()},error:function(){},complete:function(){}})},C=function(a,b){var c=A(a);e.find(".Sdrop").html(c),customScroll.init()},D=function(){e.dropCont.css({width:e.searchInput.outerWidth()+"px"}),e.dropCont.addClass("showLayer")};return function(){e.searchInput=e.find(".searchText"),e.searchInput.focus(x).keyup(p).keydown(q).blur(y),e.hdnInput=a("<input>"),e.hdnInput.attr({type:"hidden",id:"hid_"+e.attr("id"),name:e.searchInput.attr("name")}),e.find(".inpWrap").append(e.hdnInput),e.searchInput.attr("name",""),l&&(e.searchInput.val(l.value),e.hdnInput.val(l.key)),n(),e.dropCont.on("mouseover",".sugTuple, strong",function(){a(this).hasClass("sugTuple")?a(this).addClass("suggTupleActive"):a(this).is("strong")&&a(this).parent().addClass("suggTupleActive"),e.curElm&&e.curElm.removeClass("suggTupleActive"),e.curElm=a(this)}).mouseout(function(b){e.curElm=void 0,a(this).find(".suggTupleActive").removeClass("suggTupleActive")}),e.dropCont.on("click",".sugTuple",o),g&&(C(g,""),h=!0,j=g),a(document).on("click",function(b){a(b.target).parents(".suggestDdn").length||e.dropCont.removeClass("showLayer")})}(),e.prefillData=function(a,b){i=!1,j=g=a,b&&(e.hdnInput.val(b.key),e.searchInput.val(b.value)),C(a,"")},e}}(window.jQuery);var tarun1="Jenkin-Test-1";$.fn.gLoader=function(){var a={meta:{obj:$(this),srlW:0},block:function(){var b=a;b.meta.srlW=b.scrollbarWidth(),b.appendGL(),b.styleIE7n8()},unblock:function(){var b=a;b.meta.obj.each(function(){var a=$(this),c=$(this).find("> #gL");c.hide(),a.css({position:b.meta.obj.attr("cssProp").split(",")[0],overflow:b.meta.obj.attr("cssProp").split(",")[1]}),c.remove()})},appendGL:function(){var b=a,c=$("<div>").attr({id:"gL"});b.meta.obj.each(function(){var a=$(this),d=b.objW(a),e=b.objH(a);if(0===a.find("> #gL").length){var f=c.clone();b.setClass(a,f),a.attr({cssProp:a.css("position")+","+a.css("overflow")}),a.css({position:"relative",overflow:"hidden"}).append(f.css({width:d+b.srlW+"px",height:e+"px",top:b.scrollTop(a)+"px"}).fadeIn()),$(window).on("resize",function(){b.resize()}),$(window).on("scroll",function(a){b.resize()})}})},objW:function(a){return"body"==a.get(0).nodeName.toLowerCase()?$(window).width():$(a).outerWidth()},objH:function(a){return"body"==a.prop("tagName").toLowerCase()?$(window).height():$(a).outerHeight()},scrollbarWidth:function(){var a,b,c;return void 0===c&&(a=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),b=a.children(),c=b.innerWidth()-b.height(99).innerWidth(),a.remove()),c},scrollTop:function(a){return"body"==a.prop("tagName").toLowerCase()?$(window).scrollTop():a.scrollTop()},setClass:function(b,c){var d=a,e=d.objW(b),f=d.objH(b),g="nLoader45";e>0&&f>0&&(e<=100||f<=100)?g="nLoader20":e>100&&f>100&&(e<=400||f<=400)&&(g="nLoader20"),c.removeClass(function(a,b){return(b.match(/gLoader\S+/g)||[]).join(" ")}).addClass(g)},resize:function(){var b=a;b.meta.obj.each(function(){var a=$(this),c=(b.objW(a),b.objH(a),null);0!==a.find("> #gL").length&&(c=a.find("> #gL"),b.setClass(a,c),c.css({width:b.objW(a)+b.srlW+"px",height:b.objH(a)+"px",top:b.scrollTop(a)+"px"}))})},styleIE7n8:function(){$("head").append('\x3c!--[if lt IE 9]><style type="text/css">.gLoader60,.gLoader50,.gLoader30,.gLoader15,.gLoader10,.nLoader20,.nLoader45{background-color:#fff; filter:alpha(opacity=80);}</style><![endif]--\x3e')}};return{block:a.block,unblock:a.unblock,resize:a.resize}};