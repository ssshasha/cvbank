!function(){"use strict";var e="RESET",t="ADD_PENDINGEVENT",n="REMOVE_PENDINGEVENT",r="UPDATE_PENDINGEVENT_STATUS",o="UPDATE_SUPERPROPS",a="RESET_SUPERPROPS",i="SET_BLACKLIST_EVENTNAMES",u="START_EVENT_QUEUE",s="FLUSH_EVENT_QUEUE",c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},p=function(e){return{type:n,payload:{eventId:e}}},h=function(e){return{type:i,payload:{eventNames:e}}},y=null,b=function(){return y},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};b().dispatch({type:o,payload:{properties:e}})},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b().dispatch({type:t,payload:v({eventName:e},n)})},g=Object.freeze({register:E,unRegister:function(){b().dispatch({type:a})},track:m,onRouteChange:function(){var e=new XMLHttpRequest;e.open("GET","/commonConfig"),e.setRequestHeader("Accept","application/json"),e.send(),e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(e.response).blackList;b().dispatch(h(t)),b().dispatch({type:s})}},b().dispatch({type:u})}}),I="ub",N=function(e){return e+"_"+I},w=function(e,t){var n,r;n=e,r=t,localStorage.setItem(N(n),JSON.stringify(r))},S=function(e){return t=e,JSON.parse(localStorage.getItem(N(t)));var t},O=function(e){var t;t=e,localStorage.removeItem(N(t))};var j=function(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},T=4,R=3,P=0,k={version:T,deviceId:"",eventId:"",eventName:"",pendingEvents:[],events:{},superProps:{deviceType:"WEB",screenReso:window.screen.width+"x"+window.screen.height,url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer),pageName:"",appId:0,eventName:"",eventId:"",timestamp:0,refEventName:"",refEventId:"",uniqueDid:"",loginStatus:null},blackListedEventNames:[],flush_queue:!0,queuedEvents:[]},q=function(){return j("_t_ds")||function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}()},_=function(){var c,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,p=arguments[1];switch(p.type){case e:return v({},k,{deviceId:q()});case"REHYDRATE":var h=p.payload.deviceId;return h||(h=q()),v({},d,p.payload,{deviceId:h});case t:var y=d.pendingEvents,b=d.queuedEvents,E=(new Date).getTime(),m=d.deviceId+"-"+E,g=(c=m,S("uniqueDid")||(w("uniqueDid",c),c)),I=window.location.hostname,N=void 0,O=null;return I.search("naukri.com")>-1?N=1:I.search("naukrigulf.com")>-1?N=2:I.search("firstnaukri.com")>-1&&(N=3),1==N&&(O=function(e){switch(e){case 1:return!(!j("NKWAP")&&!j("nauk_at"))}}(N)),d.flush_queue?-1==d.blackListedEventNames.indexOf(p.payload.eventName)&&(y=[].concat(l(d.pendingEvents),[m])):b=[].concat(l(d.queuedEvents),[m]),d.flush_queue?y!=d.pendingEvents?v({},d,{eventId:m,eventName:p.payload.eventName,events:v({},d.events,f({},m,{status:P,data:v({url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer)},d.superProps,{timestamp:E,eventId:m,refEventId:d.eventId,refEventName:d.eventName,uniqueDid:g,loginStatus:O},p.payload)})),pendingEvents:y}):d:v({},d,{events:v({},d.events,f({},m,{status:P,data:v({url:encodeURIComponent(document.location.href),referrer:encodeURIComponent(document.referrer)},d.superProps,{timestamp:E,eventId:m,refEventId:"",refEventName:""},p.payload)})),queuedEvents:b});case r:return v({},d,{events:v({},d.events,f({},p.payload.eventId,v({},d.events[p.payload.eventId],{status:p.payload.status})))});case n:var T=v({},d.events);return delete T[p.payload.eventId],v({},d,{events:T,pendingEvents:d.pendingEvents.filter(function(e){return e!=p.payload.eventId})});case o:return v({},d,{superProps:v({},d.superProps,p.payload.properties)});case a:return v({},d,{superProps:k.superProps});case i:return v({},d,{blackListedEventNames:p.payload.eventNames});case u:return v({},d,{flush_queue:!1});case s:var R,_=d.eventId,L=d.eventName,U=d.events;return(R=d.queuedEvents.filter(function(e){return-1==d.blackListedEventNames.indexOf(U[e].data.eventName)})).forEach(function(e){U[e].data.refEventId=_,U[e].data.refEventName=L,_=U[e].data.eventId,L=U[e].data.eventName}),v({},d,{eventId:_,eventName:L,flush_queue:!0,pendingEvents:[].concat(l(d.pendingEvents),l(R)),events:U,queuedEvents:k.queuedEvents});default:return d}},L=null,U=null,A=1,x="",D=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A,o=JSON.stringify(e);if(n==A)if(navigator.sendBeacon)navigator.sendBeacon(x,o),b().dispatch(p(e.eventId));else{var a=new Image;a.src=x+"?data="+o,a.onload=function(){b().dispatch(p(e.eventId))},document.body.appendChild(a),b().dispatch((t=e.eventId,{type:r,payload:{eventId:t,status:R}}))}},C="object"==typeof global&&global&&global.Object===Object&&global,V="object"==typeof self&&self&&self.Object===Object&&self,H=(C||V||Function("return this")()).Symbol,K=Object.prototype,M=K.hasOwnProperty,W=K.toString,B=H?H.toStringTag:void 0;var F=Object.prototype.toString;var G="[object Null]",J="[object Undefined]",z=H?H.toStringTag:void 0;function Q(e){return null==e?void 0===e?J:G:z&&z in Object(e)?function(e){var t=M.call(e,B),n=e[B];try{e[B]=void 0}catch(e){}var r=W.call(e);return t?e[B]=n:delete e[B],r}(e):(t=e,F.call(t));var t}var Y,X,Z=(Y=Object.getPrototypeOf,X=Object,function(e){return Y(X(e))});var $,ee="[object Object]",te=Function.prototype,ne=Object.prototype,re=te.toString,oe=ne.hasOwnProperty,ae=re.call(Object);$="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var ie,ue,se=("function"==typeof(ue=$.Symbol)?ue.observable?ie=ue.observable:(ie=ue("observable"),ue.observable=ie):ie="@@observable",ie),ce={INIT:"@@redux/INIT"};function de(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(de)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var o=e,a=t,i=[],u=i,s=!1;function c(){u===i&&(u=i.slice())}function d(){return a}function f(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return c(),u.push(e),function(){if(t){t=!1,c();var n=u.indexOf(e);u.splice(n,1)}}}function v(e){if(!function(e){if(null==(t=e)||"object"!=typeof t||Q(e)!=ee)return!1;var t,n=Z(e);if(null===n)return!0;var r=oe.call(n,"constructor")&&n.constructor;return"function"==typeof r&&r instanceof r&&re.call(r)==ae}(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(s)throw new Error("Reducers may not dispatch actions.");try{s=!0,a=o(a,e)}finally{s=!1}for(var t=i=u,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:ce.INIT}),(r={dispatch:v,subscribe:f,getState:d,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");o=e,v({type:ce.INIT})}})[se]=function(){var e,t=f;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[se]=function(){return this},e},r}var fe=function(){function e(t){var n=t.store,r=void 0===n?{}:n,o=t.blackListed,a=void 0===o?[]:o,i=t.autoRehydrate,u=void 0===i||i;c(this,e),this.store=r,this.blackListed=a,u&&this.rehydrate()}return d(e,[{key:"getWhiteListedKeys",value:function(e,t){var n=this;return Object.keys(e).filter(function(e){return-1==n.blackListed.indexOf(e)})}},{key:"subscribe",value:function(){var e=this,t=this.store.getState();this.getWhiteListedKeys(t,this.blackListed).filter(function(n){return e.prevState[n]!=t[n]}).forEach(function(e){w(e,t[e])}),this.prevState=t}},{key:"rehydrate",value:function(){var e=null,t={},n=this.store.getState();if(this.getWhiteListedKeys(n,this.blackListed).forEach(function(e){S(e)&&(t[e]=S(e))}),t.version&&t.version<T){var r=Object.keys(n);setTimeout(function(){r.forEach(function(e){O(e)})},0),e={}}else e=t;this.prevState=e,this.store.dispatch({type:"REHYDRATE",payload:e})}}]),e}(),ve=Object.freeze({reset:function(){b().dispatch({type:e})},init:function(e){var t=e.queuedSuperProps,n=void 0===t?[]:t,r=e.queuedEvents,o=void 0===r?[]:r,a=e.blackList,i=void 0===a?[]:a,u=e.beaconUrl,s=void 0===u?"":u,c=void 0;c=de(_,void 0),y=c;var d=new fe({store:c,blackListed:["pendingEvents","events","superProps","blackListedEventNames","flush_queue","queuedEvents"],autoRehydrate:!0});c.subscribe(function(){d.subscribe(),U=b().getState(),L&&U.pendingEvents==L||(L=U.pendingEvents).map(function(e){var t=U.events[e];t&&t.status==P&&D(t.data)})}),x=s;var f={};n.forEach(function(e){f=v({},f,e)}),E(f),b().dispatch(h(i)),o.map(function(e){m.apply(g,l(e))})}});window.ub=v({},ve,g)}();